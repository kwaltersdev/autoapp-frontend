{"version":3,"sources":["components/nav/StockSearchBar.tsx","components/nav/MainMenu.tsx","components/common/flex.tsx","components/common/LoadingFullPage.tsx","hooks.ts","services/demo.ts","components/common/CenteredError.tsx","contexts/DemoContext.tsx","contexts/AuthContext.tsx","components/nav/UserMenu.tsx","components/nav/Nav.tsx","components/app/PrivateRoute.tsx","components/common/cardContent.tsx","components/log-in/LogIn.tsx","components/all-vehicles/StatusFilter.tsx","components/all-vehicles/VehicleOrder.tsx","components/all-vehicles/AddVehicleButton.tsx","components/common/SelectDialog.tsx","components/common/CustomSelect.tsx","components/common/SelectListItem.tsx","components/common/vehicles/YearSelect.tsx","components/common/AddListItem.tsx","types/ServiceResults.ts","services/vehicles.ts","components/common/vehicles/AddMake.tsx","components/common/vehicles/MakeSelect.tsx","components/common/vehicles/AddModel.tsx","components/common/vehicles/ModelSelect.tsx","components/common/vehicles/AddTrim.tsx","components/common/vehicles/TrimSelect.tsx","components/all-vehicles/vehicleListFilters/VehicleDetailFilters.tsx","components/common/DateRangeSelect.tsx","components/common/vehicles/DateAddedSelect.tsx","components/common/vehicles/DateSoldSelect.tsx","components/all-vehicles/vehicleListFilters/DateRangeFilters.tsx","components/all-vehicles/vehicleListFilters/ShowForSaleFilter.tsx","components/all-vehicles/vehicleListFilters/VehicleListFilters.tsx","components/common/LoadingList.tsx","components/common/vehicles/VehicleListItemButton.tsx","components/common/vehicles/VehicleInfo.tsx","components/common/vehicles/VehicleChipGroup.tsx","components/common/vehicles/VehicleChip.tsx","components/all-vehicles/vehicleSummary/ActiveVehicle.tsx","components/common/FormatTime.tsx","components/common/vehicles/SoldVehicleChip.tsx","components/all-vehicles/vehicleSummary/SoldVehicle.tsx","components/common/vehicles/VehicleListItem.tsx","components/all-vehicles/vehicleSummary/DeleteVehicleDialog.tsx","components/all-vehicles/vehicleSummary/TrashedVehicle.tsx","components/all-vehicles/vehicleSummary/VehicleSummary.tsx","components/all-vehicles/ListNavigation.tsx","components/all-vehicles/VehicleList.tsx","components/all-vehicles/ViewFiltersButton.tsx","components/all-vehicles/AllVehicles.tsx","components/common/vehicles/NextStockButton.tsx","components/common/vehicles/StockField.tsx","components/add-vehicle/VehicleInfoInputs.tsx","services/stages.ts","components/common/stages/AddStage.tsx","components/common/stages/StageSelect.tsx","components/common/ShowMoreListItem.tsx","components/common/stages/AddPersonPlace.tsx","components/common/stages/PersonPlaceSelect.tsx","components/common/stages/TaskListInput.tsx","components/add-vehicle/StageAssignInputs.tsx","components/add-vehicle/NotesInput.tsx","components/add-vehicle/AddVehicleButton.tsx","components/add-vehicle/AddVehicleSuccessDialog.tsx","components/add-vehicle/AddVehicleFailureDialog.tsx","components/add-vehicle/AddVehicleInputs.tsx","components/add-vehicle/AddVehicle.tsx","components/vehicle-details/GetVehicleLoading.tsx","components/vehicle-details/ActionMenu.tsx","components/common/DarkTab.tsx","components/vehicle-details/vehicleTabs/stageTab/AssignStageButton.tsx","components/vehicle-details/vehicleTabs/stageTab/AssignStage.tsx","components/vehicle-details/vehicleTabs/stageTab/SellVehicleButtons.tsx","components/vehicle-details/vehicleTabs/stageTab/CompleteStageButton.tsx","components/vehicle-details/vehicleTabs/TabContent.tsx","components/vehicle-details/vehicleTabs/stageTab/CurrentStage.tsx","components/vehicle-details/vehicleTabs/stageTab/DurationStats.tsx","components/vehicle-details/vehicleTabs/stageTab/StageTab.tsx","components/vehicle-details/vehicleTabs/infoTab/EditInfoButtons.tsx","components/vehicle-details/vehicleTabs/infoTab/EditInfo.tsx","components/common/ReadonlyTextField.tsx","components/vehicle-details/vehicleTabs/infoTab/ReadonlyInfo.tsx","components/vehicle-details/vehicleTabs/infoTab/InfoTab.tsx","components/vehicle-details/vehicleTabs/notesTab/EditNotesButtons.tsx","components/vehicle-details/vehicleTabs/notesTab/EditNotes.tsx","components/vehicle-details/vehicleTabs/notesTab/ReadonlyNotes.tsx","components/vehicle-details/vehicleTabs/notesTab/NotesTab.tsx","components/vehicle-details/vehicleTabs/stageHistoryTab/HistoryTitleMenu.tsx","components/vehicle-details/vehicleTabs/stageHistoryTab/StageDetailsDialog.tsx","components/vehicle-details/vehicleTabs/stageHistoryTab/HistoryTable.tsx","components/vehicle-details/vehicleTabs/stageHistoryTab/StageHistoryTab.tsx","components/vehicle-details/vehicleTabs/VehicleTabs.tsx","components/vehicle-details/DetailsDoneButton.tsx","components/vehicle-details/VehicleFailed.tsx","components/vehicle-details/TrashedMessage.tsx","components/vehicle-details/UpdateVehicleLoading.tsx","components/vehicle-details/VehicleDetails.tsx","components/common/AccordionPaper.tsx","components/common/vehicles/NavigateAccordianVehicleList.tsx","components/stages/StageVehicleList.tsx","components/people-places/PersonPlaceVehicleList.tsx","components/common/vehicles/AccordianVehicleList.tsx","components/people-places/PeoplePlaces.tsx","components/stages/ReorderButtons.tsx","components/stages/ReorderStages.tsx","components/stages/Stages.tsx","utilityFunctions/formatTimeText.ts","components/common/DonutChart.tsx","components/analytics/analyticsTabs/overview/OverviewDetailsTable.tsx","components/analytics/analyticsTabs/DetailsButton.tsx","components/analytics/analyticsTabs/overview/OverviewStats.tsx","components/analytics/analyticsTabs/FullNameDialog.tsx","components/analytics/analyticsTabs/StatisticDetails.tsx","services/statistics.ts","components/analytics/analyticsTabs/StagesStats.tsx","components/common/VerticalBarChart.tsx","components/analytics/analyticsTabs/PeoplePlacesStats.tsx","components/analytics/analyticsTabs/AnalyticsTabs.tsx","components/analytics/Analytics.tsx","components/demo-actions/ActionList.tsx","components/demo-actions/DemoDialog.tsx","components/demo-actions/DemoContinueButton.tsx","components/demo-actions/GenerateDemoVehicles.tsx","components/demo-actions/LoadingDemoActions.tsx","components/demo-actions/ActionCheckBoxes.tsx","components/demo-actions/DemoActions.tsx","components/demo-settings/DemoSettings.tsx","components/app/App.tsx","theme.ts","contexts/GlobalContext.tsx","index.tsx"],"names":["StyledInputAdornment","styled","InputAdornment","color","theme","titleColor","lightBlue","opacity","useStyles","makeStyles","search","paddingLeft","spacing","display","position","borderRadius","shape","backgroundColor","alpha","palette","common","white","inputRoot","StockSearchBar","props","setOpenMenu","classes","history","useHistory","location","useLocation","stockFormatTest","useState","searchStk","setSearchStk","stockError","setStockError","TextField","className","size","placeholder","error","helperText","inputProps","InputProps","startAdornment","root","value","onChange","e","target","onKeyDown","previous","pathname","key","test","push","title","flexGrow","fontFamily","darkBlue","menuItems","width","mainMenu","link","textDecoration","menuButton","marginRight","breakpoints","up","MainMenu","window","openMenu","container","undefined","document","body","selection","setSelection","useEffect","match","menuItemsSmall","role","ListItem","sx","marginTop","secondaryAction","IconButton","edge","onClick","Divider","to","button","ListItemIcon","ListItemText","menuItemsLarge","selected","Hidden","lgUp","implementation","Drawer","anchor","open","lgDown","variant","FlexCenter","Box","p","justifyContent","alignItems","FlexSpaceBtwn","FlexSpaceEvenly","FlexStart","FlexEnd","FlexSpaceAround","flexCenter","top","left","height","zIndex","LoadingFullPage","CircularProgress","useCheckMounted","mounted","useRef","current","useQuery","URLSearchParams","useVehiclePage","useParams","demo","dbSelection","a","options","method","headers","JSON","stringify","fetch","response","json","getDefaults","clearDatabase","addVehicleDescriptors","addStages","generateVehicles","vehicleAmount","months","CenteredError","errorMessage","retryAction","flexDirection","Button","DemoContext","createContext","useDemoContext","useContext","DemoProvider","useCookies","cookies","setCookie","loading","setLoading","loadingTime","setLoadingTime","dbReady","setDbReady","db","setDb","setError","saveDb","useCallback","path","Promise","resolve","setTimeout","demoLoadingTime","parseInt","demoDb","selectDatabase","selectDatabaseService","then","console","delay","saveLoadingTime","loadingTimeNum","Provider","children","AuthContext","useAuthContext","AuthProvider","removeCookie","user","currentUser","setCurrentUser","name","defaultStageAssignment","stage","id","personPlace","userPreferences","setUserPreferences","getUserPreferences","result","status","data","logIn","logOut","UserMenu","anchorUserEl","setAnchorUserEl","openUserMenu","Boolean","event","currentTarget","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","disabled","margin","appBar","Nav","CssBaseline","AppBar","Toolbar","Typography","component","PrivateRoute","Component","renderComponent","exact","LargeCard","Card","paddingBottom","SmallCard","ExtraSmallCard","ContentHeader","padding","textAlign","ContentTitle","IconContentTitle","style","gap","icon","LargeContent","CardContent","SmallContent","ContentPaper","Paper","outerFlex","x","y","card","nameField","LogIn","setName","label","autoComplete","length","trash","secondary","main","sold","success","active","primary","StatusFilter","filterDisplay","statusParam","sortParam","perPageParam","filterAnchor","setFilterAnchor","handleFilterClose","newStatus","startIcon","VehicleOrder","sort","setSort","query","toString","newSort","addButton","right","AddVehicleButton","Fab","dialog","dialogContent","maxWidth","maxHeight","SelectDialog","setOpen","flex","Dialog","DialogContent","CustomSelect","TextFieldProps","ButtonProps","endAdornment","readOnly","cursor","listItem","emphasized","fontStyle","SelectListItem","textVal","selectCondition","emphasize","YearSelect","year","setYear","currentYear","Date","getFullYear","years","i","unshift","handleYearSelect","List","map","yeartmp","AddListItem","Result","this","SuccessResult","GetSuccess","vehicles","getVehiclesPaged","perPage","page","compare","findVehicle","field","getNextStock","checkStock","stock","exists","getMakes","addMake","make","getModels","makeId","addModel","model","getTrims","modelId","addTrim","trim","addVehicle","addVehicleParam","initialStageParam","dateAdded","now","updateVehicle","vehicleId","updateDoc","sellVehicle","stageAssignmentId","dateSold","deleteVehicle","addButtons","marginLeft","AddMake","makeSelectParent","ms","makeSelect","addMakeStatus","setAddMakeStatus","addMakeInput","setAddMakeInput","openRef","handleAddMake","doc","setMake","setAddMake","setMakes","Collapse","in","timeout","unmountOnExit","autoFocus","fullWidth","toUpperCase","MakeSelect","parent","allowAddMake","pMounted","handleMakeSelect","maketmp","makes","getMakesStatus","setGetMakesStatus","getMakesService","AddModel","modelSelectParent","modelSelect","addModelStatus","setAddModelStatus","addModelInput","setAddModelInput","handleAddModel","setModel","setAddModel","setModels","allowAddModel","handleModelSelect","modeltmp","models","getModelsStatus","setGetModelsStatus","getModelsService","AddTrim","trimSelectParent","ts","trimSelect","addTrimStatus","setAddTrimStatus","addTrimInput","setAddTrimInput","handleAddTrim","patch","setTrim","setAddTrim","setTrims","TrimSelect","allowAddTrim","handleTrimSelect","trimtmp","trims","getTrimsStatus","setGetTrimsStatus","getTrimsService","select","VehicleDetailFilters","vehicleDetailFilterState","yearFilterTmp","setYearFilterTmp","makeFilterTmp","setMakeFilterTmp","modelFilterTmp","setModelFilterTmp","trimFilterTmp","setTrimFilterTmp","flexWrap","dialogTitle","datePicker","DateRangeSelect","buttonLabel","after","setAfter","before","setBefore","openDialog","setOpenDialog","afterTmp","setAfterTmp","beforeTmp","setBeforeTmp","DialogTitle","LocalizationProvider","dateAdapter","AdapterDateFns","FormControl","DatePicker","clearable","newValue","renderInput","params","minDate","DialogActions","getTime","DateAddedSelect","afterDate","toLocaleDateString","beforeDate","DateRangeFilters","dateRangeFilterState","addedAfterFilterTmp","setAddedAfterFilterTmp","addedBeforeFilterTmp","setAddedBeforeFilterTmp","soldAfterFilterTmp","setSoldAfterFilterTmp","soldBeforeFilterTmp","setSoldBeforeFilterTmp","ShowForSaleFilter","showForSaleTmp","setShowForSaleTmp","FormControlLabel","control","Checkbox","checked","fontSize","filterActions","VehicleListFilters","setViewFilters","setFilterCount","yearFilter","setYearFilter","makeFilter","setMakeFilter","modelFilter","setModelFilter","trimFilter","setTrimFilter","addedAfterFilter","setAddedAfterFilter","addedBeforeFilter","setAddedBeforeFilter","soldAfterFilter","setSoldAfterFilter","soldBeforeFilter","setSoldBeforeFilter","showForSale","setShowForSale","yearQuery","get","makeQuery","modelQuery","trimQuery","addedAfterQuery","addedBeforeQuery","soldAfterQuery","soldBeforeQuery","showForSaleQuery","makeTmp","split","modelTmp","parseFloat","showForSaleQueryTmp","trimTmp","disableApplyFilters","forEach","filter","calculate","queries","queryString","join","skeleton","LoadingList","list","skeletonCount","Skeleton","VehicleListItemButton","ListItemButton","marginBottom","textContainer","stockLi","vehicleTextLi","whiteSpace","overflow","textOverflow","vehicleText","VehicleInfo","vehicle","VehicleChipGroup","float","VehicleChip","Chip","ActiveVehicle","currentStage","defaultStage","defaultPersonPlace","timeDifferenceLabel","FormatTime","milliseconds","Math","round","SoldVehicleChip","contrastText","SoldVehicle","totalSellTime","VehicleListItem","DeleteVehicleDialog","buttons","getVehicles","deleteVehicleStatus","setDeleteVehicleStatus","deleteVehicleService","ButtonGroup","disableEscapeKeyDown","trashButtons","TrashedVehicle","updateVehicleStatus","setUpdateVehicleStatus","activateVehicle","openDeleteDialog","setOpenDeleteDialog","toggleDeleteDialog","VehicleSummary","pageParam","compareParam","vehicleClick","ListNavigation","vehiclePage","docStartNumber","docEndNumber","totalDocs","dateAddedValues","maxDateAdded","max","minDateAdded","min","align","toLocaleString","VehicleList","vehicleListState","getVehiclesStatus","reload","StyledBadge","withStyles","createStyles","badge","border","background","paper","Badge","ViewFiltersButton","viewFilters","filterCount","badgeContent","listControls","AllVehicles","statusFilter","setStatusFilter","setVehiclePage","setGetVehiclesStatus","setFilter","nextStockButton","NextStockButton","editStockState","setStock","addEditVehicleStatus","nextStock","setNextStock","getNextStockStatus","setGetNextStockStatus","getNextStockService","StockField","stockOkay","setStockOkay","onBlur","VehicleInfoInputs","addVehicleState","addVehicleStatus","form","inputField","stages","getStageVehicleCounts","getPersonPlaceVehicleCounts","getStages","addStage","getPeoplePlaces","stageId","getAllPeoplePlaces","addPersonPlace","assignStage","assignStageParam","previousStage","completeStageAssignment","dateCompleted","getStageHistory","updateStageOrder","newStageOrder","updates","AddStage","stageSelectParent","ss","stageSelect","addStageStatus","setAddStageStatus","addStageInput","setAddStageInput","handleAddStage","setStage","setAddStage","setStages","StageSelect","allowAddStage","handleStageSelect","stagetmp","getStagesStatus","setGetStagesStatus","getStagesService","ShowMoreListItem","AddPersonPlace","personPlaceSelectParent","pps","personPlaceSelect","addPersonPlaceStatus","setAddPersonPlaceStatus","addPersonPlaceInput","setAddPersonPlaceInput","handleAddPersonPlace","setPersonPlace","setAddPersonPlace","setAllPeoplePlaces","allPeoplePlaces","allowAddPersonPlace","handlePersonPlaceSelect","personPlacetmp","peoplePlaces","setPeoplePlaces","getPeoplePlacesStatus","setGetPeoplePlacesStatus","getPeoplePlacesService","getAllPeoplePlacesStatus","setGetAllPeoplePlacesStatus","getAllPeoplePlacesService","showMorePeoplePlaces","setShowMorePeoplePlaces","find","personPlacetmp2","taskList","outline","wordWrap","TaskListInput","taskListComponent","taskAddButton","setTaskList","task","setTask","index","taskListTmp","splice","removeTask","random","StageAssignInputs","showStageInputs","setShowStageInputs","NotesInput","notes","setNotes","showNotesInput","setShowNotesInput","multiline","maxRows","addVehicleClick","AddVehicleSuccessDialog","setAddVehicleStatus","addedVehicle","AddVehicleFailureDialog","AddVehicleInputs","setAddedVehicle","tasks","openSuccessDialog","setOpenSuccessDialog","openFailureDialog","setOpenFailureDialog","FormHelperText","AddVehicle","GetVehicleLoading","ActionMenu","vehicleDetailState","setVehicle","anchorMenu","setAnchorMenu","trashVehicle","sellVehicleClick","DarkTab","Tab","AssignStageButton","assignStageState","dateOnLot","assignStageStatus","setAssignStageStatus","assignStageClick","dateAssigned","assignButton","disableElevation","disabledAssignButton","AssignStage","sellButton","dark","reassignButton","SellVehicleButtons","sellVehicleStatus","setSellVehicleStatus","completeStageStatus","setCompleteStageStatus","reassignClick","m","CompleteStageButton","completeStageClick","TabContent","alignContent","minHeight","content","flexDivider","CurrentStage","dateSoldDisplay","flexItem","dense","paddingRight","disablePadding","overflowWrap","table","chip","minWidth","DurationStats","reconditionTime","forSaleTime","reconditionTimeLabel","stageTimeLabel","completeTime","onLotTimeLabel","totalSellTimeLabel","TableContainer","Table","TableBody","TableRow","TableCell","scope","colSpan","TabPanel","other","hidden","a11yProps","StageTabs","tabValue","setTabValue","Tabs","centered","indicatorColor","textColor","EditInfoButtons","updateButton","editVehicleState","setEdit","vehicleDetailsMounted","editStock","editYear","editMake","editModel","editTrim","editDateAdded","editDateSold","editVehicleStatus","setEditVehicleStatus","updateVehicleDoc","updateVehicleService","updateVehicleClick","enabledUpdateButton","disabledUpdateButton","EditInfo","inputFieldStyle","setEditStock","setEditYear","setEditMake","setEditModel","setEditTrim","setEditDateAdded","setEditDateSold","date","maxDate","ReadonlyTextField","WebkitTextFillColor","ReadonlyInfoTab","month","day","editButtonDiv","editButton","InfoTab","setDisableDoneButton","edit","EditNotesButtons","editNotesState","editNotes","editNotesStatus","setEditNotesStatus","updateNotes","EditNotes","setEditNotes","NotesTab","HistoryTitleMenu","order","setOrder","orderAnchor","setOrderAnchor","handleOrderClose","closeButton","AddVehicleDialog","stageAssignment","timeElapsed","handleClose","formatDate","hour","minute","tableContainer","stageButton","HistoryTable","sortedStageHistory","formatDateAssigned","difference","openStageDetailsDialog","setOpenStageDetailsDialog","dialogStageAssignment","setDialogStageAssignment","TableHead","StageHistoryTab","stageHistory","setStageHistory","getStageHistoryStatus","setGetStageHistoryStatus","getStageHistoryService","b","aDate","bDate","VehicleTabs","tab","href","replace","buttonContainer","DetailsDoneButton","disableDoneButton","doneButtonClick","exit","VehicleFailed","errorMessagetmp","TrashedMessage","vehicleTitle","VehicleDetails","searchCriteria","searchValue","getVehicleStatus","setGetVehicleStatus","getVehicleError","setGetVehicleError","findVehicleService","AccordionPaper","Accordion","NavigateAccordianVehicleList","accordianDetails","paddingTop","vehicleList","StageVehicleList","StageVehicle","AccordionDetails","useVehicleStyles","vehicleDivider","PresonPlaceVehicleList","personPlaceId","PersonPlaceVehicle","AccordianList","accordianTitles","determineTitleColor","count","AccordionSummary","expandIcon","PeoplePlaces","getPersonPlaceVehicleCountsService","updateButtons","ReorderButtons","setReorderStages","originalStageOrder","editStageOrder","setEditStageOrder","setOrderStagesStatus","updateStageOrderClick","original","compareOrders","ReorderStages","setOriginalStageOrder","orderStagesStatus","defaultReturn","onDragEnd","source","reorderedStage","destination","droppableId","provided","droppableProps","ref","innerRef","draggableId","draggableProps","dragHandleProps","Stages","getStageVehicleCountsService","reorderStages","formatTimeText","donutChart","DonutChart","total","totalLabel","d3Container","useLayoutEffect","d3","domain","d","range","pie","padAngle","arcs","legendItems","endAngle","startAngle","legendHeight","legendItemRectSides","donutDiameter","arc","innerRadius","donutRadius","outerRadius","fill","generateId","remove","svg","append","attr","feMerge","viewBoxY","selectAll","chartSvg","text","centroid","call","insert","querySelector","getBoundingClientRect","totalWidth","labelBoxPaddingSides","totalHeight","labelBoxPaddingTopBottom","totalGroup","legend","donutContainerHeight","legendXStart","OverviewDetailsTable","turnStatistics","average","median","mode","getForSale","getForSalePercent","getSold","getSoldPercent","totalPercent","DetailsButton","showDetails","setShowDetails","OverviewStatistics","getTurnStatsStatus","chartData","FullNameDialog","selectedValue","accordionDetails","shortData","longData","personPlaceLabel","subLabel","StatisticDetails","statistics","openFullNameDialog","setOpenFullNameDialog","setSelectedValue","modePercent","portions","getVehicleTurnStats","getStagesStatistics","getPeoplePlacesStatistics","StagesStatistics","forSaleAvg","getStatsStatus","setGetStatsStatus","setChartData","setStatistics","getStagesStatisticsService","avgOverview","details","chart","VerticalBarChart","sortedData","xScale","avgPercentile","barMargin","PeoplePlacesStatistics","getPeoplePlaceStatistics","getPeoplePlacesStatisticsService","AnalyticsTabs","Statistics","vehicleTurnStats","setVehicleTurnStats","setGetTurnStatsStatus","getVehicleTurnStatsService","ActionList","demoState","clearDatabaseLi","addVehicleDescriptorsLi","addStagesLi","generateVehiclesLi","DemoDialog","setClearDatabaseStatus","setAddVehicleDescriptorsStatus","setAddStagesStatus","setGenerateVehiclesStatus","vehiclesAmount","clearDatabaseClick","clearDatabaseService","addVehicleDescriptorsClick","addVehicleDescriptorsService","addStagesClick","addStagesService","generateVehiclesClick","generateVehiclesService","continueClick","all","DemoContinueButton","vehiclesAmountError","monthsError","GenerateDemoVehicles","vehiclesAmountInput","setVehiclesAmountInput","setVehiclesAmountError","setVehiclesAmount","setMonths","setMonthsError","vehiclesAmountInputTmp","vehiclesAmountTmp","monthsTmp","LoadingFlexSpaceAround","LoadingDemoActions","clearDatabaseStatus","addVehicleDescriptorsStatus","addStagesStatus","generateVehiclesStatus","formControl","ActionCheckBoxes","setClearDatabase","setAddVehicleDescriptors","setAddStages","setGenerateVehicles","statuses","check","FormGroup","DemoActions","NumberInput","shouldForwardProp","prop","slot","overridesResolver","styles","outlined","ButtonFlex","DemoSettings","loadingTimeInput","setLoadingTimeInput","setLoadingTimeNum","inputError","setInputError","dbInput","setDbInput","loadingTimeString","loadingTimeStringTmp","Select","app","App","Analytics","createTheme","GlobalContext","CookiesProvider","StyledEngineProvider","injectFirst","ThemeProvider","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0427c02c.chunk.js","sourcesContent":["// react\nimport { useState } from 'react';\n// react-router-dom\nimport { useHistory, useLocation } from 'react-router-dom';\n// material-ui\nimport SearchIcon from '@mui/icons-material/Search';\nimport TextField from '@mui/material/TextField';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport { Theme, alpha } from '@mui/material/styles';\nimport { styled } from '@mui/material/styles';\nimport makeStyles from '@mui/styles/makeStyles';\nimport { Set } from '../../types/misc';\n\nconst StyledInputAdornment = styled(InputAdornment)(({ theme }) => ({\n  color: theme.titleColor.lightBlue,\n  opacity: '50%',\n\n}));\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  search: {\n    paddingLeft: theme.spacing(.5),\n    display: 'flex',\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: alpha(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: alpha(theme.palette.common.white, 0.25),\n    },\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n}));\n\ninterface StockSearchBarProps {\n  setOpenMenu: Set<boolean>;\n}\nexport default function StockSearchBar(props: StockSearchBarProps): React.ReactElement {\n  const { setOpenMenu } = props;\n  const classes = useStyles();\n  const history = useHistory();\n  const location = useLocation();\n\n  const stockFormatTest = /^[0-9]{5}$/;\n\n  // STOCK SEARCH\n  const [searchStk, setSearchStk] = useState<string>('');\n  const [stockError, setStockError] = useState<string>('');\n\n  const handleChangeSearch = (e: React.ChangeEvent<{ value: string; }>): void => {\n    setSearchStk(e.target.value);\n  };\n\n  const handleSearchKeyPress = (e: React.KeyboardEvent<HTMLDivElement>): void => {\n    const previous = location.pathname;\n    if (e.key === 'Enter') {\n      if (searchStk !== '') {\n        if (!stockFormatTest.test(searchStk)) {\n          setStockError('must be 5 digits');\n        } else {\n          setOpenMenu(false);\n          history.push(`/vehicle-details/stock/${searchStk}/stage?prev=${previous}`);\n          setSearchStk('');\n        }\n      }\n    } else {\n      setStockError('');\n    };\n  };\n\n  return (\n    < TextField className={classes.search}\n      size='small'\n      placeholder=\"Stk#\"\n      error={stockError ? true : false}\n      helperText={stockError}\n      inputProps={{ 'aria-label': 'search' }\n      }\n      InputProps={{\n        startAdornment: (\n          <StyledInputAdornment position='start'>\n            <SearchIcon color='inherit' />\n          </StyledInputAdornment>\n        ),\n        classes: {\n          root: classes.inputRoot\n        }\n      }}\n      value={searchStk}\n      onChange={handleChangeSearch}\n      onKeyDown={handleSearchKeyPress}\n    />\n  );\n}","// react\nimport { useState, useEffect } from 'react';\n// react-router-dom\nimport { Link, useLocation } from 'react-router-dom';\nimport makeStyles from '@mui/styles/makeStyles';\nimport Hidden from '@mui/material/Hidden';\nimport IconButton from '@mui/material/IconButton';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport Drawer from '@mui/material/Drawer';\nimport Divider from '@mui/material/Divider';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport AddIcon from '@mui/icons-material/Add';\nimport EqualizerIcon from '@mui/icons-material/Equalizer';\nimport LaptopIcon from '@mui/icons-material/Laptop';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport CloseIcon from '@mui/icons-material/Close';\n// THIS PROJECT\n// components\nimport StockSearchBar from './StockSearchBar';\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    flexGrow: 1,\n    fontFamily: 'Lobster',\n    color: theme.titleColor.darkBlue,\n  },\n  menuItems: {\n    width: theme.mainMenu.width,\n  },\n  link: {\n    textDecoration: 'none',\n    color: 'black'\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('lg')]: {\n      display: 'none',\n    },\n  },\n}));\n\n// React automatically includes window prop, so we don't need to include it as a prop when we call this component\ninterface MainMenuProps {\n  window?: () => Window;\n};\nexport default function MainMenu(props: MainMenuProps): React.ReactElement {\n  const { window } = props;\n  const classes = useStyles();\n  const location = useLocation();\n\n  //OPENING THE MENU\n  const [openMenu, setOpenMenu] = useState<boolean>(false);\n  const container = window !== undefined ? () => window().document.body : undefined;\n\n  // DISPLAYING SELECTION\n  type Selection = '/all-vehicles' | '/add-vehicle' | '/stages' | '/people-places' | '/analytics' | '/demo-actions' | '/demo-settings' | '';\n  const [selection, setSelection] = useState<Selection>('/all-vehicles');\n\n  useEffect(() => {\n    const regex = /(\\/[\\w-]+)/;\n    const match = location!.pathname.match(regex);\n    match ? setSelection(match[1] as Selection) : setSelection('');\n  }, [location, setSelection]);\n\n  // MENU ITEMS\n  const menuItemsSmall = (\n    <div\n      className={classes.menuItems}\n      role=\"presentation\"\n    >\n      <ListItem sx={{ marginTop: 1 }} secondaryAction={\n        <IconButton edge=\"end\" aria-label=\"close menu\" onClick={() => setOpenMenu(false)}>\n          <CloseIcon />\n        </IconButton>\n      }>\n      </ListItem>\n      <ListItem>\n        <StockSearchBar setOpenMenu={setOpenMenu} />\n      </ListItem>\n      <Divider />\n      <Link className={classes.link} to='/all-vehicles/active/asc/10/first/0' onClick={() => setOpenMenu(false)}>\n        <ListItem\n          button\n        >\n          <ListItemIcon><VisibilityIcon /></ListItemIcon>\n          <ListItemText>All Vehicles</ListItemText>\n        </ListItem>\n      </Link>\n      <Link className={classes.link} to='/add-vehicle' onClick={() => setOpenMenu(false)}>\n        <ListItem\n          button\n        >\n          <ListItemIcon><AddIcon /></ListItemIcon>\n          <ListItemText>Add Vehicle</ListItemText>\n        </ListItem>\n      </Link>\n      <Divider />\n      <Link className={classes.link} to='/stages' onClick={() => setOpenMenu(false)}>\n        <ListItem\n          button\n        >\n          <ListItemIcon><VisibilityIcon /></ListItemIcon>\n          <ListItemText>Stages</ListItemText>\n        </ListItem>\n      </Link>\n      <Link className={classes.link} to='/people-places' onClick={() => setOpenMenu(false)}>\n        <ListItem\n          button\n        >\n          <ListItemIcon><VisibilityIcon /></ListItemIcon>\n          <ListItemText>People/Places</ListItemText>\n        </ListItem>\n      </Link>\n      <Divider />\n      <Link className={classes.link} to='/analytics/overview' onClick={() => setOpenMenu(false)}>\n        <ListItem\n          button\n        >\n          <ListItemIcon><EqualizerIcon /></ListItemIcon>\n          <ListItemText>Analytics</ListItemText>\n        </ListItem>\n      </Link>\n      <Divider />\n      <Link className={classes.link} to='/demo-actions' onClick={() => setOpenMenu(false)}>\n        <ListItem\n          button\n        >\n          <ListItemIcon><LaptopIcon /></ListItemIcon>\n          <ListItemText>Demo Actions</ListItemText>\n        </ListItem>\n      </Link>\n      <Link className={classes.link} to='/demo-settings' onClick={() => setOpenMenu(false)}>\n        <ListItem\n          button\n        >\n          <ListItemIcon><SettingsIcon /></ListItemIcon>\n          <ListItemText>Demo Settings</ListItemText>\n        </ListItem>\n      </Link>\n      <Divider />\n    </div >\n  );\n\n  const menuItemsLarge = (\n    <div\n      className={classes.menuItems}\n      role=\"presentation\"\n    >\n      <ListItem>\n        <StockSearchBar setOpenMenu={setOpenMenu} />\n      </ListItem>\n      <Divider />\n      <Link className={classes.link} to='/all-vehicles/active/asc/10/first/0' >\n        <ListItem\n          button\n          selected={selection === '/all-vehicles'}\n        >\n          <ListItemIcon><VisibilityIcon /></ListItemIcon>\n          <ListItemText>All Vehicles</ListItemText>\n        </ListItem>\n      </Link>\n      <Link className={classes.link} to='/add-vehicle' >\n        <ListItem\n          button\n          selected={selection === '/add-vehicle'}\n        >\n          <ListItemIcon><AddIcon /></ListItemIcon>\n          <ListItemText>Add Vehicle</ListItemText>\n        </ListItem>\n      </Link>\n      <Divider />\n      <Link className={classes.link} to='/stages' >\n        <ListItem\n          button\n          selected={selection === '/stages'}\n        >\n          <ListItemIcon><VisibilityIcon /></ListItemIcon>\n          <ListItemText>Stages</ListItemText>\n        </ListItem>\n      </Link>\n      <Link className={classes.link} to='/people-places' >\n        <ListItem\n          button\n          selected={selection === '/people-places'}\n        >\n          <ListItemIcon><VisibilityIcon /></ListItemIcon>\n          <ListItemText>People/Places</ListItemText>\n        </ListItem>\n      </Link>\n      <Divider />\n      <Link className={classes.link} to='/analytics/overview' >\n        <ListItem\n          button\n          selected={selection === '/analytics'}\n        >\n          <ListItemIcon><EqualizerIcon /></ListItemIcon>\n          <ListItemText>Analytics</ListItemText>\n        </ListItem>\n      </Link>\n      <Divider />\n      <Link className={classes.link} to='/demo-actions' >\n        <ListItem\n          button\n          selected={selection === '/demo-actions'}\n        >\n          <ListItemIcon><LaptopIcon /></ListItemIcon>\n          <ListItemText>Demo Actions</ListItemText>\n        </ListItem>\n      </Link>\n      <Link className={classes.link} to='/demo-settings' >\n        <ListItem\n          button\n          selected={selection === '/demo-settings'}\n        >\n          <ListItemIcon><SettingsIcon /></ListItemIcon>\n          <ListItemText>Demo Settings</ListItemText>\n        </ListItem>\n      </Link>\n      <Divider />\n    </div >\n  );\n\n\n  return <>\n    {!openMenu && <IconButton\n      edge=\"start\"\n      className={classes.menuButton}\n      color=\"inherit\"\n      aria-label=\"menu\"\n      onClick={() => setOpenMenu(true)}\n      size=\"large\">\n      <MenuIcon />\n    </IconButton>}\n    <nav>\n      <Hidden lgUp implementation='css'>\n        <Drawer container={container} anchor={'left'} open={openMenu}>\n          {menuItemsSmall}\n        </Drawer>\n      </Hidden>\n      <Hidden lgDown implementation='css'>\n        <Drawer variant='permanent' open>\n          {menuItemsLarge}\n        </Drawer>\n      </Hidden>\n    </nav>\n  </>;\n};","// material-ui\nimport { styled } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\n\nexport const FlexCenter = styled(Box)({\n  display: 'flex',\n  p: 1,\n  justifyContent: 'center',\n  alignItems: 'center'\n});\n\nexport const FlexSpaceBtwn = styled(Box)({\n  display: 'flex',\n  p: 1,\n  justifyContent: 'space-between',\n  alignItems: 'center',\n});\n\nexport const FlexSpaceEvenly = styled(Box)({\n  display: 'flex',\n  p: 1,\n  justifyContent: 'space-evenly',\n  alignItems: 'center'\n});\n\nexport const FlexStart = styled(Box)({\n  display: 'flex',\n  p: 1,\n  justifyContent: 'start',\n  alignItems: 'center'\n});\n\nexport const FlexEnd = styled(Box)({\n  display: 'flex',\n  p: 1,\n  justifyContent: 'flex-end',\n  alignItems: 'center'\n});\n\nexport const FlexSpaceAround = styled(Box)({\n  display: 'flex',\n  p: 1,\n  justifyContent: 'space-around',\n  alignItems: 'center'\n});","// material-ui\nimport CircularProgress from '@mui/material/CircularProgress';\nimport makeStyles from '@mui/styles/makeStyles';\n// THIS PROJECT\n// components\nimport { FlexCenter } from './flex';\n\nconst useStyles = makeStyles({\n  flexCenter: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    height: '100vh',\n    width: '100vw',\n    backgroundColor: 'black',\n    opacity: 0.5,\n    zIndex: 100,\n  },\n});\n\nexport default function LoadingFullPage(): React.ReactElement {\n  const classes = useStyles();\n\n  return (\n    <FlexCenter className={classes.flexCenter}>\n      <CircularProgress />\n    </FlexCenter>\n  );\n}","// react\nimport { useEffect, useRef } from 'react';\n// react-router\nimport { useLocation, useParams } from 'react-router-dom';\n// THIS PROJECT\n// types\nimport { VehicleStatus } from './types/Vehicle';\nimport { ListOrder, Page } from './types/misc';\n\nexport function useCheckMounted() {\n  const mounted = useRef(true);\n\n  useEffect(() => {\n    mounted.current = true;\n    return () => { mounted.current = false; };\n  });\n\n  return mounted;\n}\n\nexport function useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nexport function useVehiclePage() {\n  interface ParamTypes {\n    statusParam: VehicleStatus;\n    sortParam: ListOrder;\n    perPageParam: string;\n    pageParam: Page;\n    compareParam: string;\n  }\n  return useParams<ParamTypes>();\n}\n\n","// types\nimport { FailedResult, DeleteSuccess, GetSuccess, SuccessResult } from \"../types/ServiceResults\";\nimport { DbSelection, Defaults } from '../types/Demo';\n\nconst demo = 'http://localhost:7000/api/demo';\n\nexport async function selectDatabase(dbSelection: DbSelection): Promise<SuccessResult | FailedResult> {\n  // const dbSelectionJSON = JSON.stringify(dbSelection);\n  const body = { dbSelection };\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  };\n  const response = await fetch('http://localhost:7001/api/demo/select-db', options);\n  const json = await response.json();\n  return json;\n}\n\n// gets the default stage assignment, i.e. 'stage: Assign, personPlace: Inventory Manager'\nexport async function getDefaults(): Promise<GetSuccess<Defaults> | FailedResult> {\n  const response = await fetch(demo + '/get-defaults');\n  const json = await response.json();\n  return json;\n};\n\nexport async function clearDatabase(): Promise<DeleteSuccess | FailedResult> {\n  const options = {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n  };\n  const response = await fetch(demo + '/clear-database', options);\n  const json = await response.json();\n  return json;\n};\n\nexport async function addVehicleDescriptors(): Promise<SuccessResult | FailedResult> {\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n  };\n  const response = await fetch(demo + '/add-vehicle-descriptors', options);\n  const json = await response.json();\n  return json;\n};\n\nexport async function addStages(): Promise<SuccessResult | FailedResult> {\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n  };\n  const response = await fetch(demo + '/add-stages', options);\n  const json = await response.json();\n  return json;\n};\n\nexport async function generateVehicles(vehicleAmount: string, months: string): Promise<SuccessResult | FailedResult> {\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n  };\n  const response = await fetch(demo + `/generate-vehicles/${vehicleAmount}/${months}`, options);\n  const json = await response.json();\n  return json;\n}","// material-ui\nimport SentimentVeryDissatisfiedIcon from '@mui/icons-material/SentimentVeryDissatisfied';\nimport Button from '@mui/material/Button';\nimport Divider from '@mui/material/Divider';\n// THIS PROJECT\n// components\nimport { FlexCenter } from '../common/flex';\n\ninterface CenteredErrorProps {\n  errorMessage: string;\n  retryAction?: () => void;\n};\nexport default function CenteredError(props: CenteredErrorProps): React.ReactElement {\n  const { errorMessage, retryAction } = props;\n\n  return (\n    <FlexCenter flexDirection='column'>\n      <SentimentVeryDissatisfiedIcon />\n      <p>{errorMessage}</p>\n      <Divider />\n      {retryAction\n        && <Button onClick={retryAction}>\n          Retry\n        </Button>}\n    </FlexCenter>\n  );\n}","// react\nimport { createContext, useContext, useState, ReactChild, ReactChildren, useCallback, useEffect } from 'react';\n// reat-cookie\nimport { useCookies } from 'react-cookie';\n// THIS PROJECT\n// components\nimport LoadingFullPage from '../components/common/LoadingFullPage';\nimport CenteredError from '../components/common/CenteredError';\n// services\nimport { selectDatabase as selectDatabaseService } from '../services/demo';\nimport { DbSelection } from '../types/Demo';\n// types\nimport { Set } from '../types/misc';\n\ninterface DemoContextInterface {\n  loadingTime: number;\n  setLoadingTime: Set<number>;\n  db: DbSelection | null;\n  setDb: Set<DbSelection | null>;\n  dbReady: boolean;\n  delay: () => Promise<void>;\n  saveLoadingTime: (loadingTimeNum: number) => void;\n  saveDb: (dbSelection: DbSelection | null) => void;\n  selectDatabase: (dbSelection: DbSelection) => void;\n}\n\nconst DemoContext = createContext({}); // creating with an initial blank context, this is okay since we will never be using this context without a provider\n\nexport function useDemoContext(): DemoContextInterface {\n  return useContext(DemoContext) as DemoContextInterface;\n}\n\ninterface DemoProviderProps {\n  children: ReactChild | ReactChildren;\n}\n\nexport function DemoProvider(props: DemoProviderProps): React.ReactElement {\n  const [cookies, setCookie] = useCookies(['demoLoadingTime', 'demoDb']);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [loadingTime, setLoadingTime] = useState<number>(0); // milliseconds\n  const [dbReady, setDbReady] = useState<boolean>(false);\n  const [db, setDb] = useState<DbSelection | null>(null);\n  const [error, setError] = useState<boolean>(false);\n\n  const saveDb = useCallback((dbSelection: DbSelection | null) => {\n    setCookie('demoDb', dbSelection, { path: '/' });\n  }, [setCookie]);\n\n  useEffect(() => {\n    cookies.demoLoadingTime ? setLoadingTime(parseInt(cookies.demoLoadingTime)) : setLoadingTime(500); //set 500 default if cookie is undefined\n    cookies.demoDb ? setDb(cookies.demoDb) : saveDb('mongodb'); //set 500 default if cookie is undefined\n  }, [cookies.demoLoadingTime, cookies.demoDb, saveDb]);\n\n  function saveLoadingTime(loadingTimeNum: number) {\n    setCookie('demoLoadingTime', loadingTimeNum, { path: '/' });\n  }\n\n  async function delay() {\n    await new Promise(resolve => setTimeout(resolve, loadingTime));\n  }\n\n  const selectDatabase = useCallback((dbSelection: DbSelection) => {\n    setDbReady(false);\n    setLoading(true);\n    selectDatabaseService(dbSelection)\n      .then(() => {\n        setDbReady(true);\n        setLoading(false);\n      }, e => {\n        console.error(e);\n        setError(true);\n        setDbReady(false);\n        setLoading(false);\n      });\n  }, []);\n\n  useEffect(() => {\n    db && selectDatabase(db);\n  }, [selectDatabase, db]);\n\n  const value: DemoContextInterface = {\n    loadingTime, setLoadingTime, db, setDb, dbReady, delay, saveLoadingTime, saveDb, selectDatabase\n  };\n  return (\n    <DemoContext.Provider value={value}>\n      {loading ? <LoadingFullPage /> : error ? <CenteredError errorMessage={`Failed to connect to server. Ensure that 'Selection Server' is listening on localhost:7001 and refresh`} /> : props.children}\n    </DemoContext.Provider>\n  );\n}\n","// react\nimport { createContext, useContext, useState, useEffect, ReactChild, ReactChildren, useCallback } from 'react';\n// react-cookie\nimport { useCookies } from 'react-cookie';\n// THIS PROJECT\n// components\nimport LoadingFullPage from '../components/common/LoadingFullPage';\n// hooks\nimport { useCheckMounted } from '../hooks';\n// services\nimport { getDefaults } from '../services/demo';\n// contexts\nimport { useDemoContext } from './DemoContext';\n// types\nimport { Set } from '../types/misc';\nimport { Defaults } from '../types/Demo';\n\ninterface AuthContextInterface {\n  currentUser: string | null;\n  loading: boolean;\n  logIn: (name: string) => void;\n  logOut: () => void;\n  userPreferences: Defaults;\n  setUserPreferences: Set<Defaults>;\n  getUserPreferences: () => Promise<void>;\n};\n\nconst AuthContext = createContext({});  // creating with an initial blank context, this is okay since we will never be using this context without a provider\n\n\nexport function useAuthContext(): AuthContextInterface {\n  if (AuthContext === null) {\n    console.error('AuthContext is null, make sure to only use AuthContext within an AuthProvider');\n  }\n  return useContext(AuthContext) as AuthContextInterface;\n}\n\ninterface AuthProviderProps {\n  children: ReactChild | ReactChildren;\n}\nexport function AuthProvider(props: AuthProviderProps): React.ReactElement {\n  const mounted = useCheckMounted();\n  const { dbReady, delay } = useDemoContext();\n  const { children } = props;\n  const [cookies, setCookie, removeCookie] = useCookies(['user', 'demoDb', 'demoLoadingTime']);\n  const [currentUser, setCurrentUser] = useState<string | null>(cookies.user);\n  const [loading, setLoading] = useState(true);\n\n  async function logIn(name: string) {\n    mounted.current && setLoading(true);\n    await delay();\n    setCookie('user', name, { path: '/' });\n    mounted.current && setLoading(false);\n  };\n\n  async function logOut() {\n    mounted.current && setLoading(true);\n    await delay();\n    removeCookie('user', { path: '/' });\n    removeCookie('demoDb', { path: '/' });\n    removeCookie('demoLoadingTime', { path: '/' });\n    mounted.current && setLoading(false);\n  };\n\n  const [userPreferences, setUserPreferences] = useState<Defaults>({\n    defaultStageAssignment: {\n      stage: {\n        id: '',\n        name: ''\n      },\n      personPlace: {\n        id: '',\n        name: ''\n      }\n    }\n  });\n\n  const getUserPreferences = useCallback(async () => {\n    mounted.current && setLoading(true);\n    getDefaults()\n      .then(result => {\n        mounted.current && setLoading(false);\n        mounted.current && result.status === 'success' && result.data && setUserPreferences(result.data);\n      }, e => {\n        mounted.current && setLoading(false);\n        mounted.current && console.error(e);\n      });\n\n  }, [mounted]);\n\n  useEffect(() => {\n    dbReady && getUserPreferences();\n  }, [getUserPreferences, dbReady]);\n\n  useEffect(() => {\n    setCurrentUser(cookies.user);\n  }, [cookies.user]);\n\n  const value: AuthContextInterface = {\n    currentUser,\n    loading,\n    logIn,\n    logOut,\n    userPreferences,\n    setUserPreferences,\n    getUserPreferences,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {loading ? <LoadingFullPage /> : children}\n    </AuthContext.Provider>\n  );\n}","// react\nimport { useState } from 'react';\n// material-ui\nimport IconButton from '@mui/material/IconButton';\nimport AccountCircle from '@mui/icons-material/AccountCircle';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\n// THIS PROJECT\n// hooks\nimport { useAuthContext } from '../../contexts/AuthContext';\n\nexport default function UserMenu(): React.ReactElement {\n  const { currentUser, logOut } = useAuthContext();\n  const [anchorUserEl, setAnchorUserEl] = useState<null | HTMLElement>(null);\n  const openUserMenu = Boolean(anchorUserEl);\n\n  const toggleUserMenu = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorUserEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorUserEl(null);\n  };\n\n  return <>\n    <IconButton\n      aria-label=\"account of current user\"\n      aria-controls=\"menu-appbar\"\n      aria-haspopup=\"true\"\n      onClick={toggleUserMenu}\n      color=\"inherit\"\n      size=\"large\">\n      <AccountCircle />\n    </IconButton>\n    <Menu\n      id=\"menu-appbar\"\n      anchorEl={anchorUserEl}\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'right',\n      }}\n      keepMounted\n      transformOrigin={{\n        vertical: 'top',\n        horizontal: 'right',\n      }}\n      open={openUserMenu}\n      onClose={handleClose}\n    >\n      <MenuItem disabled>{currentUser}</MenuItem>\n      <MenuItem onClick={logOut}>LOG OUT</MenuItem>\n    </Menu>\n  </>;\n};\n","// react-router-dom\nimport { Link } from 'react-router-dom';\n// material-ui\nimport CssBaseline from '@mui/material/CssBaseline';\nimport AppBar from '@mui/material/AppBar';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport { Theme } from '@mui/material/styles';\nimport makeStyles from '@mui/styles/makeStyles';\n// THIS PROJECT\n// components\nimport MainMenu from './MainMenu';\nimport UserMenu from './UserMenu';\n\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    position: 'relative',\n    color: theme.titleColor.lightBlue,\n    margin: theme.spacing(7.5),\n    left: '0',\n    top: '0',\n    zIndex: 100,\n  },\n  title: {\n    flexGrow: 1,\n    fontFamily: 'Lobster',\n  },\n  link: {\n    textDecoration: 'none',\n    color: theme.titleColor.lightBlue,\n  },\n  appBar: {\n    backgroundColor: '#101010',\n    [theme.breakpoints.up('lg')]: {\n      width: `calc(100% - ${theme.mainMenu.width})`,\n    },\n  },\n}));\n\nexport default function Nav(): React.ReactElement {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar className={classes.appBar} color='transparent' position=\"fixed\">\n        <Toolbar>\n          <MainMenu />\n          <Typography variant=\"h6\" component=\"h1\" className={classes.title}>\n            <Link className={classes.link} to='/'>Auto Inventory Flow</Link>\n          </Typography>\n          <UserMenu />\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n","// react\nimport { FunctionComponent } from 'react';\n// react-router-dom\nimport { Route, Redirect } from 'react-router-dom';\n// THIS PROJECT\n// hooks\nimport { useAuthContext } from '../../contexts/AuthContext';\n\ninterface PrivateRouteProps {\n  exact?: boolean,\n  path: string,\n  component: FunctionComponent,\n};\nexport default function PrivateRoute(props: PrivateRouteProps): React.ReactElement {\n  const { currentUser } = useAuthContext();\n  let Component: FunctionComponent = props.component;\n\n  let renderComponent: JSX.Element = (<div></div>);\n  if (currentUser) {\n    renderComponent = (\n      <Component />\n    );\n  } else if (!currentUser) {\n    renderComponent = (\n      <Redirect to='/log-in' />\n    );\n  };\n\n  return (\n    <Route\n      {...props.exact}\n      path={props.path}\n    >\n      {renderComponent}\n    </Route >\n  );\n}","// material-ui\nimport { styled } from '@mui/material/styles';\nimport Card from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport CardContent from '@mui/material/Box';\nimport Paper from '@mui/material/Paper';\n// THIS PROJECT\n// components\nimport { FlexCenter } from './flex';\n\nexport const LargeCard = styled(Card)(({\n  theme\n}) => ({\n  width: 'clamp(300px, 98vw, 750px)',\n  margin: 'auto',\n  paddingBottom: theme.spacing(5),\n  backgroundColor: 'white',\n}));\n\nexport const SmallCard = styled(Card)(({\n  theme\n}) => ({\n  width: 'clamp(300px, 98vw, 500px)',\n  margin: 'auto',\n  paddingBottom: theme.spacing(2),\n  backgroundColor: 'white',\n}));\n\nexport const ExtraSmallCard = styled(Card)(({\n  theme\n}) => ({\n  width: 'clamp(200px, 50vw, 300px)',\n  margin: 'auto',\n  paddingBottom: theme.spacing(2),\n  backgroundColor: 'white',\n}));\n\nexport const ContentHeader = styled('div')(({\n  theme\n}) => ({\n  padding: theme.spacing(1),\n  width: '100%',\n  textAlign: 'center',\n}));\n\nexport const ContentTitle = styled(Typography)(({\n  theme\n}) => ({\n  color: theme.titleColor.darkBlue,\n}));\n\ninterface IconContentTitleProps {\n  icon: JSX.Element;\n  children: React.ReactChild | React.ReactChild[];\n  variant?: 'h1'\n  | 'h2'\n  | 'h3'\n  | 'h4'\n  | 'h5'\n  | 'h6'\n  | 'subtitle1'\n  | 'subtitle2'\n  | 'body1'\n  | 'body2'\n  | 'caption'\n  | 'button'\n  | 'overline'\n  | 'inherit';\n};\nexport function IconContentTitle(props: IconContentTitleProps): React.ReactElement {\n  return (\n    <FlexCenter style={{ gap: 10 }}>\n      {props.icon}\n      <ContentTitle variant={props.variant}>{props.children}</ContentTitle>\n    </FlexCenter>\n  );\n};\n\nexport const LargeContent = styled(CardContent)({\n  width: 'clamp(300px, 98vw, 600px)',\n  padding: 10,\n  margin: '0px auto 0px auto',\n  backgroundColor: 'white'\n});\n\nexport const SmallContent = styled(CardContent)({\n  width: 'clamp(300px, 98vw, 450px)',\n  padding: 10,\n  margin: 'auto',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  flexDirection: 'column',\n});\n\nexport const ContentPaper = styled(Paper)(({\n  theme\n}) => ({\n  padding: theme.spacing(2),\n  margin: theme.spacing(1),\n}));","// react\nimport { useState } from 'react';\n// react-router-dom\nimport { Redirect } from 'react-router-dom';\n// material-ui\nimport { Theme } from '@mui/material/styles';\nimport makeStyles from '@mui/styles/makeStyles';\nimport Button from '@mui/material/Button';\nimport Divider from '@mui/material/Divider';\nimport TextField from '@mui/material/TextField';\n// THIS PROJECT\n// components\nimport { ExtraSmallCard, ContentHeader, ContentTitle } from '../common/cardContent';\nimport { FlexCenter } from '../common/flex';\n// hooks\nimport { useAuthContext } from '../../contexts/AuthContext';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  outerFlex: {\n    height: '80vh',\n    width: '100vw',\n    position: 'fixed',\n    x: 0,\n    y: 0\n  },\n  card: {\n    padding: theme.spacing(3),\n  },\n  nameField: {\n    marginTop: 0,\n    margin: theme.spacing(2),\n  },\n  title: {\n    fontFamily: 'Lobster',\n  }\n}));\n\nexport default function LogIn(): React.ReactElement {\n  const classes = useStyles();\n  const { currentUser, logIn } = useAuthContext();\n\n  const [name, setName] = useState<string>('');\n\n  const changeName = (e: React.ChangeEvent<{ value: unknown; }>): void => {\n    setName(e.target.value as string);\n  };\n\n  const submit = () => logIn(name);\n\n  return (\n    <>\n      <FlexCenter className={classes.outerFlex}>\n        <ExtraSmallCard className={classes.card}>\n          <ContentHeader>\n            <FlexCenter>\n              <ContentTitle className={classes.title} variant='h5'>Auto Inventory Flow</ContentTitle>\n            </FlexCenter>\n            <Divider />\n          </ContentHeader>\n          <FlexCenter flexDirection='column'>\n            <TextField id='user-name' label=\"Name\" variant='outlined' size='small'\n              className={classes.nameField} onChange={changeName} value={name} autoComplete='off' />\n            <Button onClick={submit} color='primary' variant='contained'\n              disabled={name.length > 0 ? false : true}>\n              Log In\n            </Button>\n          </FlexCenter>\n        </ExtraSmallCard>\n      </FlexCenter>\n      {currentUser && <Redirect to='/' />}\n    </>\n  );\n}","// react\nimport { useState } from 'react';\n// react-router-dom\nimport { useHistory } from 'react-router-dom';\n// material-ui\nimport { Theme } from '@mui/material/styles';\nimport makeStyles from '@mui/styles/makeStyles';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport Button from '@mui/material/Button';\nimport FilterListIcon from '@mui/icons-material/FilterList';\n// THS PROJECT\n// hooks\nimport { useVehiclePage } from '../../hooks';\n// types\nimport { VehicleStatus } from '../../types/Vehicle';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  trash: {\n    color: theme.palette.secondary.main,\n  },\n  sold: {\n    color: theme.palette.success.main,\n  },\n  active: {\n    color: theme.palette.primary.main,\n  },\n}));\n\ninterface StatusFilterProps {\n  filter: VehicleStatus;\n  setFilter: (filter: VehicleStatus) => void;\n}\nexport default function StatusFilter(props: StatusFilterProps): React.ReactElement {\n  const classes = useStyles();\n  const history = useHistory();\n  const { statusParam, sortParam, perPageParam } = useVehiclePage();\n\n  const [filterAnchor, setFilterAnchor] = useState<null | HTMLElement>(null);\n\n  const handleFilterClick = (e: React.MouseEvent<HTMLElement>) => {\n    setFilterAnchor(e.currentTarget);\n  };\n\n  const handleFilterClose = (newStatus: VehicleStatus) => {\n    setFilterAnchor(null);\n    history.push(`/all-vehicles/${newStatus}/${sortParam}/${perPageParam}/first/0`);\n  };\n\n  let filterDisplay: JSX.Element;\n\n  if (statusParam === 'trash') {\n    filterDisplay = <span className={classes.trash}>TRASH</span>;\n  } else if (statusParam === 'sold') {\n    filterDisplay = <span className={classes.sold}>SOLD</span>;\n  } else {\n    filterDisplay = <span className={classes.active}>ACTIVE</span>;\n  };\n\n  return (\n    <>\n      <Button size='small' startIcon={<FilterListIcon />} aria-controls='filter-menu' aria-haspopup='true' onClick={handleFilterClick}>\n        {filterDisplay}\n      </Button>\n      <Menu\n        id=\"filter-menu\"\n        anchorEl={filterAnchor}\n        keepMounted\n        open={Boolean(filterAnchor)}\n        onClose={() => handleFilterClose(statusParam)}\n      >\n        <MenuItem onClick={() => handleFilterClose('active')}>Active</MenuItem>\n        <MenuItem onClick={() => handleFilterClose('sold')}>Sold</MenuItem>\n        <MenuItem onClick={() => handleFilterClose('trash')}>Trash</MenuItem>\n      </Menu>\n    </>\n  );\n}\n","// react-router-dom\nimport { useHistory } from 'react-router';\n// material-ui\nimport Button from '@mui/material/Button';\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward';\n// THIS PROJECT\n// hooks\nimport { useVehiclePage, useQuery } from '../../hooks';\n// types\nimport { ListOrder } from '../../types/misc';\n\ninterface VehicleOrderProps {\n  sort: ListOrder;\n  setSort: (sort: ListOrder) => void;\n};\nexport default function VehicleOrder(props: VehicleOrderProps): React.ReactElement {\n  const history = useHistory();\n  const { sort, setSort } = props;\n  const { statusParam, perPageParam } = useVehiclePage();\n  const query = useQuery().toString();\n\n  const vehicleOrderClick = () => {\n    let newSort: ListOrder;\n    sort === 'asc' ? newSort = 'desc' : newSort = 'asc';\n    setSort(newSort);\n    history.push(`/all-vehicles/${statusParam}/${newSort}/${perPageParam}/first/0?${query}`);\n  };\n\n  return (\n    <Button\n      size='small'\n      startIcon={<ArrowDownwardIcon />}\n      aria-controls='sort-menu'\n      aria-haspopup='true'\n      onClick={vehicleOrderClick}\n    >\n      {sort === 'asc' ? 'oldest' : 'recent'}\n    </Button>\n  );\n}","// react-router-dom\nimport { Link } from 'react-router-dom';\nimport makeStyles from '@mui/styles/makeStyles';\nimport Box from '@mui/material/Box';\nimport Fab from '@mui/material/Fab';\nimport AddIcon from '@mui/icons-material/Add';\n\nconst useStyles = makeStyles({\n  addButton: {\n    position: 'absolute',\n    right: 5,\n    top: 5,\n  },\n});\n\nexport default function AddVehicleButton(): React.ReactElement {\n  const classes = useStyles();\n\n  return (\n    <Box className={classes.addButton}>\n      <Link to='/add-vehicle'>\n        <Fab size='small' color=\"primary\" aria-label=\"add\">\n          <AddIcon />\n        </Fab>\n      </Link>\n    </Box>\n  );\n}","// material-ui\nimport Dialog from '@mui/material/Dialog';\nimport DialogContent from '@mui/material/DialogContent';\nimport makeStyles from '@mui/styles/makeStyles';\n\nconst useStyles = makeStyles((theme) => ({\n  dialog: {\n    margin: 'auto',\n  },\n  dialogContent: {\n    width: '80vw',\n    maxWidth: 400,\n    maxHeight: '90vh',\n  },\n}));\n\ninterface SelectDialogProps {\n  open: boolean;\n  setOpen: (val: boolean) => void;\n  children: JSX.Element;\n  flex?: boolean;\n};\nexport default function SelectDialog(props: SelectDialogProps): React.ReactElement {\n  const classes = useStyles();\n\n  const { open, setOpen, children, flex } = props;\n\n  return (\n    <Dialog className={classes.dialog} open={open} onClose={() => setOpen(false)}>\n      <DialogContent className={classes.dialogContent}\n        style={flex ? { display: 'flex', justifyContent: 'center', alignItems: 'center' } : {}}\n      >\n        {children}\n      </DialogContent>\n    </Dialog>\n  );\n};\n","// material-ui\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport ExpandMore from '@mui/icons-material/ExpandMore';\n\ninterface CustomSelectProps {\n  label: string;\n  id: string;\n  value: string;\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>;\n  disabled?: boolean;\n  className?: string,\n  button?: boolean,\n  TextFieldProps?: any,\n  ButtonProps?: any;\n};\nexport default function CustomSelect(props: CustomSelectProps): React.ReactElement {\n  const { label, id, value, setOpen, disabled, className, button, TextFieldProps, ButtonProps } = props;\n\n  if (button) {\n    return (\n      <Button\n        id={id}\n        className={className && className}\n        onClick={() => { !disabled && setOpen(true); }}\n        variant='outlined'\n        size='small'\n        color={!value ? 'inherit' : 'primary'}\n        {...ButtonProps}\n        disabled={disabled ? true : false}\n      >\n        {value ? value : label}\n      </Button>\n    );\n  } else {\n    return (\n      <TextField\n        className={className && className}\n        label={label}\n        id={id}\n        value={value}\n        variant='outlined'\n        InputProps={{\n          endAdornment: <ExpandMore />,\n          readOnly: true,\n          style: {\n            cursor: 'pointer'\n          }\n        }}\n        inputProps={{\n          style: {\n            cursor: 'pointer'\n          }\n        }}\n        onClick={() => { !disabled && setOpen(true); }}\n        {...TextFieldProps}\n        disabled={disabled ? true : false}\n      />\n    );\n  };\n}","// material-ui\nimport ListItem from '@mui/material/ListItem';\nimport ListItemText from '@mui/material/ListItemText';\nimport RadioButtonUncheckedIcon from '@mui/icons-material/RadioButtonUnchecked';\nimport RadioButtonCheckedIcon from '@mui/icons-material/RadioButtonChecked';\nimport makeStyles from '@mui/styles/makeStyles';\n\nconst useStyles = makeStyles((theme) => ({\n  listItem: {\n    paddingLeft: theme.spacing(2),\n  },\n  emphasized: {\n    fontStyle: 'italic',\n    paddingLeft: theme.spacing(1),\n  },\n}));\n\ninterface SelectListItemProps {\n  onClick: (selection: unknown) => void;\n  textVal: string;\n  selectCondition: boolean;\n  emphasize?: boolean;\n};\nexport default function SelectListItem(props: SelectListItemProps): React.ReactElement {\n  const classes = useStyles();\n\n  const { onClick, textVal, selectCondition, emphasize } = props;\n\n  return (\n    <ListItem button onClick={onClick} className={emphasize ? classes.emphasized : classes.listItem}>\n      <ListItemText primary={textVal} />\n      {selectCondition\n        ? <RadioButtonCheckedIcon color='primary' />\n        : <RadioButtonUncheckedIcon />}\n    </ListItem>\n  );\n}","// react\nimport { useState } from 'react';\n// material-ui\nimport Divider from '@mui/material/Divider';\nimport List from '@mui/material/List';\n// THIS PROJECT\n// components\nimport SelectDialog from '../SelectDialog';\nimport CustomSelect from '../CustomSelect';\nimport SelectListItem from '../SelectListItem';\n// types\nimport { Set } from '../../../types/misc';\n\ninterface YearSelectProps {\n  year: string;\n  setYear: Set<string>;\n  className?: string;\n  button?: boolean;\n  TextFieldProps?: any;\n  ButtonProps?: any;\n};\nexport default function YearSelect(props: YearSelectProps): React.ReactElement {\n  const { year, setYear, className, button, TextFieldProps, ButtonProps } = props;\n\n  const currentDate = new Date();\n  const currentYear = currentDate.getFullYear();\n  let years = [];\n  for (let i = 1980; i <= currentYear; i++) {\n    years.unshift(i.toString());\n  };\n\n  const [open, setOpen] = useState<boolean>(false);\n\n  const handleYearSelect = (year: string) => {\n    setYear(year);\n    setOpen(false);\n  };\n\n  return (\n    <>\n      <CustomSelect\n        label={button ? 'year' : 'Year*'}\n        id='year-select'\n        value={year}\n        setOpen={setOpen}\n        className={className}\n        button={button ? true : false}\n        TextFieldProps={TextFieldProps}\n        ButtonProps={ButtonProps}\n      />\n      <SelectDialog open={open} setOpen={setOpen}>\n        <List>\n          <SelectListItem\n            onClick={() => handleYearSelect('')}\n            textVal={''}\n            selectCondition={year === ''}\n          />\n          <Divider />\n          {years.map(yeartmp =>\n            <div key={yeartmp}>\n              <SelectListItem\n                onClick={() => handleYearSelect(yeartmp)}\n                textVal={yeartmp}\n                selectCondition={yeartmp === year}\n              />\n              <Divider />\n            </div>)}\n        </List>\n      </SelectDialog >\n    </>\n  );\n}","// material-ui\nimport ListItem from '@mui/material/ListItem';\nimport ListItemText from '@mui/material/ListItemText';\nimport AddIcon from '@mui/icons-material/Add';\nimport makeStyles from '@mui/styles/makeStyles';\n\nconst useStyles = makeStyles((theme) => ({\n  emphasized: {\n    fontStyle: 'italic',\n    paddingLeft: theme.spacing(1),\n  },\n}));\n\ninterface AddListItemProps {\n  onClick: () => void;\n  textVal: string;\n};\nexport default function AddListItem(props: AddListItemProps): React.ReactElement {\n  const classes = useStyles();\n\n  const { onClick, textVal } = props;\n\n  return (\n    <ListItem button onClick={onClick} className={classes.emphasized}>\n      <ListItemText primary={textVal} />\n      <AddIcon />\n    </ListItem>\n  );\n}","type ResultStatus = 'success' | 'exists' | 'failed';\n\nexport abstract class Result {\n  status: ResultStatus;\n  constructor(status: ResultStatus) {\n    this.status = status;\n  }\n};\n\nexport class SuccessResult extends Result {\n  constructor() {\n    super('success');\n  }\n};\n\nexport class GetSuccess<Return> extends SuccessResult {\n  data: Return;\n\n  constructor(data: Return) {\n    super();\n    this.data = data;\n  };\n};\n\nexport class PostSuccess<Doc, Data = void> extends SuccessResult {\n  id: string;\n  doc: Doc;\n  data?: Data;\n\n  constructor(id: string, addedDoc: Doc, data?: Data,) {\n    super();\n    this.id = id;\n    this.doc = addedDoc;\n    this.data = data;\n  };\n};\n\nexport class PostExists extends Result {\n  field: string;\n  value: string;\n  patch: null = null;\n  doc: null = null;\n  data: null = null;\n\n  constructor(field: string, value: string) {\n    super('exists');\n    this.field = field;\n    this.value = value;\n  };\n};\n\nexport class PatchSuccess<Patch, Doc, Data = void> extends PostSuccess<Doc, Data> {\n  patch: Patch;\n\n  constructor(id: string, patch: Patch, doc: Doc, data?: Data) {\n    super(id, doc, data);\n    this.patch = patch;\n  };\n};\n\nexport class PatchManyResult<Return> extends Result {\n  constructor(\n    public status: 'success' | 'failed',\n    public patches: (PatchSuccess<unknown, unknown> | FailedResult)[],\n    public data: Return\n  ) { super(status); }\n}\n\nexport class DeleteSuccess extends SuccessResult { };\n\nexport class FailedResult extends Result {\n  patch = null;\n  doc = null;\n  data = null;\n  error?: string;\n  requestBody?: object;\n  details?: string;\n\n  constructor(error?: string, requestBody?: object, details?: string) {\n    super('failed');\n    this.error = error;\n    this.requestBody = requestBody;\n    this.details = details;\n  };\n}","// types\nimport { VehiclePage, AddVehicleParam, VehicleStatus, DetailedVehicle, NextStock, CheckStock, ModelDoc } from '../types/Vehicle';\nimport { GetSuccess, PostSuccess, PatchSuccess, PostExists, FailedResult, DeleteSuccess } from '../types/ServiceResults';\nimport { IdName, ListOrder, Page } from '../types/misc';\n\nconst vehicles = 'http://localhost:7000/api/vehicles';\n\nexport async function getVehiclesPaged(status: VehicleStatus, sort: ListOrder, perPage: number, page: Page, compare: number, query: string): Promise<GetSuccess<VehiclePage> | FailedResult> {\n  const response = await fetch(`${vehicles}/get-vehicles-paged/${status}/${sort}/${perPage}/${page}/${compare}?${query}`);\n  const json = await response.json();\n  return json;\n}\n\nexport async function getVehiclesByStatus(statusArray: VehicleStatus[]): Promise<GetSuccess<DetailedVehicle[]> | FailedResult> {\n  const queryParams = statusArray.map(status => `status=${status}`).join('&');\n  const response = await fetch(vehicles + `?${queryParams}`);\n  const json = await response.json();\n  return json;\n}\n\nexport async function findVehicle(field: 'id' | 'stock', value: string): Promise<GetSuccess<DetailedVehicle> | FailedResult> {\n  const response = await fetch(`${vehicles}/find?field=${field}&value=${value}`);\n  const json = await response.json();\n  return json;\n};\n\nexport async function getNextStock(): Promise<GetSuccess<NextStock> | FailedResult> {\n  const response = await fetch(vehicles + '/next-stock');\n  const json = await response.json();\n  return json;\n};\n\nexport async function checkStock(stock: string): Promise<GetSuccess<CheckStock> | FailedResult> {\n  if (!stock) return new GetSuccess({ exists: false });\n  const response = await fetch(`${vehicles}/check-stock?stock=${stock}`);\n  const json = await response.json();\n  return json;\n};\n\nexport async function getMakes(): Promise<GetSuccess<IdName[]> | FailedResult> {\n  const response = await fetch(vehicles + '/makes');\n  const json = await response.json();\n  return json;\n};\n\nexport async function addMake(make: string): Promise<PostSuccess<IdName, IdName[]> | PostExists | FailedResult> {\n  const body = { make };\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  };\n  const response = await fetch(vehicles + '/add-make', options);\n  const json = await response.json();\n  return json;\n};\n\nexport async function getModels(makeId: string): Promise<GetSuccess<IdName[]> | FailedResult> {\n  const response = await fetch(`${vehicles}/models?makeId=${makeId}`);\n  const json = await response.json();\n  return json;\n};\n\nexport async function addModel(makeId: string, model: string): Promise<PostSuccess<ModelDoc, IdName[]> | PostExists | FailedResult> {\n  const body = { makeId, model };\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  };\n  const response = await fetch(vehicles + '/add-model', options);\n  const json = await response.json();\n  return json;\n};\n\nexport async function getTrims(modelId: string): Promise<GetSuccess<IdName[]> | FailedResult> {\n  const response = await fetch(`${vehicles}/trims?modelId=${modelId}`);\n  const json = await response.json();\n  return json;\n}\n\nexport async function addTrim(modelId: string, trim: string): Promise<PatchSuccess<IdName, ModelDoc, IdName[]> | PostExists | FailedResult> {\n  const body = { modelId, trim };\n  const options = {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  };\n  const response = await fetch(vehicles + '/add-trim', options);\n  const json = await response.json();\n  return json;\n}\n\nexport async function addVehicle(addVehicleParam: AddVehicleParam, initialStageParam: any): Promise<PostSuccess<DetailedVehicle> | PostExists | FailedResult> {\n  const body = {\n    addVehicleParam: JSON.stringify({ ...addVehicleParam, dateAdded: Date.now() }),\n    initialStageParam: JSON.stringify(initialStageParam),\n  };\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  };\n  const response = await fetch(vehicles + '/add', options);\n  const json = await response.json();\n  return json;\n}\n\nexport async function updateVehicle(vehicleId: string, updateDoc: object): Promise<PatchSuccess<object, DetailedVehicle> | FailedResult> {\n  const body = {\n    vehicleId,\n    updateDoc: JSON.stringify(updateDoc),\n  };\n  const options = {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  };\n  const response = await fetch(vehicles + '/update', options);\n  const json = await response.json();\n  return json;\n}\n\nexport async function sellVehicle(vehicleId: string, stageAssignmentId: string, dateSold: number): Promise<PatchSuccess<object, DetailedVehicle> | FailedResult> {\n  const body = {\n    vehicleId,\n    stageAssignmentId,\n    dateSold,\n  };\n  const options = {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  };\n  const response = await fetch(vehicles + '/sell', options);\n  const json = await response.json();\n  return json;\n}\n\nexport async function deleteVehicle(vehicleId: string): Promise<DeleteSuccess | FailedResult> {\n  const body = { vehicleId };\n  const options = {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  };\n  const response = await fetch(vehicles + '/delete', options);\n  const json = await response.json();\n  return json;\n}","// react\nimport { useState, useEffect, MutableRefObject, useRef } from 'react';\n// material-ui\nimport Collapse from '@mui/material/Collapse';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport makeStyles from '@mui/styles/makeStyles';\n// THIS PROJECT\n// components\nimport { FlexCenter } from '../flex';\n// hooks\nimport { useCheckMounted } from '../../../hooks';\n// services\nimport { addMake } from '../../../services/vehicles';\n// contexts\nimport { useDemoContext } from '../../../contexts/DemoContext';\n// types\nimport { IdName, Set } from '../../../types/misc';\nimport { PostRequestStatus } from '../../../types/ServiceRequests';\n\n\nconst useStyles = makeStyles((theme) => ({\n  addButtons: {\n    marginLeft: 'auto',\n  },\n}));\n\ninterface AddMakeProps {\n  makeSelectParent: {\n    mounted: MutableRefObject<boolean>;\n    setMake: Set<IdName>;\n  };\n  makeSelect: {\n    mounted: MutableRefObject<boolean>;\n    addMake: boolean;\n    setAddMake: Set<boolean>;\n    setMakes: Set<IdName[]>;\n    open: boolean;\n    setOpen: Set<boolean>;\n  };\n};\nexport default function AddMake(props: AddMakeProps): React.ReactElement {\n  const classes = useStyles();\n  const { delay } = useDemoContext();\n\n  const { makeSelectParent: p, makeSelect: ms } = props;\n\n  const mounted = useCheckMounted();\n  const [addMakeStatus, setAddMakeStatus] = useState<PostRequestStatus | ''>('');\n  const [addMakeInput, setAddMakeInput] = useState<string>('');\n\n  const handleChangeAddMakeInput = (e: React.ChangeEvent<{ value: string; }>): void => {\n    setAddMakeInput(e.target.value.toUpperCase());\n  };\n\n  // we need to create an updated openRef because the ms.open value will get stale within a function\n  const openRef = useRef(ms.open);\n  useEffect(() => {\n    openRef.current = ms.open;\n  }, [ms.open]);\n\n  const handleAddMake = async () => {\n    setAddMakeStatus('loading');\n    await delay();\n    addMake(addMakeInput)\n      .then(result => {\n        mounted.current && setAddMakeStatus(result.status as PostRequestStatus);\n        switch (result.status) {\n          case 'success':\n            if (p.mounted.current && openRef.current) {\n              result.doc && p.setMake(result.doc);\n            }\n            if (ms.mounted.current) {\n              ms.setAddMake(false);\n              result.data && ms.setMakes(result.data);\n              ms.setOpen(false);\n            }\n            break;\n          default:\n            mounted.current && setAddMakeInput('');\n            break;\n        };\n      }, e => {\n        setAddMakeStatus('failed');\n        console.error(e);\n      });\n  };\n\n  return (\n    <Collapse in={ms.addMake} timeout='auto' unmountOnExit>\n      <List>\n        {addMakeStatus === 'loading'\n          ? <FlexCenter><CircularProgress /></FlexCenter>\n          : <>\n            {addMakeStatus === 'exists'\n              &&\n              <Typography color='secondary'>\n                Already exists\n              </Typography>}\n            {addMakeStatus === 'failed'\n              &&\n              <Typography color='secondary'>\n                Failed to add make\n              </Typography>}\n            <ListItem>\n              <TextField\n                autoFocus\n                fullWidth\n                id='add-make-input'\n                label='Add Make*'\n                value={addMakeInput}\n                onChange={handleChangeAddMakeInput}\n                autoComplete='off'\n              />\n            </ListItem>\n            <div className={classes.addButtons}>\n              <Button onClick={() => ms.setAddMake(false)}>Cancel</Button>\n              <Button\n                onClick={addMakeInput ? handleAddMake : () => { }}\n                disabled={addMakeInput ? false : true}\n                color='primary'>\n                Add\n              </Button>\n            </div>\n          </>}\n      </List>\n    </Collapse>\n  );\n}","// react\nimport { useEffect, useState, useCallback } from 'react';\n// material-ui\nimport Divider from '@mui/material/Divider';\nimport List from '@mui/material/List';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Typography from '@mui/material/Typography';\nimport Collapse from '@mui/material/Collapse';\n// THIS PROJECT\n// components\nimport SelectDialog from '../SelectDialog';\nimport CustomSelect from '../CustomSelect';\nimport SelectListItem from '../SelectListItem';\nimport AddListItem from '../AddListItem';\nimport AddMake from './AddMake';\n// hooks\nimport { useCheckMounted } from '../../../hooks';\n// services\nimport { getMakes as getMakesService } from '../../../services/vehicles';\n// contexts\nimport { useDemoContext } from '../../../contexts/DemoContext';\n// types\nimport { IdName, Set } from '../../../types/misc';\nimport { GetRequestStatus } from '../../../types/ServiceRequests';\n\ninterface MakeSelectProps {\n  parent: {\n    mounted: React.MutableRefObject<boolean>;\n    make: IdName;\n    setMake: Set<IdName>;\n  };\n  allowAddMake?: boolean;\n  className?: string;\n  button?: boolean;\n  TextFieldProps?: any;\n  ButtonProps?: any;\n};\nexport default function MakeSelect(props: MakeSelectProps): React.ReactElement {\n  const { delay } = useDemoContext();\n  const {\n    parent,\n    allowAddMake,\n    className,\n    button,\n    TextFieldProps,\n    ButtonProps\n  } = props;\n\n  const {\n    mounted: pMounted,\n    make,\n    setMake\n  } = parent;\n\n  const mounted = useCheckMounted();\n\n  const [open, setOpen] = useState<boolean>(false);\n\n  const handleMakeSelect = (maketmp = make) => {\n    setMake(maketmp);\n    setOpen(false);\n  };\n\n  const [makes, setMakes] = useState<IdName[]>([]);\n  const [getMakesStatus, setGetMakesStatus] = useState<GetRequestStatus>('loading');\n\n  const getMakes = useCallback(async () => {\n    setGetMakesStatus('loading');\n    await delay();\n    getMakesService()\n      .then(result => {\n        mounted.current && result.data && setMakes(result.data);\n        mounted.current && setGetMakesStatus(result.status as GetRequestStatus);\n      }, e => {\n        mounted.current && setGetMakesStatus('failed');\n        console.error(e);\n      });\n\n  },\n    [delay, mounted]\n  );\n\n  useEffect(() => {\n    getMakes();\n  }, [getMakes]);\n\n  const [addMake, setAddMake] = useState<boolean>(false);\n\n  useEffect(() => {\n    !open && setAddMake(false);\n  }, [open]);\n\n  let dialogContent: JSX.Element;\n\n  switch (getMakesStatus) {\n    case 'loading':\n      dialogContent = <CircularProgress />;\n      break;\n    case 'failed':\n      dialogContent = <Typography>error loading makes</Typography>;\n      break;\n    default:\n      dialogContent = (\n        <>\n          <Collapse in={!addMake} timeout='auto' unmountOnExit>\n            <List>\n              <SelectListItem\n                onClick={() => handleMakeSelect({ id: '', name: '' })}\n                textVal=''\n                selectCondition={!make.name}\n              />\n              <Divider />\n              {makes.map(maketmp =>\n                <div key={maketmp.id}>\n                  <SelectListItem\n                    onClick={() => handleMakeSelect(maketmp)}\n                    textVal={maketmp.name}\n                    selectCondition={maketmp === make}\n                  />\n                  <Divider />\n                </div>)}\n              {allowAddMake &&\n                <AddListItem\n                  onClick={() => setAddMake(true)}\n                  textVal='Add Make'\n                />}\n            </List >\n          </Collapse>\n          {allowAddMake && <AddMake\n            makeSelectParent={{\n              mounted: pMounted,\n              setMake: setMake,\n            }}\n            makeSelect={{\n              mounted,\n              setMakes,\n              addMake,\n              setAddMake,\n              open,\n              setOpen\n            }}\n          />}\n        </>\n      );\n  };\n\n  return (\n    <>\n      <CustomSelect\n        label={button ? 'make' : 'Make*'}\n        id='make-select'\n        value={make.name}\n        setOpen={setOpen}\n        className={className}\n        button={button ? true : false}\n        TextFieldProps={TextFieldProps}\n        ButtonProps={ButtonProps}\n      />\n      <SelectDialog open={open} setOpen={setOpen}\n        flex={getMakesStatus === 'success' ? false : true}>\n        {dialogContent}\n      </SelectDialog>\n    </>\n  );\n};\n","// react\nimport { useState, useEffect, MutableRefObject, useRef } from 'react';\n// material-ui\nimport Collapse from '@mui/material/Collapse';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport makeStyles from '@mui/styles/makeStyles';\n// THIS PROJECT\n// components\nimport { FlexCenter } from '../flex';\n// hooks\nimport { useCheckMounted } from '../../../hooks';\n// services\nimport { addModel } from '../../../services/vehicles';\n// contexts\nimport { useDemoContext } from '../../../contexts/DemoContext';\n// types\nimport { IdName, Set } from '../../../types/misc';\nimport { PostRequestStatus } from '../../../types/ServiceRequests';\n\nconst useStyles = makeStyles((theme) => ({\n  addButtons: {\n    marginLeft: 'auto',\n  },\n}));\n\ninterface AddModelProps {\n  modelSelectParent: {\n    mounted: MutableRefObject<boolean>;\n    makeId: string;\n    setModel: Set<IdName>;\n  };\n  modelSelect: {\n    mounted: MutableRefObject<boolean>;\n    addModel: boolean;\n    setAddModel: Set<boolean>;\n    setModels: Set<IdName[]>;\n    open: boolean;\n    setOpen: Set<boolean>;\n  };\n};\nexport default function AddModel(props: AddModelProps): React.ReactElement {\n  const classes = useStyles();\n  const { delay } = useDemoContext();\n\n  const { modelSelectParent: p, modelSelect: ms } = props;\n\n  const mounted = useCheckMounted();\n  const [addModelStatus, setAddModelStatus] = useState<PostRequestStatus | ''>('');\n  const [addModelInput, setAddModelInput] = useState<string>('');\n\n  const handleChangeAddModelInput = (e: React.ChangeEvent<{ value: string; }>): void => {\n    setAddModelInput(e.target.value.toUpperCase());\n  };\n\n  // we need to create an updated openRef because the ms.open value will get stale within a function\n  const openRef = useRef(ms.open);\n  useEffect(() => {\n    openRef.current = ms.open;\n  }, [ms.open]);\n\n  const handleAddModel = async () => {\n    setAddModelStatus('loading');\n    await delay();\n    addModel(p.makeId, addModelInput)\n      .then(result => {\n        mounted.current && setAddModelStatus(result.status as PostRequestStatus);\n        switch (result.status) {\n          case 'success':\n            if (p.mounted.current && openRef.current) {\n              result.doc && p.setModel(result.doc);\n            }\n            if (ms.mounted.current) {\n              ms.setAddModel(false);\n              result.data && ms.setModels(result.data);\n              ms.setOpen(false);\n            }\n            break;\n          default:\n            mounted.current && setAddModelInput('');\n            break;\n        };\n      }, e => {\n        setAddModelStatus('failed');\n        console.error(e);\n      });\n  };\n\n  return (\n    <Collapse in={ms.addModel} timeout='auto' unmountOnExit>\n      <List>\n        {addModelStatus === 'loading'\n          ? <FlexCenter><CircularProgress /></FlexCenter>\n          : <>\n            {addModelStatus === 'exists'\n              &&\n              <Typography color='secondary'>\n                Already exists\n              </Typography>}\n            {addModelStatus === 'failed'\n              &&\n              <Typography color='secondary'>\n                Failed to add model\n              </Typography>}\n            <ListItem>\n              <TextField\n                autoFocus\n                fullWidth\n                id='add-model-input'\n                label='Add Model*'\n                value={addModelInput}\n                onChange={handleChangeAddModelInput}\n                autoComplete='off'\n              />\n            </ListItem>\n            <div className={classes.addButtons}>\n              <Button onClick={() => ms.setAddModel(false)}>Cancel</Button>\n              <Button\n                onClick={addModelInput ? handleAddModel : () => { }}\n                disabled={addModelInput ? false : true}\n                color='primary'>\n                Add\n              </Button>\n            </div>\n          </>}\n      </List>\n    </Collapse>\n  );\n}","// react\nimport { useEffect, useState, MutableRefObject, useCallback } from 'react';\n// material-ui\nimport Divider from '@mui/material/Divider';\nimport List from '@mui/material/List';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Typography from '@mui/material/Typography';\nimport Collapse from '@mui/material/Collapse';\n// THIS PROJECT\n// components\nimport SelectDialog from '../SelectDialog';\nimport CustomSelect from '../CustomSelect';\nimport SelectListItem from '../SelectListItem';\nimport AddListItem from '../AddListItem';\nimport AddModel from './AddModel';\n// hooks\nimport { useCheckMounted } from '../../../hooks';\n// services\nimport { getModels as getModelsService } from '../../../services/vehicles';\n// contexts\nimport { useDemoContext } from '../../../contexts/DemoContext';\n// types\nimport { IdName, Set } from '../../../types/misc';\nimport { GetRequestStatus } from '../../../types/ServiceRequests';\n\ninterface MakeSelectProps {\n  parent: {\n    mounted: MutableRefObject<boolean>;\n    make: IdName;\n    model: IdName;\n    setModel: Set<IdName>;\n  };\n  allowAddModel?: boolean,\n  className?: string,\n  button?: boolean,\n  TextFieldProps?: any,\n  ButtonProps?: any;\n};\nexport default function MakeSelect(props: MakeSelectProps): React.ReactElement {\n  const { delay } = useDemoContext();\n  const {\n    parent,\n    allowAddModel,\n    className,\n    button,\n    TextFieldProps,\n    ButtonProps\n  } = props;\n\n  const {\n    mounted: pMounted,\n    make,\n    model,\n    setModel\n  } = parent;\n\n  const mounted = useCheckMounted();\n\n  const [open, setOpen] = useState<boolean>(false);\n\n  const handleModelSelect = (modeltmp = model) => {\n    setModel(modeltmp);\n    setOpen(false);\n  };\n\n  const [models, setModels] = useState<IdName[]>([]);\n  const [getModelsStatus, setGetModelsStatus] = useState<GetRequestStatus>('loading');\n\n  const getModels = useCallback(async () => {\n    setGetModelsStatus('loading');\n    await delay();\n    getModelsService(make.id)\n      .then(result => {\n        mounted.current && result.data && setModels(result.data);\n        mounted.current && setGetModelsStatus(result.status as GetRequestStatus);\n      }, e => {\n        mounted.current && setGetModelsStatus('failed');\n        console.error(e);\n      });\n  },\n    [delay, mounted, make]\n  );\n\n  useEffect(() => {\n    setModel({ id: '', name: '' });\n    if (make.id) {\n      getModels();\n    };\n  }, [getModels, make.id, setModel]);\n\n  const [addModel, setAddModel] = useState<boolean>(false);\n\n  useEffect(() => {\n    !open && setAddModel(false);\n  }, [open]);\n\n  let dialogContent: JSX.Element;\n\n  switch (getModelsStatus) {\n    case 'loading':\n      dialogContent = <CircularProgress />;\n      break;\n    case 'failed':\n      dialogContent = <Typography>error loading models</Typography>;\n      break;\n    default:\n      dialogContent = (\n        <>\n          <Collapse in={!addModel} timeout='auto' unmountOnExit>\n            <List>\n              <SelectListItem\n                onClick={() => handleModelSelect({ id: '', name: '', })}\n                textVal=''\n                selectCondition={!model.name}\n              />\n              <Divider />\n              {models?.map(modeltmp =>\n                <div key={modeltmp.id}>\n                  <SelectListItem\n                    onClick={() => handleModelSelect(modeltmp)}\n                    textVal={modeltmp.name}\n                    selectCondition={modeltmp.name === model.name}\n                  />\n                  <Divider />\n                </div>)}\n              {allowAddModel &&\n                <AddListItem\n                  onClick={() => setAddModel(true)}\n                  textVal='Add Model'\n                />}\n            </List >\n          </Collapse>\n          {allowAddModel && <AddModel\n            modelSelectParent={{\n              mounted: pMounted,\n              makeId: make.id,\n              setModel: setModel\n            }}\n            modelSelect={{\n              mounted,\n              addModel,\n              setAddModel,\n              setModels,\n              open,\n              setOpen\n            }}\n          />}\n        </>\n      );\n  };\n\n  return (\n    <>\n      <CustomSelect\n        label={button ? 'model' : 'Model*'}\n        id='model-select'\n        value={model.name}\n        setOpen={setOpen}\n        className={className}\n        button={button ? true : false}\n        TextFieldProps={TextFieldProps}\n        ButtonProps={ButtonProps}\n        disabled={make.name ? false : true}\n      />\n      <SelectDialog open={open} setOpen={setOpen}\n        flex={getModelsStatus === 'success' ? false : true}>\n        {dialogContent}\n      </SelectDialog>\n    </>\n  );\n};\n","// react\nimport { useState, useEffect, MutableRefObject, useRef } from 'react';\n// material-ui\nimport Collapse from '@mui/material/Collapse';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport makeStyles from '@mui/styles/makeStyles';\n// THIS PROJECT\n// components\nimport { FlexCenter } from '../flex';\n// hooks\nimport { useCheckMounted } from '../../../hooks';\n// services\nimport { addTrim } from '../../../services/vehicles';\n// contexts\nimport { useDemoContext } from '../../../contexts/DemoContext';\n// types\nimport { IdName, Set } from '../../../types/misc';\nimport { PostRequestStatus } from '../../../types/ServiceRequests';\n\nconst useStyles = makeStyles((theme) => ({\n  addButtons: {\n    marginLeft: 'auto',\n  },\n}));\n\ninterface AddTrimProps {\n  trimSelectParent: {\n    mounted: MutableRefObject<boolean>;\n    modelId: string;\n    setTrim: Set<IdName>;\n  };\n  trimSelect: {\n    mounted: MutableRefObject<boolean>;\n    addTrim: boolean;\n    setAddTrim: Set<boolean>;\n    setTrims: Set<IdName[]>;\n    open: boolean;\n    setOpen: Set<boolean>;\n  };\n};\nexport default function AddTrim(props: AddTrimProps): React.ReactElement {\n  const classes = useStyles();\n  const { delay } = useDemoContext();\n\n  const { trimSelectParent: p, trimSelect: ts } = props;\n\n  const mounted = useCheckMounted();\n  const [addTrimStatus, setAddTrimStatus] = useState<PostRequestStatus | ''>('');\n  const [addTrimInput, setAddTrimInput] = useState<string>('');\n\n  const handleChangeAddTrimInput = (e: React.ChangeEvent<{ value: string; }>): void => {\n    setAddTrimInput(e.target.value.toUpperCase());\n  };\n\n  // we need to create an updated openRef because the ms.open value will get stale within a function\n  const openRef = useRef(ts.open);\n  useEffect(() => {\n    openRef.current = ts.open;\n  }, [ts.open]);\n\n  const handleAddTrim = async () => {\n    setAddTrimStatus('loading');\n    await delay();\n    addTrim(p.modelId, addTrimInput)\n      .then(result => {\n        mounted.current && setAddTrimStatus(result.status as PostRequestStatus);\n        switch (result.status) {\n          case 'success':\n            if (p.mounted.current && openRef.current) {\n              result.patch && p.setTrim(result.patch);\n            }\n            if (ts.mounted.current) {\n              ts.setAddTrim(false);\n              result.data && ts.setTrims(result.data);\n              ts.setOpen(false);\n            }\n            break;\n          default:\n            mounted.current && setAddTrimInput('');\n            break;\n        };\n      }, e => {\n        setAddTrimStatus('failed');\n        console.error(e);\n      });\n  };\n\n  return (\n    <Collapse in={ts.addTrim} timeout='auto' unmountOnExit>\n      <List>\n        {addTrimStatus === 'loading'\n          ? <FlexCenter><CircularProgress /></FlexCenter>\n          : <>\n            {addTrimStatus === 'exists'\n              &&\n              <Typography color='secondary'>\n                Already exists\n              </Typography>}\n            {addTrimStatus === 'failed'\n              &&\n              <Typography color='secondary'>\n                Failed to add trim\n              </Typography>}\n            <ListItem>\n              <TextField\n                autoFocus\n                fullWidth\n                id='add-trim-input'\n                label='Add Trim*'\n                value={addTrimInput}\n                onChange={handleChangeAddTrimInput}\n                autoComplete='off'\n              />\n            </ListItem>\n            <div className={classes.addButtons}>\n              <Button onClick={() => ts.setAddTrim(false)}>Cancel</Button>\n              <Button\n                onClick={addTrimInput ? handleAddTrim : () => { }}\n                disabled={addTrimInput ? false : true}\n                color='primary'>\n                Add\n              </Button>\n            </div>\n          </>}\n      </List>\n    </Collapse>\n  );\n}","// react\nimport { useEffect, useState, MutableRefObject, useCallback } from 'react';\n// material-ui\nimport Divider from '@mui/material/Divider';\nimport List from '@mui/material/List';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Typography from '@mui/material/Typography';\nimport Collapse from '@mui/material/Collapse';\n// THIS PROJECT\n// components\nimport SelectDialog from '../SelectDialog';\nimport CustomSelect from '../CustomSelect';\nimport SelectListItem from '../SelectListItem';\nimport AddListItem from '../AddListItem';\nimport AddTrim from './AddTrim';\n// hooks\nimport { useCheckMounted } from '../../../hooks';\n// sevices\nimport { getTrims as getTrimsService } from '../../../services/vehicles';\n// contexts\nimport { useDemoContext } from '../../../contexts/DemoContext';\n// types\nimport { IdName, Set } from '../../../types/misc';\nimport { GetRequestStatus } from '../../../types/ServiceRequests';\n\ninterface TrimSelectProps {\n  parent: {\n    mounted: MutableRefObject<boolean>;\n    make: IdName;\n    model: IdName;\n    trim: IdName;\n    setTrim: Set<IdName>;\n  };\n  allowAddTrim?: boolean;\n  className?: string;\n  button?: boolean;\n  TextFieldProps?: any;\n  ButtonProps?: any;\n};\nexport default function TrimSelect(props: TrimSelectProps): React.ReactElement {\n  const { delay } = useDemoContext();\n  const {\n    parent,\n    allowAddTrim,\n    className,\n    button,\n    TextFieldProps,\n    ButtonProps\n  } = props;\n\n  const {\n    mounted: pMounted,\n    make,\n    model,\n    trim,\n    setTrim\n  } = parent;\n\n  const mounted = useCheckMounted();\n\n  const [open, setOpen] = useState<boolean>(false);\n\n  const handleTrimSelect = (trimtmp = trim) => {\n    setTrim(trimtmp);\n    setOpen(false);\n  };\n\n  const [trims, setTrims] = useState<IdName[]>([]);\n  const [getTrimsStatus, setGetTrimsStatus] = useState<GetRequestStatus>('loading');\n\n  const getTrims = useCallback(async () => {\n    setGetTrimsStatus('loading');\n    await delay();\n    getTrimsService(model.id)\n      .then(result => {\n        mounted.current && result.data && setTrims(result.data);\n        mounted.current && setGetTrimsStatus(result.status as GetRequestStatus);\n      }, e => {\n        mounted.current && setGetTrimsStatus('failed');\n        console.error(e);\n      });\n  },\n    [delay, mounted, model.id]\n  );\n\n  useEffect(() => {\n    setTrim({ id: '', name: '' });\n    if (model.id) {\n      getTrims();\n    };\n  }, [getTrims, setTrim, model.id]);\n\n  const [addTrim, setAddTrim] = useState<boolean>(false);\n\n  useEffect(() => {\n    !open && setAddTrim(false);\n  }, [open]);\n\n  let dialogContent: JSX.Element;\n\n  switch (getTrimsStatus) {\n    case 'loading':\n      dialogContent = <CircularProgress />;\n      break;\n    case 'failed':\n      dialogContent = <Typography>error loading makes</Typography>;\n      break;\n    default:\n      dialogContent = (\n        <>\n          <Collapse in={!addTrim} timeout='auto' unmountOnExit>\n            <List>\n              <SelectListItem\n                onClick={() => handleTrimSelect({ id: '', name: '' })}\n                textVal=''\n                selectCondition={!make.name}\n              />\n              <Divider />\n              {trims.map(trimtmp =>\n                <div key={trimtmp.id}>\n                  <SelectListItem\n                    onClick={() => handleTrimSelect(trimtmp)}\n                    textVal={trimtmp.name}\n                    selectCondition={trimtmp === trim}\n                  />\n                  <Divider />\n                </div>)}\n              {allowAddTrim &&\n                <AddListItem\n                  onClick={() => setAddTrim(true)}\n                  textVal='Add Trim'\n                />}\n            </List >\n          </Collapse>\n          {allowAddTrim && <AddTrim\n            trimSelectParent={{\n              mounted: pMounted,\n              modelId: model.id,\n              setTrim: setTrim,\n            }}\n            trimSelect={{\n              mounted,\n              addTrim,\n              setAddTrim,\n              setTrims,\n              open,\n              setOpen\n            }}\n          />}\n        </>\n      );\n  };\n\n  return (\n    <>\n      <CustomSelect\n        label={button ? 'trim' : 'Trim'}\n        id='trim-select'\n        value={trim.name}\n        setOpen={setOpen}\n        className={className}\n        button={button ? true : false}\n        TextFieldProps={TextFieldProps}\n        ButtonProps={ButtonProps}\n        disabled={model.name ? false : true}\n      />\n      <SelectDialog open={open} setOpen={setOpen}\n        flex={getTrimsStatus === 'success' ? false : true}>\n        {dialogContent}\n      </SelectDialog>\n    </>\n  );\n}","// mui\nimport makeStyles from '@mui/styles/makeStyles';\n// THIS PROJECT\n// components\nimport { FlexStart } from '../../common/flex';\nimport YearSelect from '../../common/vehicles/YearSelect';\nimport MakeSelect from '../../common/vehicles/MakeSelect';\nimport ModelSelect from '../../common/vehicles/ModelSelect';\nimport TrimSelect from '../../common/vehicles/TrimSelect';\n// types\nimport { VehicleDetailFilterState } from \"../../../types/Vehicle\";\n\nconst useStyles = makeStyles((theme) => ({\n  select: {\n    margin: theme.spacing(.5),\n  }\n}));\n\ninterface VehicleDetailFiltersProps {\n  mounted: React.MutableRefObject<boolean>;\n  vehicleDetailFilterState: VehicleDetailFilterState;\n}\nexport default function VehicleDetailFilters(props: VehicleDetailFiltersProps): React.ReactElement {\n  const classes = useStyles();\n  const { mounted, vehicleDetailFilterState } = props;\n  const {\n    yearFilterTmp, setYearFilterTmp,\n    makeFilterTmp, setMakeFilterTmp,\n    modelFilterTmp, setModelFilterTmp,\n    trimFilterTmp, setTrimFilterTmp,\n  } = vehicleDetailFilterState;\n\n  return (\n    <FlexStart flexWrap='wrap'>\n      <YearSelect\n        className={classes.select}\n        year={yearFilterTmp}\n        setYear={setYearFilterTmp}\n        button\n      />\n      <MakeSelect\n        parent={{\n          mounted,\n          make: makeFilterTmp,\n          setMake: setMakeFilterTmp\n        }}\n        className={classes.select}\n        button\n      />\n      <ModelSelect\n        parent={{\n          mounted,\n          make: makeFilterTmp,\n          model: modelFilterTmp,\n          setModel: setModelFilterTmp\n        }}\n        className={classes.select}\n        button\n      />\n      <TrimSelect\n        parent={{\n          mounted,\n          make: makeFilterTmp,\n          model: modelFilterTmp,\n          trim: trimFilterTmp,\n          setTrim: setTrimFilterTmp\n        }}\n        className={classes.select}\n        button\n      />\n    </FlexStart>);\n\n\n}","// react\nimport { useEffect, useState } from 'react';\n// mui\nimport TextField from '@mui/material/TextField';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport makeStyles from '@mui/styles/makeStyles';\nimport Button from '@mui/material/Button';\nimport { LocalizationProvider } from \"@mui/lab\";\nimport DatePicker from '@mui/lab/DatePicker';\nimport DateRangeIcon from '@mui/icons-material/DateRange';\nimport Dialog from '@mui/material/Dialog';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport { FormControl } from '@mui/material';\n// THIS PROJECT\n// components\nimport { FlexCenter } from './flex';\n// types\nimport { Set } from '../../types/misc';\n\nconst useStyles = makeStyles(theme => ({\n  dialogTitle: {\n    color: theme.titleColor.darkBlue,\n    textAlign: 'center',\n  },\n  datePicker: {\n    margin: theme.spacing(1),\n  }\n}));\n\ninterface DateRangeSelectProps {\n  buttonLabel: string;\n  dialogTitle: string;\n  after: number | null;\n  setAfter: Set<number | null>;\n  before: number | null;\n  setBefore: Set<number | null>;\n  className?: string;\n};\nexport default function DateRangeSelect(props: DateRangeSelectProps): React.ReactElement {\n  const classes = useStyles();\n\n  const { buttonLabel, dialogTitle, after, setAfter, before, setBefore, className } = props;\n  const [openDialog, setOpenDialog] = useState<boolean>(false);\n\n  const [afterTmp, setAfterTmp] = useState<number | null>(null);\n  const [beforeTmp, setBeforeTmp] = useState<number | null>(null);\n\n  useEffect(() => {\n    setAfterTmp(after);\n    setBeforeTmp(before);\n  }, [after, before]);\n\n  const clearClick = () => {\n    setAfterTmp(null);\n    setBeforeTmp(null);\n  };\n\n  const okClick = () => {\n    const after = afterTmp ? new Date(afterTmp).getTime() : null;\n    const before = beforeTmp ? new Date(beforeTmp).getTime() : null;\n    setAfter(after);\n    setBefore(before);\n    setOpenDialog(false);\n  };\n\n  return (\n    <>\n      <Button\n        className={className}\n        startIcon={<DateRangeIcon />}\n        size='small'\n        variant='outlined'\n        onClick={() => { openDialog ? setOpenDialog(false) : setOpenDialog(true); }}\n        color={(after || before) ? 'primary' : 'inherit'}\n      >\n        {buttonLabel}\n      </Button>\n      <Dialog open={openDialog} aria-labelledby='date-range-select'>\n        <DialogTitle className={classes.dialogTitle}>{dialogTitle}</DialogTitle>\n        <DialogContent>\n          <LocalizationProvider dateAdapter={AdapterDateFns}>\n            <FlexCenter flexDirection='column'>\n              <FormControl className={classes.datePicker}>\n                <DatePicker\n                  clearable\n                  label='Start Date'\n                  value={afterTmp}\n                  onChange={(newValue) => setAfterTmp(newValue)}\n                  renderInput={(params) => <TextField {...params} />}\n                />\n              </FormControl>\n              <FormControl className={classes.datePicker}>\n                <DatePicker\n                  clearable\n                  label='End Date'\n                  value={beforeTmp}\n                  onChange={(newValue) => setBeforeTmp(newValue)}\n                  renderInput={(params) => <TextField {...params} />}\n                  minDate={afterTmp}\n                />\n              </FormControl>\n            </FlexCenter>\n          </LocalizationProvider>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            size='large'\n            onClick={clearClick}\n          >\n            CLEAR\n          </Button>\n          <Button\n            size='large'\n            onClick={okClick}\n          >\n            OK\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n\n}\n\n","// THIS PROJECT\nimport DateRangeSelect from '../DateRangeSelect';\n// components\nimport { Set } from '../../../types/misc';\n\ninterface DateAddedSelectProps {\n  after: number | null;\n  setAfter: Set<number | null>;\n  before: number | null;\n  setBefore: Set<number | null>;\n  className?: string;\n}\nexport default function DateAddedSelect(props: DateAddedSelectProps): React.ReactElement {\n  const { after, setAfter, before, setBefore, className } = props;\n\n  const afterDate = after && new Date(after).toLocaleDateString();\n  const beforeDate = before && new Date(before).toLocaleDateString();\n\n  const buttonLabel = (after && before)\n    ? `Added: ${afterDate} to ${beforeDate}`\n    : after\n      ? `Added: after ${afterDate}`\n      : before\n        ? `Added: before ${beforeDate}`\n        : 'Date Added';\n\n  return (\n    <DateRangeSelect\n      buttonLabel={buttonLabel}\n      dialogTitle='Select Date Added Range'\n      after={after}\n      setAfter={setAfter}\n      before={before}\n      setBefore={setBefore}\n      className={className}\n    />\n  );\n}","// THIS PROJECT\nimport DateRangeSelect from '../DateRangeSelect';\n// components\n// components\nimport { Set } from '../../../types/misc';\n\ninterface DateAddedSelectProps {\n  after: number | null;\n  setAfter: Set<number | null>;\n  before: number | null;\n  setBefore: Set<number | null>;\n  className?: string;\n}\nexport default function DateAddedSelect(props: DateAddedSelectProps): React.ReactElement {\n  const { after, setAfter, before, setBefore, className } = props;\n\n  const afterDate = after && new Date(after).toLocaleDateString();\n  const beforeDate = before && new Date(before).toLocaleDateString();\n\n  const buttonLabel = (after && before)\n    ? `Sold: ${afterDate} to ${beforeDate}`\n    : after\n      ? `Sold: after ${afterDate}`\n      : before\n        ? `Sold: before ${beforeDate}`\n        : 'Date Sold';\n\n  return (\n    <DateRangeSelect\n      buttonLabel={buttonLabel}\n      dialogTitle='Select Date Sold Range'\n      after={after}\n      setAfter={setAfter}\n      before={before}\n      setBefore={setBefore}\n      className={className}\n    />\n  );\n}","// mui\nimport makeStyles from '@mui/styles/makeStyles';\n// THIS PROJECT\n// components\nimport { FlexStart } from '../../common/flex';\nimport DateAddedSelect from '../../common/vehicles/DateAddedSelect';\nimport DateSoldSelect from '../../common/vehicles/DateSoldSelect';\n// hooks\nimport { useVehiclePage } from '../../../hooks';\n// types\nimport { DateRangeFilterState } from \"../../../types/Vehicle\";\n\nconst useStyles = makeStyles((theme) => ({\n  select: {\n    margin: theme.spacing(.5),\n  }\n}));\n\ninterface DateRangeFiltersProps {\n  dateRangeFilterState: DateRangeFilterState;\n}\nexport default function DateRangeFilters(props: DateRangeFiltersProps): React.ReactElement {\n  const classes = useStyles();\n  const { statusParam } = useVehiclePage();\n  const {\n    addedAfterFilterTmp, setAddedAfterFilterTmp,\n    addedBeforeFilterTmp, setAddedBeforeFilterTmp,\n    soldAfterFilterTmp, setSoldAfterFilterTmp,\n    soldBeforeFilterTmp, setSoldBeforeFilterTmp,\n  } = props.dateRangeFilterState;\n\n  return (\n    <FlexStart flexWrap='wrap'>\n      <DateAddedSelect\n        after={addedAfterFilterTmp}\n        setAfter={setAddedAfterFilterTmp}\n        before={addedBeforeFilterTmp}\n        setBefore={setAddedBeforeFilterTmp}\n        className={classes.select}\n      />\n      {statusParam === 'sold' &&\n        <DateSoldSelect\n          after={soldAfterFilterTmp}\n          setAfter={setSoldAfterFilterTmp}\n          before={soldBeforeFilterTmp}\n          setBefore={setSoldBeforeFilterTmp}\n          className={classes.select}\n        />\n      }\n    </FlexStart>\n  );\n}","// mui\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Checkbox from '@mui/material/Checkbox';\n// THIS PROJECT\n// types\nimport { Set } from '../../../types/misc';\n\ninterface ShowForSaleFilterProps {\n  showForSaleTmp: boolean;\n  setShowForSaleTmp: Set<boolean>;\n}\nexport default function ShowForSaleFilter(props: ShowForSaleFilterProps): React.ReactElement {\n  const { showForSaleTmp, setShowForSaleTmp } = props;\n\n  return (\n    <FormControlLabel\n      control={\n        <Checkbox\n          size='small'\n          checked={showForSaleTmp}\n          onChange={() => showForSaleTmp ? setShowForSaleTmp(false) : setShowForSaleTmp(true)}\n        />\n      }\n      label={`Show \"For Sale\" Vehicles`}\n      sx={{\n        margin: 0,\n        '& .MuiFormControlLabel-label': {\n          color: showForSaleTmp ? 'primary.main' : 'black',\n          fontSize: 14\n        }\n      }}\n    />\n  );\n}","// react\nimport { useState, useEffect } from 'react';\n// react-router-dom\nimport { useHistory } from 'react-router';\n// mui\nimport makeStyles from '@mui/styles/makeStyles';\nimport Button from '@mui/material/Button';\n// THIS PROJECT\n// components\nimport { FlexEnd, FlexSpaceBtwn } from '../../common/flex';\nimport VehicleDetailFilters from './VehicleDetailFilters';\nimport DateRangeFilters from './DateRangeFilters';\nimport ShowForSaleFilter from './ShowForSaleFilter';\n// hooks\nimport { useVehiclePage, useQuery } from '../../../hooks';\n// types\nimport { IdName, Set } from '../../../types/misc';\nimport { DateRangeFilterState, VehicleDetailFilterState } from '../../../types/Vehicle';\n\nconst useStyles = makeStyles((theme) => ({\n  filterActions: {\n    marginTop: theme.spacing(1),\n  },\n}));\n\ninterface VehicleListFiltersProps {\n  mounted: React.MutableRefObject<boolean>;\n  setViewFilters: Set<boolean>;\n  setFilterCount: Set<number>;\n};\nexport default function VehicleListFilters(props: VehicleListFiltersProps): React.ReactElement {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { statusParam, sortParam, perPageParam } = useVehiclePage();\n  const { mounted, setViewFilters, setFilterCount } = props;\n\n  // UI STATE\n  // vehicle details\n  const [yearFilterTmp, setYearFilterTmp] = useState<string>('');\n  const [makeFilterTmp, setMakeFilterTmp] = useState<IdName>({ id: '', name: '' });\n  const [modelFilterTmp, setModelFilterTmp] = useState<IdName>({ id: '', name: '' });\n  const [trimFilterTmp, setTrimFilterTmp] = useState<IdName>({ id: '', name: '' });\n  // date ranges\n  const [addedAfterFilterTmp, setAddedAfterFilterTmp] = useState<number | null>(null);\n  const [addedBeforeFilterTmp, setAddedBeforeFilterTmp] = useState<number | null>(null);\n  const [soldAfterFilterTmp, setSoldAfterFilterTmp] = useState<number | null>(null);\n  const [soldBeforeFilterTmp, setSoldBeforeFilterTmp] = useState<number | null>(null);\n  // show 'For Sale'\n  const [showForSaleTmp, setShowForSaleTmp] = useState<boolean>(false);\n\n  // APPLIED FILTERS STATE\n  // vehicle details\n  const [yearFilter, setYearFilter] = useState<string>('');\n  const [makeFilter, setMakeFilter] = useState<IdName>({ id: '', name: '' });\n  const [modelFilter, setModelFilter] = useState<IdName>({ id: '', name: '' });\n  const [trimFilter, setTrimFilter] = useState<IdName>({ id: '', name: '' });\n  // date ranges\n  const [addedAfterFilter, setAddedAfterFilter] = useState<number | null>(null);\n  const [addedBeforeFilter, setAddedBeforeFilter] = useState<number | null>(null);\n  const [soldAfterFilter, setSoldAfterFilter] = useState<number | null>(null);\n  const [soldBeforeFilter, setSoldBeforeFilter] = useState<number | null>(null);\n  // show 'For Sale'\n  const [showForSale, setShowForSale] = useState<boolean>(false);\n\n  // SETTING FILTERS IN THE UI ON REFRESH\n  // utilizing the query string at th end of the url\n  const query = useQuery();\n  // vehicle details\n  const yearQuery = query.get('year');\n  const makeQuery = query.get('make');\n  const modelQuery = query.get('model');\n  const trimQuery = query.get('trim');\n  // date ranges\n  const addedAfterQuery = query.get('addedAfter');\n  const addedBeforeQuery = query.get('addedBefore');\n  const soldAfterQuery = query.get('soldAfter');\n  const soldBeforeQuery = query.get('soldBefore');\n  // show 'For Sale'\n  const showForSaleQuery = query.get('forSale');\n\n  // set filters values based on queries\n  useEffect(() => {\n    yearQuery ? setYearFilterTmp(yearQuery) : setYearFilterTmp('');\n    yearQuery ? setYearFilter(yearQuery) : setYearFilter('');\n\n    const makeTmp = makeQuery ? makeQuery.split('-') : ['', ''];\n    setMakeFilterTmp({ id: makeTmp[1], name: makeTmp[0] });\n    setMakeFilter({ id: makeTmp[1], name: makeTmp[0] });\n\n    const modelTmp = modelQuery ? modelQuery.split('-') : ['', ''];\n    setModelFilterTmp({ id: modelTmp[1], name: modelTmp[0] });\n    setModelFilter({ id: modelTmp[1], name: modelTmp[0] });\n\n    addedAfterQuery ? setAddedAfterFilterTmp(parseFloat(addedAfterQuery)) : setAddedAfterFilterTmp(null);\n    addedAfterQuery ? setAddedAfterFilter(parseFloat(addedAfterQuery)) : setAddedAfterFilter(null);\n\n    addedBeforeQuery ? setAddedBeforeFilterTmp(parseFloat(addedBeforeQuery)) : setAddedBeforeFilterTmp(null);\n    addedBeforeQuery ? setAddedBeforeFilter(parseFloat(addedBeforeQuery)) : setAddedBeforeFilter(null);\n\n    soldAfterQuery ? setSoldAfterFilterTmp(parseFloat(soldAfterQuery)) : setSoldAfterFilterTmp(null);\n    soldAfterQuery ? setSoldAfterFilter(parseFloat(soldAfterQuery)) : setSoldAfterFilter(null);\n\n    soldBeforeQuery ? setSoldBeforeFilterTmp(parseFloat(soldBeforeQuery)) : setSoldBeforeFilterTmp(null);\n    soldBeforeQuery ? setSoldBeforeFilter(parseFloat(soldBeforeQuery)) : setSoldBeforeFilter(null);\n\n    const showForSaleQueryTmp = showForSaleQuery === 'true' ? true : false;\n    setShowForSaleTmp(showForSaleQueryTmp);\n    setShowForSale(showForSaleQueryTmp);\n  }, [yearQuery, makeQuery, modelQuery, trimQuery, addedAfterQuery, addedBeforeQuery, soldAfterQuery, soldBeforeQuery, showForSaleQuery]);\n\n  // have to 'step through' make filter before setting model filter because make filter clears model filter when it is set\n  useEffect(() => {\n    const modelTmp = modelQuery ? modelQuery.split('-') : ['', ''];\n    setModelFilterTmp({ id: modelTmp[1], name: modelTmp[0] });\n    setModelFilter({ id: modelTmp[1], name: modelTmp[0] });\n  }, [makeFilter, modelQuery]);\n\n  // have to 'step through' model filter before setting trim filter because model filter clears trim filter when it is set\n  useEffect(() => {\n    const trimTmp = trimQuery ? trimQuery.split('-') : ['', ''];\n    setTrimFilterTmp({ id: trimTmp[1], name: trimTmp[0] });\n    setTrimFilter({ id: trimTmp[1], name: trimTmp[0] });\n  }, [modelFilter, trimQuery]);\n\n  // ^^ SETTING FILTERS IN THE UI ON REFRESH ^^\n\n  const removeFiltersClick = () => {\n    // vehicle details\n    setYearFilter(''); setYearFilterTmp('');\n    setMakeFilter({ id: '', name: '' }); setMakeFilterTmp({ id: '', name: '' });\n    setModelFilter({ id: '', name: '' }); setModelFilterTmp({ id: '', name: '' });\n    setTrimFilter({ id: '', name: '' }); setTrimFilterTmp({ id: '', name: '' });\n    // date ranges\n    setAddedAfterFilter(null); setAddedAfterFilterTmp(null);\n    setAddedBeforeFilter(null); setAddedBeforeFilterTmp(null);\n    setSoldAfterFilter(null); setSoldAfterFilterTmp(null);\n    setSoldBeforeFilter(null); setSoldBeforeFilterTmp(null);\n    // show 'For Sale'\n    setShowForSale(false); setShowForSaleTmp(false);\n\n    setViewFilters(false);\n    history.push(`/all-vehicles/${statusParam}/${sortParam}/${perPageParam}/first/0`);\n  };\n\n  const applyFiltersClick = () => {\n    // sync filterTmps with filters\n    // vehicle details\n    setYearFilter(yearFilterTmp);\n    setMakeFilter(makeFilterTmp);\n    setModelFilter(modelFilterTmp);\n    setTrimFilter(trimFilterTmp);\n    // date ranges\n    setAddedAfterFilter(addedAfterFilterTmp);\n    setAddedBeforeFilter(addedBeforeFilterTmp);\n    setSoldAfterFilter(soldAfterFilterTmp);\n    setSoldBeforeFilter(soldBeforeFilterTmp);\n    // show 'For Sale'\n    setViewFilters(false);\n\n    // create our query string to append to the end of our url, and then push to that url\n    const queries = [];\n    // vehicle details\n    yearFilterTmp && queries.push(`year=${yearFilterTmp}`);\n    makeFilterTmp.id && queries.push(`make=${makeFilterTmp.name}-${makeFilterTmp.id}`);\n    modelFilterTmp.id && queries.push(`model=${modelFilterTmp.name}-${modelFilterTmp.id}`);\n    trimFilterTmp.id && queries.push(`trim=${trimFilterTmp.name}-${trimFilterTmp.id}`);\n    // date ranges\n    addedAfterFilterTmp && queries.push(`addedAfter=${addedAfterFilterTmp}`);\n    addedBeforeFilterTmp && queries.push(`addedBefore=${addedBeforeFilterTmp}`);\n    soldAfterFilterTmp && queries.push(`soldAfter=${soldAfterFilterTmp}`);\n    soldBeforeFilterTmp && queries.push(`soldBefore=${soldBeforeFilterTmp}`);\n    // show 'For Sale'\n    showForSaleTmp && queries.push(`forSale=${showForSaleTmp}`);\n\n    const queryString = `${queries.join('&')}`;\n    history.push(`/all-vehicles/${statusParam}/${sortParam}/${perPageParam}/first/0?${queryString}`);\n  };\n\n  const disableApplyFilters = (\n    yearFilter === yearFilterTmp &&\n    makeFilter.id === makeFilterTmp.id &&\n    modelFilter.id === modelFilterTmp.id &&\n    trimFilter.id === trimFilterTmp.id &&\n    addedAfterFilterTmp === addedAfterFilter &&\n    addedBeforeFilterTmp === addedBeforeFilter &&\n    soldAfterFilterTmp === soldAfterFilter &&\n    soldBeforeFilterTmp === soldBeforeFilter &&\n    showForSaleTmp === showForSale\n  );\n\n  // GET THE FILTER COUNT\n  useEffect(() => {\n    let value: number = 0;\n    // vehicle detail filters\n    yearFilter !== '' && value++;\n    const calculate = (filter: IdName) => filter.name !== '' && value++;\n    [makeFilter, modelFilter, trimFilter].forEach(filter => calculate(filter));\n    // date range filters\n    (addedAfterFilter || addedBeforeFilter) && value++;\n    (soldAfterFilter || soldBeforeFilter) && value++;\n    // show 'For Sale'\n    showForSale && value++;\n\n    setFilterCount(value);\n  }, [yearFilter, makeFilter, modelFilter, trimFilter, addedAfterFilter, addedBeforeFilter, soldAfterFilter, soldBeforeFilter, showForSale, setFilterCount]);\n\n  // CHILD STATE OBJECTS\n  const vehicleDetailFilterState: VehicleDetailFilterState = {\n    yearFilterTmp, setYearFilterTmp,\n    makeFilterTmp, setMakeFilterTmp,\n    modelFilterTmp, setModelFilterTmp,\n    trimFilterTmp, setTrimFilterTmp,\n  };\n\n  const dateRangeFilterState: DateRangeFilterState = {\n    addedAfterFilterTmp, setAddedAfterFilterTmp,\n    addedBeforeFilterTmp, setAddedBeforeFilterTmp,\n    soldAfterFilterTmp, setSoldAfterFilterTmp,\n    soldBeforeFilterTmp, setSoldBeforeFilterTmp,\n  };\n\n  return (\n    <>\n      <FlexSpaceBtwn flexWrap='wrap'>\n        <VehicleDetailFilters\n          mounted={mounted}\n          vehicleDetailFilterState={vehicleDetailFilterState}\n        />\n        <DateRangeFilters dateRangeFilterState={dateRangeFilterState} />\n        {statusParam === 'active'\n          && <ShowForSaleFilter\n            showForSaleTmp={showForSaleTmp}\n            setShowForSaleTmp={setShowForSaleTmp}\n          />}\n      </FlexSpaceBtwn>\n      <FlexEnd className={classes.filterActions}>\n        <Button\n          onClick={removeFiltersClick}\n        >\n          REMOVE FILTERS\n        </Button>\n        <Button\n          onClick={applyFiltersClick}\n          disabled={disableApplyFilters}\n          color='primary'\n        >\n          APPLY FILTERS\n        </Button>\n      </FlexEnd>\n    </>\n  );\n}","// material-ui\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport Skeleton from '@mui/material/Skeleton';\nimport makeStyles from '@mui/styles/makeStyles';\n\nconst useStyles = makeStyles({\n  skeleton: {\n    width: '100%',\n  },\n});\n\ninterface LoadingListProps {\n  skeletonCount: number;\n};\nexport default function LoadingList(props: LoadingListProps): React.ReactElement {\n  const classes = useStyles();\n\n  const list: JSX.Element[] = [];\n\n  for (let i = 0; i < props.skeletonCount; i++) {\n    list.push(\n      <ListItem key={i}>\n        <Skeleton className={classes.skeleton} variant='text' />\n      </ListItem>\n    );\n  };\n  return (\n    <List>\n      {list.map(skeleton => skeleton)}\n    </List>\n  );\n};\n","import { styled } from '@mui/system';\nimport ListItemButton from '@mui/material/ListItemButton';\n\nconst VehicleListItemButton = styled(ListItemButton)(({ theme }) => ({\n  marginTop: theme.spacing(1),\n  marginBottom: theme.spacing(1),\n  padding: 0,\n  display: 'flex',\n  justifyContent: 'space-between'\n}));\n\nexport default VehicleListItemButton;","// material-ui\nimport ListItemText from '@mui/material/ListItemText';\nimport Typography from '@mui/material/Typography';\nimport makeStyles from '@mui/styles/makeStyles';\n// THIS PROJECT\n// types\nimport { DetailedVehicle } from '../../../types/Vehicle';\n\nconst useStyles = makeStyles(theme => ({\n  textContainer: {\n    width: '60%',\n  },\n  stockLi: {\n    fontSize: 12,\n    color: 'black',\n  },\n  vehicleTextLi: {\n    width: '100%',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    fontSize: 14,\n    color: 'black',\n  },\n  stock: {\n    fontSize: 16,\n    color: 'black',\n  },\n  vehicleText: {\n    color: theme.titleColor.darkBlue,\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n}));\n\ninterface VehicleInfoProps {\n  vehicle: DetailedVehicle;\n  variant?: any;\n  listItem?: boolean;\n};\nexport default function VehicleInfo(props: VehicleInfoProps): React.ReactElement {\n  const classes = useStyles();\n  const { vehicle, variant, listItem } = props;\n  const { stock, year, make, model, trim } = vehicle;\n\n  if (listItem) {\n    return (\n      <div className={classes.textContainer}>\n        <ListItemText>\n          <span className={classes.stockLi}>stk#:{stock > 0 && stock}</span>\n          <br></br>\n          <div className={classes.vehicleTextLi}>{year} {make.name} {model.name} {trim.name}</div>\n        </ListItemText>\n      </div>\n    );\n  };\n\n  return (\n    <div>\n      <Typography variant={variant ? variant : 'body1'}>\n        <span className={classes.stock} style={{ fontSize: 14 }}>stk#:{stock > 0 && stock}</span>\n        <br></br>\n        <div className={classes.vehicleText}> {year} {make.name} {model.name} {trim.name}</div>\n      </Typography>\n    </div>\n  );\n}","// material-ui\nimport { styled } from '@mui/material/styles';\n\nconst VehicleChipGroup = styled('div')({\n  float: 'right',\n  height: '90%',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'flex-end',\n  flexDirection: 'column',\n  width: 'clamp(100px, 35%, 150px)',\n});\n\nexport default VehicleChipGroup;","// material-ui\nimport Chip from '@mui/material/Chip';\nimport { styled } from '@mui/material/styles';\n\nconst VehicleChip = styled(Chip)(({\n  theme\n}) => ({\n  margin: theme.spacing(.25),\n  width: '100%',\n}));\n\nexport default VehicleChip;","// material-ui\nimport Divider from '@mui/material/Divider';\n// THIS PROJECT\n// components\nimport VehicleListItemButton from '../../common/vehicles/VehicleListItemButton';\nimport VehicleInfo from '../../common/vehicles/VehicleInfo';\nimport VehicleChipGroup from '../../common/vehicles/VehicleChipGroup';\nimport VehicleChip from '../../common/vehicles/VehicleChip';\n// hooks\nimport { useAuthContext } from '../../../contexts/AuthContext';\n// types\nimport { DetailedVehicle } from '../../../types/Vehicle';\n\ninterface ActiveVehicleProps {\n  vehicle: DetailedVehicle;\n  onClick: () => void;\n  className?: string;\n};\nexport default function ActiveVehicle(props: ActiveVehicleProps): React.ReactElement {\n  const { vehicle, onClick, className } = props;\n  const { currentStage } = vehicle;\n  const { stage, personPlace, status } = currentStage;\n  const { userPreferences } = useAuthContext();\n  const { defaultStageAssignment } = userPreferences;\n  const { stage: defaultStage, personPlace: defaultPersonPlace } = defaultStageAssignment;\n\n  return (\n    <>\n      <VehicleListItemButton className={className ? className : ''} onClick={onClick}>\n        <VehicleInfo vehicle={vehicle} listItem />\n        <VehicleChipGroup>\n          {stage.name === 'Assign'\n            ? <VehicleChip size='small' label={stage.name} color='secondary' />\n            : status === 'complete'\n              ? <VehicleChip size='small' label={defaultStage.name} color='secondary' />\n              : <VehicleChip size='small' label={stage.name} color='primary' />\n          }\n          {status === 'complete'\n            ? <VehicleChip size='small' label={defaultPersonPlace.name} />\n            : <VehicleChip size='small' label={personPlace.name} />}\n        </VehicleChipGroup>\n      </VehicleListItemButton>\n      <Divider />\n    </>\n  );\n}","// material-ui\nimport makeStyles from '@mui/styles/makeStyles';\nimport Typography from '@mui/material/Typography';\n\n\nconst useStyles = makeStyles({\n  timeDifferenceLabel: {\n    fontSize: 10,\n  },\n});\n\ninterface FormatTimeProps {\n  milliseconds: number;\n  color?: 'primary' | 'secondary';\n};\nexport default function FormatTime(props: FormatTimeProps): React.ReactElement {\n  const classes = useStyles();\n\n  const { milliseconds, color } = props;\n\n  if (milliseconds < (1000 * 60)) {\n    return (\n      <Typography color={color ? color : 'inherit'}>\n        {Math.round(milliseconds / 1000)} <span className={classes.timeDifferenceLabel}> secs</span>\n      </Typography>\n    );\n  } else if (milliseconds < (1000 * 60 * 60)) {\n    return (\n      <Typography color={color ? color : 'inherit'}>\n        {Math.round(milliseconds / (1000 * 60))} <span className={classes.timeDifferenceLabel}> mins</span>\n      </Typography>\n    );\n  } else if (milliseconds < (1000 * 60 * 60 * 24)) {\n    return (\n      <Typography color={color ? color : 'inherit'}>\n        {Math.round(milliseconds / (1000 * 60 * 60))} <span className={classes.timeDifferenceLabel}> hrs</span>\n      </Typography>\n    );\n  } else {\n    return (\n      // round days to one decimal point\n      <Typography color={color ? color : 'inherit'}>\n        {Math.round(milliseconds / (1000 * 60 * 60 * 24) * 10) / 10} <span className={classes.timeDifferenceLabel}> days</span>\n      </Typography>\n    );\n  };\n}","// material-ui\nimport { styled } from '@mui/material/styles';\n// THIS PROJECT\n// components\nimport VehicleChip from './VehicleChip';\n\nconst SoldVehicleChip = styled(VehicleChip)(({\n  theme\n}) => ({\n  backgroundColor: theme.palette.success.main,\n  color: theme.palette.success.contrastText\n}));\n\nexport default SoldVehicleChip;","// material-ui\nimport Divider from '@mui/material/Divider';\n// THIS PROJECT\n// components\nimport VehicleListItemButton from '../../common/vehicles/VehicleListItemButton';\nimport VehicleInfo from '../../common/vehicles/VehicleInfo';\nimport FormatTime from '../../common/FormatTime';\nimport VehicleChipGroup from '../../common/vehicles/VehicleChipGroup';\nimport SoldVehicleChip from '../../common/vehicles/SoldVehicleChip';\n// types\nimport { DetailedVehicle } from '../../../types/Vehicle';\n\ninterface SoldVehicleProps {\n  vehicle: DetailedVehicle;\n  onClick: () => void;\n  className?: string;\n};\nexport default function SoldVehicle(props: SoldVehicleProps): React.ReactElement {\n  const { vehicle, onClick, className } = props;\n  const { totalSellTime } = vehicle;\n\n  return (\n    <>\n      <VehicleListItemButton className={className ? className : ''} onClick={onClick}>\n        <VehicleInfo vehicle={vehicle} listItem />\n        <VehicleChipGroup>\n          <SoldVehicleChip size='small' label={totalSellTime && <FormatTime milliseconds={totalSellTime} />} />\n        </VehicleChipGroup>\n      </VehicleListItemButton>\n      <Divider />\n    </>\n  );\n}","import { styled } from '@mui/system';\nimport ListItem from '@mui/material/ListItem';\n\nconst VehicleListItem = styled(ListItem)(({ theme }) => ({\n  marginTop: theme.spacing(1),\n  marginBottom: theme.spacing(1),\n  padding: 0,\n  display: 'flex',\n  justifyContent: 'space-between'\n}));\n\nexport default VehicleListItem;","// react\nimport { useState, useEffect } from 'react';\nimport makeStyles from '@mui/styles/makeStyles';\nimport Button from '@mui/material/Button';\nimport ButtonGroup from '@mui/material/ButtonGroup';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Dialog from '@mui/material/Dialog';\nimport Divider from '@mui/material/Divider';\nimport CircularProgress from '@mui/material/CircularProgress';\n// THIS PROJECT\n// components\nimport { FlexCenter } from '../../common/flex';\nimport VehicleInfo from '../../common/vehicles/VehicleInfo';\n// hooks\nimport { useCheckMounted } from '../../../hooks';\n// contexts\nimport { useDemoContext } from '../../../contexts/DemoContext';\n// services\nimport { deleteVehicle as deleteVehicleService } from '../../../services/vehicles';\n// types\nimport { DetailedVehicle } from '../../../types/Vehicle';\nimport { PostRequestStatus } from '../../../types/ServiceRequests';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    color: theme.titleColor.darkBlue,\n  },\n  dialog: {\n    padding: 10,\n    textAlign: 'center',\n    maxWidth: 500,\n  },\n}));\n\nexport interface DeleteVehicleDialogProps {\n  open: boolean;\n  onClose: () => void;\n  vehicle: DetailedVehicle;\n  getVehicles: () => void;\n};\nexport default function DeleteVehicleDialog(props: DeleteVehicleDialogProps): React.ReactElement {\n  const classes = useStyles();\n  const mounted = useCheckMounted();\n  const { delay } = useDemoContext();\n  const { onClose, open, vehicle, getVehicles } = props;\n  const { id } = vehicle;\n\n  const [deleteVehicleStatus, setDeleteVehicleStatus] = useState<PostRequestStatus>('');\n\n  const deleteVehicle = async () => {\n    setDeleteVehicleStatus('loading');\n    await delay();\n    deleteVehicleService(id)\n      .then(result => {\n        mounted.current && setDeleteVehicleStatus(result.status as PostRequestStatus);\n        getVehicles();\n      }, e => {\n        mounted.current && setDeleteVehicleStatus('failed');\n        console.error(e);\n      });\n  };\n\n  // CLOSE DIALOG WHEN SUCCESSFULLY DELETED\n  useEffect(() => {\n    if (deleteVehicleStatus === 'success') onClose();\n  }, [onClose, deleteVehicleStatus]);\n\n  let buttons: JSX.Element;\n\n  if (deleteVehicleStatus === 'loading') {\n    buttons = (\n      <CircularProgress />\n    );\n  } else if (deleteVehicleStatus === 'failed') {\n    buttons = (\n      <>\n        <p>Failed to delete vehicle</p>\n        <ButtonGroup>\n          <Button onClick={onClose} >cancel</Button>\n          <Button\n            variant='outlined'\n            color='secondary'\n            onClick={deleteVehicle}\n          >\n            try again\n          </Button>\n        </ButtonGroup>\n      </>\n    );\n  } else {\n    buttons = (\n      <ButtonGroup>\n        <Button onClick={onClose} >cancel</Button>\n        <Button\n          variant='outlined'\n          color='secondary'\n          onClick={deleteVehicle}\n        >\n          yes, delete\n        </Button>\n      </ButtonGroup>\n    );\n  };\n\n  return (\n    <Dialog\n      onClose={onClose}\n      aria-labelledby=\"delete-vehicle-dialog\"\n      open={open}\n      disableEscapeKeyDown>\n      <div className={classes.dialog}>\n        <DialogTitle id=\"add-vehicle-dialog\" className={classes.title}>Delete Permanently?</DialogTitle>\n        <FlexCenter>\n          <VehicleInfo vehicle={vehicle} variant='subtitle1' />\n        </FlexCenter>\n        <br></br>\n        <Divider />\n        <br></br>\n        {buttons}\n      </div>\n    </Dialog >\n  );\n}","// react\nimport { useState } from 'react';\n// material-ui;\nimport Button from '@mui/material/Button';\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever';\nimport Divider from '@mui/material/Divider';\nimport { CircularProgress } from '@mui/material';\nimport makeStyles from '@mui/styles/makeStyles';\n// THIS PROJECT\n// components\nimport VehicleListItem from '../../common/vehicles/VehicleListItem';\nimport VehicleInfo from '../../common/vehicles/VehicleInfo';\nimport VehicleChipGroup from '../../common/vehicles/VehicleChipGroup';\nimport DeleteVehicleDialog from './DeleteVehicleDialog';\n// hooks\nimport { useCheckMounted } from '../../../hooks';\n// contexts\nimport { useDemoContext } from '../../../contexts/DemoContext';\n// services\nimport { updateVehicle } from '../../../services/vehicles';\n// types\nimport { DetailedVehicle } from '../../../types/Vehicle';\nimport { PostRequestStatus } from '../../../types/ServiceRequests';\n\nconst useStyles = makeStyles(theme => ({\n  trashButtons: {\n    margin: theme.spacing(.25),\n    width: '100%',\n  },\n}));\n\ninterface TrashedVehicleProps {\n  vehicle: DetailedVehicle;\n  getVehicles: () => void;\n  className?: string;\n};\nexport default function TrashedVehicle(props: TrashedVehicleProps): React.ReactElement {\n  const classes = useStyles();\n  const mounted = useCheckMounted();\n  const { delay } = useDemoContext();\n  const { vehicle, getVehicles, className } = props;\n\n  const [updateVehicleStatus, setUpdateVehicleStatus] = useState<PostRequestStatus>('');\n\n  // Activate vehicle\n  const activateVehicle = async () => {\n    setUpdateVehicleStatus('loading');\n    await delay();\n    updateVehicle(vehicle.id, { 'status': 'active' })\n      .then(result => {\n        mounted.current && setUpdateVehicleStatus(result.status as PostRequestStatus);\n        getVehicles();\n      }, e => {\n        mounted.current && setUpdateVehicleStatus('failed');\n        console.error(e);\n      });\n  };\n\n  // Delete vehicle\n  const [openDeleteDialog, setOpenDeleteDialog] = useState<boolean>(false);\n  const toggleDeleteDialog = () =>\n    openDeleteDialog ? setOpenDeleteDialog(false) : setOpenDeleteDialog(true);\n\n  return (\n    <>\n      <VehicleListItem className={className ? className : ''}>\n        <VehicleInfo vehicle={vehicle} listItem />\n        <VehicleChipGroup>\n          {updateVehicleStatus === 'loading'\n            ? <CircularProgress size={25} />\n            : <>\n              <Button\n                className={classes.trashButtons}\n                size='small'\n                variant='outlined'\n                color='primary'\n                onClick={activateVehicle}\n              >\n                Activate\n              </Button>\n              <Button className={classes.trashButtons}\n                size='small'\n                variant='outlined'\n                color='secondary'\n                startIcon={<DeleteForeverIcon />}\n                onClick={toggleDeleteDialog}\n              >\n                Delete\n              </Button>\n              <DeleteVehicleDialog\n                open={openDeleteDialog}\n                onClose={toggleDeleteDialog}\n                vehicle={vehicle}\n                getVehicles={getVehicles}\n              />\n            </>\n          }\n        </VehicleChipGroup>\n      </VehicleListItem>\n      <Divider />\n    </>\n  );\n}","// react-router-dom\nimport { useHistory } from 'react-router-dom';\n// THIS PROJECT\n// components\nimport ActiveVehicle from './ActiveVehicle';\nimport SoldVehicle from './SoldVehicle';\nimport TrashedVehicle from './TrashedVehicle';\n// hooks\nimport { useQuery, useVehiclePage } from '../../../hooks';\n// types\nimport { DetailedVehicle } from '../../../types/Vehicle';\n\ninterface VehicleSummaryProps {\n  vehicle: DetailedVehicle;\n  getVehicles: () => void;\n};\nexport default function VehicleSummary(props: VehicleSummaryProps): React.ReactElement {\n  const history = useHistory();\n  const { vehicle, getVehicles } = props;\n  const { status } = vehicle;\n\n  const { statusParam, sortParam, perPageParam, pageParam, compareParam } = useVehiclePage();\n  const queryString = useQuery().toString();\n\n  const vehicleClick = () =>\n    history.push(`/vehicle-details/id/${vehicle.id}/stage?prev=/all-vehicles/${statusParam}/${sortParam}/${perPageParam}/${pageParam}/${compareParam}?${queryString}`);\n\n  switch (status) {\n    case 'active':\n      return <ActiveVehicle vehicle={vehicle} onClick={vehicleClick} />;\n    case 'sold':\n      return <SoldVehicle vehicle={vehicle} onClick={vehicleClick} />;\n    case 'trash':\n      return <TrashedVehicle vehicle={vehicle} getVehicles={getVehicles} />;\n  };\n}","// react-router-dom\nimport { useHistory } from 'react-router';\n// material-ui\nimport NavigateNextIcon from '@mui/icons-material/NavigateNext';\nimport LastPageIcon from '@mui/icons-material/LastPage';\nimport NavigateBeforeIcon from '@mui/icons-material/NavigateBefore';\nimport FirstPageIcon from '@mui/icons-material/FirstPage';\nimport IconButton from '@mui/material/IconButton';\nimport Typography from '@mui/material/Typography';\n// THIS PROJECT\n// components\nimport { FlexCenter } from '../common/flex';\n// hooks\nimport { useVehiclePage, useQuery } from '../../hooks';\n// types\nimport { VehiclePage } from '../../types/Vehicle';\n\ninterface ListNavigationProps {\n  vehiclePage: VehiclePage;\n}\nexport default function ListNavigation(props: ListNavigationProps): React.ReactElement {\n  const history = useHistory();\n  const { vehiclePage } = props;\n  const { docStartNumber, docEndNumber, totalDocs, vehicles } = vehiclePage;\n  const dateAddedValues: number[] = [];\n  vehicles.forEach(vehicle => dateAddedValues.push(vehicle.dateAdded));\n  const maxDateAdded = Math.max(...dateAddedValues);\n  const minDateAdded = Math.min(...dateAddedValues);\n\n  const { statusParam, sortParam, perPageParam, pageParam } = useVehiclePage();\n  const query = useQuery().toString();\n\n  const firstPageClick = () => {\n    docStartNumber !== 1\n      && history.push(`/all-vehicles/${statusParam}/${sortParam}/${perPageParam}/first/0?${query}`);\n  };\n\n  const prevPageClick = () => {\n    docStartNumber !== 1 && sortParam === 'asc'\n      ? history.push(`/all-vehicles/${statusParam}/${sortParam}/${perPageParam}/prev/${minDateAdded}?${query}`)\n      : history.push(`/all-vehicles/${statusParam}/${sortParam}/${perPageParam}/prev/${maxDateAdded}?${query}`);\n  };\n\n  const nextPageClick = () => {\n    docEndNumber !== totalDocs && sortParam === 'asc'\n      ? history.push(`/all-vehicles/${statusParam}/${sortParam}/${perPageParam}/next/${maxDateAdded}?${query}`)\n      : history.push(`/all-vehicles/${statusParam}/${sortParam}/${perPageParam}/next/${minDateAdded}?${query}`);\n  };\n\n  const lastPageClick = () => {\n    pageParam !== 'last'\n      && history.push(`/all-vehicles/${statusParam}/${sortParam}/${perPageParam}/last/0?${query}`);\n  };\n\n  if (totalDocs > parseInt(perPageParam)) {\n    return (\n      <FlexCenter>\n        <IconButton\n          aria-label='first-page'\n          onClick={firstPageClick}\n          disabled={docStartNumber === 1}\n          size=\"large\">\n          <FirstPageIcon />\n        </IconButton>\n        <IconButton\n          aria-label='previous-page'\n          onClick={prevPageClick}\n          disabled={docStartNumber === 1}\n          size=\"large\">\n          <NavigateBeforeIcon />\n        </IconButton>\n        <Typography align='center'>({docStartNumber.toLocaleString()}-{docEndNumber.toLocaleString()}) / {totalDocs.toLocaleString()}</Typography>\n        <IconButton\n          aria-label='next-page'\n          onClick={nextPageClick}\n          disabled={docEndNumber === totalDocs}\n          size=\"large\">\n          <NavigateNextIcon />\n        </IconButton>\n        <IconButton\n          aria-label='last-page'\n          onClick={lastPageClick}\n          disabled={docEndNumber === totalDocs}\n          size=\"large\">\n          <LastPageIcon />\n        </IconButton>\n      </FlexCenter>\n    );\n  } else {\n    return <></>;\n  }\n}","// material-ui\nimport List from '@mui/material/List';\n// THIS PROJECT\n// components\nimport CenteredError from '../common/CenteredError';\nimport LoadingList from '../common/LoadingList';\nimport VehicleSummary from './vehicleSummary/VehicleSummary';\nimport ListNavigation from './ListNavigation';\n// types\nimport { VehicleListState } from '../../types/Vehicle';\n\ninterface VehicleListProps {\n  vehicleListState: VehicleListState;\n  getVehicles: () => void;\n};\nexport default function VehicleList(props: VehicleListProps): React.ReactElement {\n  const { vehicleListState, getVehicles } = props;\n  const { vehiclePage, getVehiclesStatus } = vehicleListState;\n\n  let list: JSX.Element;\n  switch (getVehiclesStatus) {\n    case 'failed':\n      list = <CenteredError errorMessage='Error loading vehicles' retryAction={() => window.location.reload()} />;\n      break;\n    case 'loading':\n      list = <LoadingList skeletonCount={20} />;\n      break;\n    default:\n      list = (\n        <>\n          <List>\n            {vehiclePage.vehicles.map(vehicle => {\n              if (vehicle.id) {\n                return <VehicleSummary\n                  key={vehicle.id}\n                  vehicle={vehicle}\n                  getVehicles={getVehicles}\n                />;\n              } else {\n                return <></>;\n              }\n\n            })}\n          </List>\n          <ListNavigation vehiclePage={vehicleListState.vehiclePage} />\n        </>\n      );\n  }\n\n  return <>{list}</>;\n}","// material-ui\nimport Button from '@mui/material/Button';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\nimport Badge from '@mui/material/Badge';\nimport { Theme } from '@mui/material/styles';\nimport withStyles from '@mui/styles/withStyles';\nimport createStyles from '@mui/styles/createStyles';\n// types\nimport { Set } from '../../types/misc';\n\nconst StyledBadge = withStyles((theme: Theme) =>\n  createStyles({\n    badge: {\n      right: 0,\n      top: 20,\n      border: `2px solid ${theme.palette.background.paper}`,\n      padding: '0 4px',\n    },\n  }),\n)(Badge);\n\ninterface ViewFiltersButtonProps {\n  viewFilters: boolean;\n  setViewFilters: Set<boolean>;\n  filterCount: number;\n}\nexport default function ViewFiltersButton(props: ViewFiltersButtonProps): React.ReactElement {\n  const { viewFilters, setViewFilters, filterCount } = props;\n\n  return (\n\n    <Button\n      size='small'\n      startIcon={viewFilters ? <VisibilityOffIcon /> : <VisibilityIcon />}\n      onClick={() => (viewFilters ? setViewFilters(false) : setViewFilters(true))}\n    >\n      <StyledBadge badgeContent={filterCount} color='secondary'>\n        filters\n      </StyledBadge>\n    </Button>\n\n  );\n}","// react\nimport { useState, useEffect, useCallback } from 'react';\n// material-ui\nimport Divider from '@mui/material/Divider';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport Collapse from '@mui/material/Collapse';\nimport makeStyles from '@mui/styles/makeStyles';\n// THIS PROJECT\n// components\nimport { LargeCard, LargeContent, ContentHeader, IconContentTitle } from '../common/cardContent';\nimport { FlexSpaceBtwn } from '../common/flex';\nimport StatusFilter from './StatusFilter';\nimport VehicleOrder from './VehicleOrder';\nimport AddVehicleButton from './AddVehicleButton';\nimport VehicleListFilters from './vehicleListFilters/VehicleListFilters';\nimport VehicleList from './VehicleList';\nimport ViewFiltersButton from './ViewFiltersButton';\n// hooks\nimport { useCheckMounted, useVehiclePage, useQuery } from '../../hooks';\n// contexts\nimport { useDemoContext } from '../../contexts/DemoContext';\n// services\nimport { getVehiclesPaged } from '../../services/vehicles';\n// types\nimport { VehicleStatus, VehicleListState, VehiclePage } from '../../types/Vehicle';\nimport { GetRequestStatus } from '../../types/ServiceRequests';\nimport { ListOrder } from '../../types/misc';\n\nconst useStyles = makeStyles(theme => ({\n  listControls: {\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function AllVehicles(): React.ReactElement {\n  const classes = useStyles();\n  const mounted = useCheckMounted();\n  const { delay } = useDemoContext();\n\n  const { statusParam, sortParam, perPageParam, pageParam, compareParam } = useVehiclePage();\n  const query = useQuery().toString();\n\n  // state for ui\n  const [statusFilter, setStatusFilter] = useState<VehicleStatus>(statusParam);\n  const [sort, setSort] = useState<ListOrder>(sortParam);\n  const [viewFilters, setViewFilters] = useState<boolean>(false);\n  const [filterCount, setFilterCount] = useState<number>(0);\n\n  // Get vehicles\n  const [vehiclePage, setVehiclePage] = useState<VehiclePage>({ docStartNumber: 0, docEndNumber: 0, totalDocs: 0, vehicles: [] });\n  const [getVehiclesStatus, setGetVehiclesStatus] = useState<GetRequestStatus>('loading');\n\n  const vehicleListState: VehicleListState = {\n    vehiclePage, setVehiclePage,\n    getVehiclesStatus, setGetVehiclesStatus\n  };\n\n  const getVehicles = useCallback(\n    async () => {\n      setGetVehiclesStatus('loading');\n      await delay();\n      getVehiclesPaged(statusParam, sortParam, parseInt(perPageParam), pageParam, parseInt(compareParam), query)\n        .then(result => {\n          mounted.current && setGetVehiclesStatus(result.status as GetRequestStatus);\n          result.status === 'success' && mounted.current && result.data && setVehiclePage(result.data);\n          result.status === 'failed' && console.error(result);\n        }, e => {\n          mounted.current && setGetVehiclesStatus('failed');\n          console.error(e);\n        });\n    },\n    [delay, statusParam, sortParam, perPageParam, pageParam, compareParam, query, mounted]\n  );\n\n  useEffect(() => { getVehicles(); }, [getVehicles]);\n\n  return (\n    <LargeCard>\n      <LargeContent style={{ position: 'relative' }} sx={{ zIndex: 0 }}>\n        <AddVehicleButton />\n        <ContentHeader>\n          <IconContentTitle icon={<VisibilityIcon color='primary' />} variant='h5'>All Vehicles</IconContentTitle>\n          <Divider />\n          <FlexSpaceBtwn className={classes.listControls}>\n            <StatusFilter filter={statusFilter} setFilter={setStatusFilter} />\n            <VehicleOrder sort={sort} setSort={setSort} />\n            <ViewFiltersButton viewFilters={viewFilters} setViewFilters={setViewFilters} filterCount={filterCount} />\n          </FlexSpaceBtwn>\n          <Divider />\n          <Collapse in={viewFilters} timeout='auto' style={{ width: '100%' }}>\n            <VehicleListFilters\n              mounted={mounted}\n              setViewFilters={setViewFilters}\n              setFilterCount={setFilterCount}\n            />\n            <Divider />\n          </Collapse>\n        </ContentHeader>\n        <VehicleList\n          vehicleListState={vehicleListState}\n          getVehicles={getVehicles}\n        />\n      </LargeContent>\n    </LargeCard>\n  );\n};\n","// react\nimport { useState, useEffect, useCallback } from 'react';\n// material-ui\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Button from '@mui/material/Button';\nimport makeStyles from '@mui/styles/makeStyles';\n// THIS PROJECT\n// hooks\nimport { useCheckMounted } from '../../../hooks';\n// contexts\nimport { useDemoContext } from '../../../contexts/DemoContext';\n// services\nimport { getNextStock as getNextStockService } from '../../../services/vehicles';\n// types\nimport { GetRequestStatus } from '../../../types/ServiceRequests';\nimport { EditStockState } from '../../../types/Vehicle';\nimport { FlexEnd } from '../flex';\n\n\nconst useStyles = makeStyles((theme) => ({\n  field: {\n    // textAlign: 'left',\n    width: 'calc(100% - 75px)',\n  },\n  nextStockButton: {\n    width: 75,\n  },\n}));\n\ninterface NextStockButtonProps {\n  editStockState: EditStockState;\n};\nexport default function NextStockButton(props: NextStockButtonProps): React.ReactElement {\n  const classes = useStyles();\n  const mounted = useCheckMounted();\n  const { delay } = useDemoContext();\n  const { setStock, setStockError, addEditVehicleStatus } = props.editStockState;\n  const [nextStock, setNextStock] = useState('');\n  const [getNextStockStatus, setGetNextStockStatus] = useState<GetRequestStatus>('loading');\n\n  const useNextStock = (): void => {\n    setStock(nextStock);\n    setStockError('');\n  };\n\n  const getNextStock = useCallback(async () => {\n    setGetNextStockStatus('loading');\n    await delay();\n    getNextStockService()\n      .then(result => {\n        mounted.current && result.data && setNextStock(result.data.nextStock.toString());\n        mounted.current && setGetNextStockStatus(result.status as GetRequestStatus);\n      }, e => {\n        mounted.current && setGetNextStockStatus('failed');\n        console.error(e);\n      });\n  },\n    [delay, mounted]\n  );\n\n  useEffect(() => {\n    if (addEditVehicleStatus === '' || addEditVehicleStatus === 'success') {\n      getNextStock();\n    };\n  }, [addEditVehicleStatus, getNextStock]);\n\n  if (getNextStockStatus === 'loading') {\n    return (\n      <FlexEnd className={classes.nextStockButton}>\n        <CircularProgress size={25} />\n      </FlexEnd>\n    );\n  };\n\n  if (getNextStockStatus === 'failed') {\n    return (\n      <Button className={classes.nextStockButton} disabled>\n        error\n      </Button>\n    );\n  };\n\n  return (\n    <Button className={classes.nextStockButton} onClick={useNextStock}>\n      USE NEXT\n    </Button>\n  );\n}","// react\nimport { useEffect, useCallback } from 'react';\n// material-ui\nimport TextField from '@mui/material/TextField';\nimport InputAdornment from '@mui/material/InputAdornment';\n// THIS PROJECT\n// components\nimport NextStockButton from './NextStockButton';\n// types\nimport { EditStockState } from '../../../types/Vehicle';\n\ninterface StockFieldProps {\n  editStockState: EditStockState;\n  className?: string;\n};\nexport default function StockField(props: StockFieldProps): React.ReactElement {\n  const { editStockState, className } = props;\n  const { stock, setStock, stockOkay, setStockOkay, stockError, setStockError } = editStockState;\n\n  const changeStock = (e: React.ChangeEvent<{ value: unknown; }>): void => {\n    setStock(e.target.value as string);\n  };\n\n  const checkStock = useCallback(() => {\n    const stockFormatTest = /^[0-9]{5}$/;\n    if (!stockFormatTest.test(stock) && stock !== '') {\n      setStockOkay(false);\n      setStockError('must be 5 digits');\n    } else if (stockError !== 'stk# already exists') {\n      setStockOkay(true);\n      setStockError('');\n    };\n  }, [setStockError, setStockOkay, stock, stockError]);\n\n  useEffect(() => {\n    if (!stockOkay) checkStock();\n  }, [stock, stockOkay, checkStock]);\n\n  return (\n    <TextField\n      className={className && className}\n      error={stockError ? true : false}\n      label={'Stock #'}\n      helperText={stockError}\n      variant='outlined'\n      value={stock !== '0' ? stock : ' '}\n      onChange={changeStock}\n      onBlur={checkStock}\n      InputProps={{\n        endAdornment:\n          <InputAdornment position='end'>\n            <NextStockButton editStockState={editStockState} />\n          </InputAdornment>\n      }}\n    />\n  );\n}","// material-ui\nimport { ClassNameMap } from '@mui/styles';\n// THIS PROJECT\n// components\nimport StockField from '../common/vehicles/StockField';\nimport YearSelect from '../common/vehicles/YearSelect';\nimport MakeSelect from '../common/vehicles/MakeSelect';\nimport ModelSelect from '../common/vehicles/ModelSelect';\nimport TrimSelect from '../common/vehicles/TrimSelect';\n// types\nimport { AddVehicleState, EditStockState } from '../../types/Vehicle';\n\ninterface VehicleInfoInputsProps {\n  mounted: React.MutableRefObject<boolean>;\n  addVehicleState: AddVehicleState;\n  classes: ClassNameMap<\"form\" | \"inputField\">;\n};\nexport default function VehicleInfoInputs(props: VehicleInfoInputsProps): React.ReactElement {\n  const { mounted, addVehicleState, classes } = props;\n  const {\n    stock, setStock,\n    stockOkay, setStockOkay,\n    stockError, setStockError,\n    year, setYear,\n    make, setMake,\n    model, setModel,\n    trim, setTrim,\n    addVehicleStatus,\n  } = addVehicleState;\n\n  const editStockState: EditStockState = {\n    stock, setStock,\n    stockOkay, setStockOkay,\n    stockError, setStockError,\n    addEditVehicleStatus: addVehicleStatus,\n  };\n\n  return (\n    <div className={classes.form}>\n      <StockField className={classes.inputField} editStockState={editStockState} />\n      <YearSelect className={classes.inputField} year={year} setYear={setYear} />\n      <MakeSelect\n        className={classes.inputField}\n        parent={{ mounted, make, setMake }}\n        allowAddMake\n      />\n      <ModelSelect\n        className={classes.inputField}\n        parent={{ mounted, make, model, setModel }}\n        allowAddModel\n      />\n      <TrimSelect\n        className={classes.inputField}\n        parent={{ mounted, make, model, trim, setTrim }}\n        allowAddTrim\n      />\n    </div>\n  );\n}","// types\nimport { IdName } from '../types/misc';\nimport { GetSuccess, PostSuccess, PostExists, FailedResult, PatchSuccess, PatchManyResult } from '../types/ServiceResults';\nimport { StageAssignment, AssignStageParam, CurrentStageSummary } from '../types/StageAssignment';\nimport { DetailedVehicle } from '../types/Vehicle';\nimport { StageVehicleCount, PersonPlaceVehicleCount, StageSummary, UpdatedStageOrder } from '../types/Stage';\n\nconst stages = 'http://localhost:7000/api/stages';\n\nexport async function getStageVehicleCounts(): Promise<GetSuccess<StageVehicleCount[]> | FailedResult> {\n  const response = await fetch(stages + '/get-stage-vehicle-counts');\n  const json = await response.json();\n  return json;\n}\n\nexport async function getPersonPlaceVehicleCounts(): Promise<GetSuccess<PersonPlaceVehicleCount[]> | FailedResult> {\n  const response = await fetch(stages + '/get-person-place-vehicle-counts');\n  const json = await response.json();\n  return json;\n}\n\nexport async function getStages(): Promise<GetSuccess<StageSummary[]> | FailedResult> {\n  const response = await fetch(stages + '/get-stages');\n  const json = await response.json();\n  return json;\n};\n\nexport async function addStage(stage: string): Promise<PostSuccess<StageSummary, StageSummary[]> | PostExists | FailedResult> {\n  const body = { stage };\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  };\n  const response = await fetch(stages + '/add-stage', options);\n  const json = await response.json();\n  return json;\n};\n\nexport async function getPeoplePlaces(stageId: string): Promise<GetSuccess<IdName[]> | FailedResult> {\n  const response = await fetch(`${stages}/get-people-places?stageId=${stageId}`);\n  const json = await response.json();\n  return json;\n};\n\nexport async function getAllPeoplePlaces(): Promise<GetSuccess<IdName[]> | FailedResult> {\n  const response = await fetch(stages + '/get-all-people-places');\n  const json = await response.json();\n  return json;\n};\n\ntype AddPersonPlaceReturn = PostSuccess<IdName, { peoplePlaces: IdName[] | undefined, allPeoplePlaces: IdName[]; }> | PostExists | FailedResult;\nexport async function addPersonPlace(stageId: string, personPlace: string): Promise<AddPersonPlaceReturn> {\n  const body = { stageId, personPlace };\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  };\n  const response = await fetch(stages + '/add-person-place', options);\n  const json = await response.json();\n  return json;\n};\n\nexport async function assignStage(assignStageParam: AssignStageParam, previousStage?: CurrentStageSummary): Promise<PostSuccess<DetailedVehicle> | FailedResult> {\n  const body = {\n    assignStageParam: JSON.stringify(assignStageParam),\n    previousStage: previousStage && JSON.stringify(previousStage)\n  };\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  };\n  const response = await fetch(stages + '/assign-stage', options);\n  const json = await response.json();\n  return json;\n};\n\nexport async function completeStageAssignment(stageAssignmentId: string, dateCompleted: number): Promise<PatchSuccess<object, StageAssignment, DetailedVehicle> | FailedResult> {\n  const body = {\n    stageAssignmentId,\n    dateCompleted,\n  };\n  const options = {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  };\n  const response = await fetch(stages + '/complete-stage-assignment', options);\n  const json = await response.json();\n  return json;\n};\n\nexport async function getStageHistory(vehicleId: string): Promise<GetSuccess<StageAssignment[]> | FailedResult> {\n  const response = await fetch(`${stages}/stage-history?vehicleId=${vehicleId}`);\n  const json = await response.json();\n  return json;\n}\n\nexport async function updateStageOrder(newStageOrder: UpdatedStageOrder[]): Promise<PatchManyResult<StageSummary[]> | FailedResult> {\n  const body = {\n    updates: newStageOrder,\n  };\n  const options = {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  };\n  const response = await fetch(stages + '/update-stage-order', options);\n  const json = await response.json();\n  return json;\n}","// react\nimport { useState, useEffect, MutableRefObject, useRef } from 'react';\n// material-ui\nimport Collapse from '@mui/material/Collapse';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport makeStyles from '@mui/styles/makeStyles';\n// THIS PROJECT\n// coponents\nimport { FlexCenter } from '../flex';\n// hooks\nimport { useCheckMounted } from '../../../hooks';\n// services\nimport { addStage } from '../../../services/stages';\n// contexts\nimport { useDemoContext } from '../../../contexts/DemoContext';\n// types\nimport { IdName, Set } from '../../../types/misc';\nimport { PostRequestStatus } from '../../../types/ServiceRequests';\nimport { StageSummary } from '../../../types/Stage';\n\nconst useStyles = makeStyles((theme) => ({\n  addButtons: {\n    marginLeft: 'auto',\n  },\n}));\n\ninterface AddStageProps {\n  stageSelectParent: {\n    mounted: MutableRefObject<boolean>;\n    setStage: Set<IdName>;\n  };\n  stageSelect: {\n    mounted: MutableRefObject<boolean>;\n    addStage: boolean;\n    setAddStage: Set<boolean>;\n    setStages: Set<StageSummary[]>;\n    open: boolean;\n    setOpen: Set<boolean>;\n  };\n};\nexport default function AddStage(props: AddStageProps): React.ReactElement {\n  const classes = useStyles();\n  const { delay } = useDemoContext();\n  const { stageSelectParent: p, stageSelect: ss } = props;\n\n  const mounted = useCheckMounted();\n  const [addStageStatus, setAddStageStatus] = useState<PostRequestStatus | ''>('');\n  const [addStageInput, setAddStageInput] = useState<string>('');\n\n  const handleChangeAddStageInput = (e: React.ChangeEvent<{ value: string; }>): void => {\n    setAddStageInput(e.target.value);\n  };\n\n  // we need to create an updated openRef because the ms.open value will get stale within a function\n  const openRef = useRef(ss.open);\n  useEffect(() => {\n    openRef.current = ss.open;\n  }, [ss.open]);\n\n  const handleAddStage = async () => {\n    setAddStageStatus('loading');\n    await delay();\n    addStage(addStageInput)\n      .then(result => {\n        mounted.current && setAddStageStatus(result.status as PostRequestStatus);\n        switch (result.status) {\n          case 'success':\n            if (p.mounted.current && openRef.current) {\n              result.doc && p.setStage({ id: result.doc.id, name: result.doc.name });\n            }\n            if (ss.mounted.current) {\n              ss.setAddStage(false);\n              result.data && ss.setStages(result.data);\n              ss.setOpen(false);\n            }\n            break;\n          default:\n            mounted.current && setAddStageInput('');\n            break;\n        }\n      }, e => {\n        setAddStageStatus('failed');\n        console.error(e);\n      });\n  };\n\n  return (\n    <Collapse in={ss.addStage} timeout='auto' unmountOnExit>\n      <List>\n        {addStageStatus === 'loading'\n          ? <FlexCenter><CircularProgress /></FlexCenter>\n          : <>\n            {addStageStatus === 'exists'\n              &&\n              <Typography color='secondary'>\n                Already exists\n              </Typography>}\n            {addStageStatus === 'failed'\n              &&\n              <Typography color='secondary'>\n                Failed to add stage\n              </Typography>}\n            <ListItem>\n              <TextField\n                autoFocus\n                fullWidth\n                id='add-stage-input'\n                label='Add Stage*'\n                value={addStageInput}\n                onChange={handleChangeAddStageInput}\n                autoComplete='off'\n              />\n            </ListItem>\n            <div className={classes.addButtons}>\n              <Button onClick={() => ss.setAddStage(false)}>Cancel</Button>\n              <Button\n                onClick={addStageInput ? handleAddStage : () => { }}\n                disabled={addStageInput ? false : true}\n                color='primary'>\n                Add\n              </Button>\n            </div>\n          </>}\n      </List>\n    </Collapse>\n  );\n}","// react\nimport { useEffect, useState, useCallback } from 'react';\n// material-ui\nimport Divider from '@mui/material/Divider';\nimport List from '@mui/material/List';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Typography from '@mui/material/Typography';\nimport Collapse from '@mui/material/Collapse';\n// THIS PROJECT\n// components\nimport SelectDialog from '../SelectDialog';\nimport CustomSelect from '../CustomSelect';\nimport SelectListItem from '../SelectListItem';\nimport AddListItem from '../AddListItem';\nimport AddStage from './AddStage';\n// hooks\nimport { useCheckMounted } from '../../../hooks';\n// services\nimport { getStages as getStagesService } from '../../../services/stages';\n// contexts\nimport { useDemoContext } from '../../../contexts/DemoContext';\n// types\nimport { IdName, Set } from '../../../types/misc';\nimport { StageSummary } from '../../../types/Stage';\nimport { GetRequestStatus } from '../../../types/ServiceRequests';\n\ninterface StageSelectProps {\n  parent: {\n    mounted: React.MutableRefObject<boolean>;\n    stage: IdName;\n    setStage: Set<IdName>;\n  };\n  allowAddStage?: boolean;\n  className?: string;\n  button?: boolean;\n  TextFieldProps?: any;\n  ButtonProps?: any;\n};\nexport default function StageSelect(props: StageSelectProps): React.ReactElement {\n  const { delay } = useDemoContext();\n  const {\n    parent,\n    allowAddStage,\n    className,\n    button,\n    TextFieldProps,\n    ButtonProps\n  } = props;\n\n  const {\n    mounted: pMounted,\n    stage,\n    setStage\n  } = parent;\n\n  const mounted = useCheckMounted();\n\n  const [open, setOpen] = useState<boolean>(false);\n\n  const handleStageSelect = (stagetmp = stage) => {\n    setStage({ id: stagetmp.id, name: stagetmp.name });\n    setOpen(false);\n  };\n\n  const [stages, setStages] = useState<StageSummary[]>([]);\n  const [getStagesStatus, setGetStagesStatus] = useState<GetRequestStatus>('loading');\n\n  const getStages = useCallback(async () => {\n    setGetStagesStatus('loading');\n    await delay();\n    getStagesService()\n      .then(result => {\n        mounted.current && result.data && setStages(result.data);\n        mounted.current && setGetStagesStatus(result.status as GetRequestStatus);\n      }, e => {\n        mounted.current && setGetStagesStatus('failed');\n        console.error(e);\n      });\n\n  },\n    [delay, mounted]\n  );\n\n  useEffect(() => {\n    getStages();\n  }, [getStages]);\n\n  const [addStage, setAddStage] = useState<boolean>(false);\n\n  useEffect(() => {\n    !open && setAddStage(false);\n  }, [open]);\n\n  let dialogContent: JSX.Element;\n\n  switch (getStagesStatus) {\n    case 'loading':\n      dialogContent = <CircularProgress />;\n      break;\n    case 'failed':\n      dialogContent = <Typography>error loading stages</Typography>;\n      break;\n    default:\n      dialogContent = (\n        <>\n          <Collapse in={!addStage} timeout='auto' unmountOnExit>\n            <List>\n              <SelectListItem\n                onClick={() => handleStageSelect({ id: '', name: '' })}\n                textVal=''\n                selectCondition={!stage.name}\n              />\n              <Divider />\n              {stages.map(stagetmp =>\n                <div key={stagetmp.id}>\n                  <SelectListItem\n                    onClick={() => handleStageSelect(stagetmp)}\n                    textVal={stagetmp.name}\n                    selectCondition={stagetmp.name === stage.name}\n                  />\n                  <Divider />\n                </div>)}\n              {allowAddStage &&\n                <AddListItem\n                  onClick={() => setAddStage(true)}\n                  textVal='Add Stage'\n                />}\n            </List >\n          </Collapse>\n          {allowAddStage && <AddStage\n            stageSelectParent={{\n              mounted: pMounted,\n              setStage: setStage,\n            }}\n            stageSelect={{\n              mounted,\n              setStages,\n              addStage,\n              setAddStage,\n              open,\n              setOpen\n            }}\n          />}\n        </>\n      );\n  };\n\n  return (\n    <>\n      <CustomSelect\n        label={button ? 'stage' : 'Stage*'}\n        id='stage-select'\n        value={stage.name}\n        setOpen={setOpen}\n        className={className}\n        button={button ? true : false}\n        TextFieldProps={TextFieldProps}\n        ButtonProps={ButtonProps}\n      />\n      <SelectDialog open={open} setOpen={setOpen}\n        flex={getStagesStatus === 'success' ? false : true}>\n        {dialogContent}\n      </SelectDialog>\n    </>\n  );\n}","// material-ui\nimport ListItem from '@mui/material/ListItem';\nimport ListItemText from '@mui/material/ListItemText';\nimport ExpandMore from '@mui/icons-material/ExpandMore';\nimport ExpandLess from '@mui/icons-material/ExpandLess';\nimport makeStyles from '@mui/styles/makeStyles';\n\nconst useStyles = makeStyles((theme) => ({\n  emphasized: {\n    fontStyle: 'italic',\n    paddingLeft: theme.spacing(1),\n  },\n}));\n\ninterface ShowMoreListItemProps {\n  onClick: () => void;\n  selectCondition: boolean;\n};\nexport default function ShowMoreListItem(props: ShowMoreListItemProps): React.ReactElement {\n  const classes = useStyles();\n\n  const { onClick, selectCondition } = props;\n\n  return (\n    <ListItem button onClick={onClick} className={classes.emphasized}>\n      <ListItemText primary={selectCondition ? 'Show less...' : 'Show more...'} />\n      {selectCondition ? <ExpandLess /> : <ExpandMore />}\n    </ListItem>\n  );\n}","// react\nimport { useState, useEffect, MutableRefObject, useRef } from 'react';\n// material-ui\nimport Collapse from '@mui/material/Collapse';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport makeStyles from '@mui/styles/makeStyles';\n// THIS PROJECT\n// components\nimport { FlexCenter } from '../flex';\n// hooks\nimport { useCheckMounted } from '../../../hooks';\n// services\nimport { addPersonPlace } from '../../../services/stages';\n// contexts\nimport { useDemoContext } from '../../../contexts/DemoContext';\n// types\nimport { IdName, Set } from '../../../types/misc';\nimport { PostRequestStatus } from '../../../types/ServiceRequests';\n\nconst useStyles = makeStyles((theme) => ({\n  addButtons: {\n    marginLeft: 'auto',\n  },\n}));\n\ninterface AddPersonPlaceProps {\n  personPlaceSelectParent: {\n    mounted: MutableRefObject<boolean>;\n    stageId: string;\n    setPersonPlace: Set<IdName>;\n  };\n  personPlaceSelect: {\n    mounted: MutableRefObject<boolean>;\n    addPersonPlace: boolean;\n    setAddPersonPlace: Set<boolean>;\n    setAllPeoplePlaces: Set<IdName[]>;\n    setPeoplePlaces: Set<IdName[]>;\n    open: boolean;\n    setOpen: Set<boolean>;\n  };\n};\nexport default function AddPersonPlace(props: AddPersonPlaceProps): React.ReactElement {\n  const classes = useStyles();\n  const { delay } = useDemoContext();\n  const { personPlaceSelectParent: p, personPlaceSelect: pps } = props;\n\n  const mounted = useCheckMounted();\n  const [addPersonPlaceStatus, setAddPersonPlaceStatus] = useState<PostRequestStatus | ''>('');\n  const [addPersonPlaceInput, setAddPersonPlaceInput] = useState<string>('');\n\n  const handleChangeAddPersonPlaceInput = (e: React.ChangeEvent<{ value: string; }>): void => {\n    setAddPersonPlaceInput(e.target.value);\n  };\n\n  // we need to create an updated openRef because the ss.open value will get stale within a function\n  const openRef = useRef(pps.open);\n  useEffect(() => {\n    openRef.current = pps.open;\n  }, [pps.open]);\n\n  const handleAddPersonPlace = async () => {\n    setAddPersonPlaceStatus('loading');\n    await delay();\n    addPersonPlace(p.stageId, addPersonPlaceInput)\n      .then(result => {\n        mounted.current && setAddPersonPlaceStatus(result.status as PostRequestStatus);\n        switch (result.status) {\n          case 'success':\n            if (p.mounted.current && openRef.current) {\n              result.doc && p.setPersonPlace(result.doc);\n            }\n            if (pps.mounted.current) {\n              pps.setAddPersonPlace(false);\n              result.data && pps.setAllPeoplePlaces(result.data.allPeoplePlaces);\n              pps.setOpen(false);\n            }\n            break;\n          default:\n            mounted.current && setAddPersonPlaceInput('');\n            break;\n        }\n      }, e => {\n        setAddPersonPlaceStatus('failed');\n        console.error(e);\n      });\n  };\n\n  return (\n    <Collapse in={pps.addPersonPlace} timeout='auto' unmountOnExit>\n      <List>\n        {addPersonPlaceStatus === 'loading'\n          ? <FlexCenter><CircularProgress /></FlexCenter>\n          : <>\n            {addPersonPlaceStatus === 'exists'\n              &&\n              <Typography color='secondary'>\n                Already exists\n              </Typography>}\n            {addPersonPlaceStatus === 'failed'\n              &&\n              <Typography color='secondary'>\n                Failed to add person/place\n              </Typography>}\n            <ListItem>\n              <TextField\n                autoFocus\n                fullWidth\n                id='add-person-place-input'\n                label='Add Person/Place*'\n                value={addPersonPlaceInput}\n                onChange={handleChangeAddPersonPlaceInput}\n                autoComplete='off'\n              />\n            </ListItem>\n            <div className={classes.addButtons}>\n              <Button onClick={() => pps.setAddPersonPlace(false)}>Cancel</Button>\n              <Button\n                onClick={addPersonPlaceInput ? handleAddPersonPlace : () => { }}\n                disabled={addPersonPlaceInput ? false : true}\n                color='primary'>\n                Add\n              </Button>\n            </div>\n          </>}\n      </List>\n    </Collapse>\n  );\n}","// react\nimport { useCallback, useEffect, useState } from 'react';\n// material-ui\nimport Divider from '@mui/material/Divider';\nimport List from '@mui/material/List';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Typography from '@mui/material/Typography';\nimport Collapse from '@mui/material/Collapse';\n// THIS PROJECT\n// components\nimport SelectDialog from '../SelectDialog';\nimport CustomSelect from '../CustomSelect';\nimport SelectListItem from '../SelectListItem';\nimport ShowMoreListItem from '../ShowMoreListItem';\nimport AddListItem from '../AddListItem';\nimport AddPersonPlace from './AddPersonPlace';\n// hooks\nimport { useCheckMounted } from '../../../hooks';\n// services\nimport { getPeoplePlaces as getPeoplePlacesService, getAllPeoplePlaces as getAllPeoplePlacesService } from '../../../services/stages';\n// contexts\nimport { useDemoContext } from '../../../contexts/DemoContext';\n// types\nimport { IdName, Set } from '../../../types/misc';\nimport { GetRequestStatus } from '../../../types/ServiceRequests';\n\ninterface StageSelectProps {\n  parent: {\n    mounted: React.MutableRefObject<boolean>;\n    stage: IdName;\n    personPlace: IdName;\n    setPersonPlace: Set<IdName>;\n  };\n  allowAddPersonPlace?: boolean;\n  className?: string;\n  button?: boolean;\n  TextFieldProps?: any;\n  ButtonProps?: any;\n};\nexport default function StageSelect(props: StageSelectProps): React.ReactElement {\n  const { delay } = useDemoContext();\n  const {\n    parent,\n    allowAddPersonPlace,\n    className,\n    button,\n    TextFieldProps,\n    ButtonProps\n  } = props;\n\n  const {\n    mounted: pMounted,\n    stage,\n    personPlace,\n    setPersonPlace,\n  } = parent;\n\n  const mounted = useCheckMounted();\n\n  const [open, setOpen] = useState<boolean>(false);\n\n  const handlePersonPlaceSelect = (personPlacetmp = personPlace) => {\n    setPersonPlace(personPlacetmp);\n    setOpen(false);\n  };\n\n  // get stage specific People/Places\n  const [peoplePlaces, setPeoplePlaces] = useState<IdName[]>([]);\n  const [getPeoplePlacesStatus, setGetPeoplePlacesStatus] = useState<GetRequestStatus>('loading');\n\n  const getPeoplePlaces = useCallback(async () => {\n    setGetPeoplePlacesStatus('loading');\n    await delay();\n    getPeoplePlacesService(stage.id)\n      .then(result => {\n        mounted.current && result.data && setPeoplePlaces(result.data);\n        mounted.current && setGetPeoplePlacesStatus(result.status as GetRequestStatus);\n      }, e => {\n        mounted.current && setGetPeoplePlacesStatus('failed');\n        console.error(e);\n      });\n  },\n    [delay, mounted, stage.id]\n  );\n\n  useEffect(() => {\n    setPersonPlace({ id: '', name: '' });\n    if (stage.id) {\n      getPeoplePlaces();\n    }\n  }, [setPersonPlace, getPeoplePlaces, stage.id]);\n\n  // get all People/Places \n  const [allPeoplePlaces, setAllPeoplePlaces] = useState<IdName[]>([]);\n  const [getAllPeoplePlacesStatus, setGetAllPeoplePlacesStatus] = useState<GetRequestStatus>('loading');\n\n  const getAllPeoplePlaces = useCallback(async () => {\n    setGetAllPeoplePlacesStatus('loading');\n    await delay();\n    getAllPeoplePlacesService()\n      .then(result => {\n        mounted.current && result.data && setAllPeoplePlaces(result.data);\n        mounted.current && setGetAllPeoplePlacesStatus(result.status as GetRequestStatus);\n      }, e => {\n        mounted.current && setGetAllPeoplePlacesStatus('failed');\n        console.error(e);\n      });\n\n  },\n    [delay, mounted]);\n\n  useEffect(() => {\n    getAllPeoplePlaces();\n  }, [getAllPeoplePlaces]);\n\n  const [showMorePeoplePlaces, setShowMorePeoplePlaces] = useState<boolean>(false);\n\n  const toggleShowMorePeoplePlaces = () => showMorePeoplePlaces ? setShowMorePeoplePlaces(false) : setShowMorePeoplePlaces(true);\n\n  const [addPersonPlace, setAddPersonPlace] = useState<boolean>(false);\n\n  useEffect(() => {\n    !open && setAddPersonPlace(false);\n    !open && setShowMorePeoplePlaces(false);\n  }, [open]);\n\n  let dialogContent: JSX.Element;\n\n  switch (getPeoplePlacesStatus || getAllPeoplePlacesStatus) {\n    case 'loading':\n      dialogContent = <CircularProgress />;\n      break;\n    case 'failed':\n      dialogContent = <Typography>error loading People/Places</Typography>;\n      break;\n    default:\n      dialogContent = (\n        <>\n          <Collapse in={!addPersonPlace} timeout='auto' unmountOnExit>\n            <List>\n              <SelectListItem\n                onClick={() => handlePersonPlaceSelect({ id: '', name: '' })}\n                textVal=''\n                selectCondition={!personPlace.name}\n              />\n              <Divider />\n              {peoplePlaces.map(personPlacetmp =>\n                <div key={personPlacetmp.id}>\n                  <SelectListItem\n                    onClick={() => handlePersonPlaceSelect(personPlacetmp)}\n                    textVal={personPlacetmp.name}\n                    selectCondition={personPlacetmp.name === personPlace.name}\n                  />\n                  <Divider />\n                </div>)}\n              <ShowMoreListItem\n                onClick={toggleShowMorePeoplePlaces}\n                selectCondition={showMorePeoplePlaces}\n              />\n              <Collapse in={showMorePeoplePlaces} timeout='auto'>\n                {allPeoplePlaces\n                  .filter(personPlacetmp => (!peoplePlaces.find(personPlacetmp2 => personPlacetmp2.id === personPlacetmp.id)))\n                  .map(personPlacetmp =>\n                    <div key={personPlacetmp.id}>\n                      <SelectListItem\n                        onClick={() => handlePersonPlaceSelect(personPlacetmp)}\n                        textVal={personPlacetmp.name}\n                        selectCondition={personPlacetmp.name === personPlace.name}\n                      />\n                    </div>)\n                }\n                {allowAddPersonPlace &&\n                  <AddListItem\n                    onClick={() => setAddPersonPlace(true)}\n                    textVal={'Add Person/Place'}\n                  />}\n              </Collapse>\n            </List >\n          </Collapse>\n          {allowAddPersonPlace\n            && <AddPersonPlace\n              personPlaceSelectParent={{\n                mounted: pMounted,\n                stageId: stage.id,\n                setPersonPlace\n              }}\n              personPlaceSelect={{\n                mounted,\n                addPersonPlace,\n                setAddPersonPlace,\n                setAllPeoplePlaces,\n                setPeoplePlaces,\n                open,\n                setOpen\n              }}\n            />\n          }\n        </>\n      );\n  };\n\n  return (\n    <>\n      <CustomSelect\n        label={button ? 'person/place' : 'Person/Place*'}\n        id='person-place-select'\n        value={personPlace.name}\n        setOpen={setOpen}\n        className={className}\n        button={button ? true : false}\n        TextFieldProps={TextFieldProps}\n        ButtonProps={ButtonProps}\n        disabled={stage.id ? false : true}\n      />\n      <SelectDialog open={open} setOpen={setOpen}\n        flex={getPeoplePlacesStatus === 'success' && getAllPeoplePlacesStatus === 'success' ? false : true}>\n        {dialogContent}\n      </SelectDialog>\n    </>\n  );\n}","// react\nimport { useState } from 'react';\n// mui\nimport makeStyles from '@mui/styles/makeStyles';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemText from '@mui/material/ListItemText';\nimport TextField from '@mui/material/TextField';\nimport IconButton from '@mui/material/IconButton';\nimport AddIcon from '@mui/icons-material/Add';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport InputAdornment from '@mui/material/InputAdornment';\n\nconst useStyles = makeStyles((theme) => ({\n  taskList: {\n    outline: '1px solid #D3D3D3',\n    margin: 'auto',\n    marginTop: theme.spacing(0),\n    backgroundColor: '#F8F8F8',\n  },\n  listItem: {\n    wordWrap: 'break-word',\n  },\n}));\n\ninterface TaskListInputProps {\n  taskList: string[];\n  setTaskList: React.Dispatch<React.SetStateAction<string[]>>;\n  className?: string;\n};\nexport default function TaskListInput(props: TaskListInputProps): React.ReactElement {\n  const classes = useStyles();\n  const { taskList, setTaskList, className } = props;\n  const [task, setTask] = useState<string>('');\n\n  const handleTaskInputChange = (e: React.ChangeEvent<{ value: string; }>): void => {\n    setTask(e.target.value);\n  };\n\n  const addTask = () => {\n    setTaskList([...taskList, task]);\n    setTask('');\n  };\n\n  const removeTask = (index: number) => {\n    let taskListTmp = [...taskList];\n    taskListTmp.splice(index, 1);\n    setTaskList(taskListTmp);\n  };\n\n  let taskListComponent: JSX.Element;\n\n  if (taskList.length > 0) {\n    taskListComponent = (\n      <div className={className}>\n        <List className={classes.taskList}>\n          {taskList.map((task, index) => <ListItem key={task + Math.random()} alignItems='flex-start'>\n            <ListItemText className={classes.listItem}>\n              <div className={classes.listItem}>\n                {task}\n              </div>\n            </ListItemText>\n            <IconButton onClick={() => removeTask(index)} size='small'>\n              <ClearIcon />\n            </IconButton>\n          </ListItem>)}\n        </List>\n      </div>\n    );\n  } else {\n    taskListComponent = (<></>);\n  };\n\n  let taskAddButton: JSX.Element;\n\n  if (task) {\n    taskAddButton = (\n      <IconButton onClick={addTask} size=\"large\">\n        <AddIcon />\n      </IconButton>\n    );\n  } else {\n    taskAddButton = (\n      <IconButton disabled size=\"large\">\n        <AddIcon />\n      </IconButton>\n    );\n  };\n\n  return (\n    <>\n      <TextField\n        className={className && className}\n        label='Add Task'\n        variant='outlined'\n        value={task}\n        onChange={handleTaskInputChange}\n        InputProps={{\n          endAdornment:\n            <InputAdornment position='end'>\n              {taskAddButton}\n            </InputAdornment>\n        }}\n      />\n      {taskListComponent}\n    </>\n  );\n}","// react\nimport { useState, useEffect } from 'react';\n// material-ui\nimport Button from '@mui/material/Button';\nimport AddIcon from '@mui/icons-material/Add';\nimport RemoveIcon from '@mui/icons-material/Remove';\nimport Collapse from '@mui/material/Collapse';\nimport { ClassNameMap } from '@mui/styles';\n// THIS PROJECT\n// components\nimport StageSelect from '../common/stages/StageSelect';\nimport PersonPlaceSelect from '../common/stages/PersonPlaceSelect';\nimport TaskListInput from '../common/stages/TaskListInput';\n// types\nimport { AddVehicleState } from '../../types/Vehicle';\n\ninterface StageAssignInputsProps {\n  mounted: React.MutableRefObject<boolean>;\n  addVehicleState: AddVehicleState;\n  classes: ClassNameMap<\"form\" | \"inputField\">;\n};\nexport default function StageAssignInputs(props: StageAssignInputsProps): React.ReactElement {\n  const { classes, addVehicleState, mounted } = props;\n  const { stage, setStage, personPlace, setPersonPlace, taskList, setTaskList, addVehicleStatus } = addVehicleState;\n  const [showStageInputs, setShowStageInputs] = useState<boolean>(false);\n\n  const toggleShowStageInputs = () => {\n    showStageInputs && setShowStageInputs(false);\n    !showStageInputs && setShowStageInputs(true);\n  };\n\n  useEffect(() => {\n    addVehicleStatus && setShowStageInputs(false);\n  }, [addVehicleStatus]);\n\n  return (\n    <>\n      <Button\n        className={classes.inputField}\n        startIcon={!showStageInputs ? <AddIcon /> : <RemoveIcon />}\n        onClick={toggleShowStageInputs}\n      >\n        Stage Assignment\n      </Button>\n      <Collapse in={showStageInputs} timeout='auto' sx={{ width: '100%' }}>\n        <div className={classes.form}>\n          <StageSelect\n            className={classes.inputField}\n            parent={{ mounted, stage, setStage }}\n            allowAddStage\n          />\n          <PersonPlaceSelect\n            className={classes.inputField}\n            parent={{ mounted, stage, personPlace, setPersonPlace }}\n            allowAddPersonPlace\n          />\n          <TaskListInput\n            className={classes.inputField}\n            taskList={taskList}\n            setTaskList={setTaskList}\n          />\n        </div>\n      </Collapse>\n    </>\n  );\n}\n\n","// react\nimport { useState, useEffect } from 'react';\n// material-ui\nimport Button from '@mui/material/Button';\nimport EditIcon from '@mui/icons-material/Edit';\nimport RemoveIcon from '@mui/icons-material/Remove';\nimport Collapse from '@mui/material/Collapse';\nimport TextField from '@mui/material/TextField';\nimport { ClassNameMap } from '@mui/styles';\n// THIS PROJECT\n// types\nimport { AddVehicleState } from '../../types/Vehicle';\n\ninterface NotesInputProps {\n  mounted: React.MutableRefObject<boolean>;\n  addVehicleState: AddVehicleState;\n  classes: ClassNameMap<\"form\" | \"inputField\">;\n};\nexport default function NotesInput(props: NotesInputProps): React.ReactElement {\n  const { classes, addVehicleState } = props;\n  const { notes, setNotes, addVehicleStatus } = addVehicleState;\n  const [showNotesInput, setShowNotesInput] = useState<boolean>(false);\n\n  const toggleShowNotesInput = () => {\n    showNotesInput && setShowNotesInput(false);\n    !showNotesInput && setShowNotesInput(true);\n  };\n\n  const handleNotesChange = (e: React.ChangeEvent<{ value: string; }>) => {\n    setNotes(e.target.value);\n  };\n\n  useEffect(() => {\n    addVehicleStatus && setShowNotesInput(false);\n  }, [addVehicleStatus]);\n\n  return (\n    <>\n      <Button\n        className={classes.inputField}\n        startIcon={!showNotesInput ? <EditIcon /> : <RemoveIcon />}\n        onClick={toggleShowNotesInput}\n      >\n        Notes\n      </Button>\n      <Collapse in={showNotesInput} timeout='auto' style={{ width: '100%' }}>\n        <div className={classes.form}>\n          <TextField\n            className={classes.inputField}\n            multiline\n            maxRows={4}\n            variant='outlined'\n            label='Notes'\n            value={notes}\n            onChange={handleNotesChange}\n          />\n        </div>\n      </Collapse>\n\n    </>\n  );\n}","// material-ui\nimport CircularProgress from '@mui/material/CircularProgress';\nimport FormControl from '@mui/material/FormControl';\nimport Button from '@mui/material/Button';\n// THIS PROJECT\n// types\nimport { AddVehicleState } from '../../types/Vehicle';\n\ninterface AddVehicleButtonProps {\n  addVehicleState: AddVehicleState;\n  addVehicleClick: () => void;\n  className?: string;\n};\nexport default function AddVehicleButton(props: AddVehicleButtonProps): React.ReactElement {\n  const { addVehicleState, addVehicleClick, className } = props;\n  const { stockOkay, year, make, model, stage, personPlace, addVehicleStatus } = addVehicleState;\n\n  if (addVehicleStatus === 'loading') {\n    return <CircularProgress style={{ width: '25px', margin: 'auto' }} />;\n  }\n\n  if (stockOkay && year && make.id && model.id && stage.id && personPlace.id) {\n    return (\n      <FormControl className={className ? className : ''}>\n        <Button variant='contained' color='primary' onClick={addVehicleClick}>\n          ADD\n        </Button>\n      </FormControl>\n    );\n  }\n\n  return (\n    <FormControl className={className ? className : ''}>\n      <Button variant='contained' color='primary' disabled>ADD</Button>\n    </FormControl>\n  );\n}","// react-router-dom\nimport { useHistory } from 'react-router-dom';\nimport makeStyles from '@mui/styles/makeStyles';\nimport Button from '@mui/material/Button';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Dialog from '@mui/material/Dialog';\nimport AddIcon from '@mui/icons-material/Add';\nimport Typography from '@mui/material/Typography';\nimport Divider from '@mui/material/Divider';\n// THIS PROJECT\n// components\nimport VehicleInfo from '../common/vehicles/VehicleInfo';\n// types\nimport { AddVehicleState } from '../../types/Vehicle';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    color: theme.titleColor.darkBlue,\n  },\n  dialog: {\n    padding: 10,\n    textAlign: 'center',\n    maxWidth: 500,\n  },\n  button: {\n    width: 120,\n    margin: 5,\n  },\n}));\n\ninterface AddVehicleSuccessDialogProps {\n  open: boolean;\n  addVehicleState: AddVehicleState;\n};\nexport default function AddVehicleSuccessDialog(props: AddVehicleSuccessDialogProps): React.ReactElement {\n  const classes = useStyles();\n  const history = useHistory();\n  const { open, addVehicleState } = props;\n  const { setAddVehicleStatus, addedVehicle } = addVehicleState;\n\n  const handleAnotherClick = () => {\n    setAddVehicleStatus('');\n    history.push('/add-vehicle');\n  };\n\n  const handleDoneClick = () => {\n    setAddVehicleStatus('');\n    history.push('/all-vehicles/active/asc/10/first/0');\n  };\n\n  return (\n    <Dialog aria-labelledby=\"add-vehicle-dialog\" open={open} disableEscapeKeyDown>\n      <div className={classes.dialog}>\n        <DialogTitle id=\"add-vehicle-dialog\" className={classes.title}>Successfully Added:</DialogTitle>\n        {addedVehicle ? <VehicleInfo vehicle={addedVehicle} variant='subtitle1' /> : <></>}\n        <br></br>\n        <Divider />\n        <Typography variant=\"subtitle1\">What next?</Typography>\n        <Button onClick={handleAnotherClick} className={classes.button} color='primary' startIcon={<AddIcon />} variant='outlined' size='small'>ANOTHER</Button>\n        <Button onClick={handleDoneClick} className={classes.button} color='primary' variant='outlined' size='small'>DONE</Button>\n      </div>\n    </Dialog >\n  );\n}","// react-router-dom\nimport { useHistory } from 'react-router-dom';\nimport makeStyles from '@mui/styles/makeStyles';\nimport Button from '@mui/material/Button';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Dialog from '@mui/material/Dialog';\nimport Typography from '@mui/material/Typography';\nimport Divider from '@mui/material/Divider';\n// THIS PROJECT\n// types\nimport { AddVehicleState } from '../../types/Vehicle';\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    color: theme.titleColor.darkBlue,\n  },\n  dialog: {\n    padding: 10,\n    textAlign: 'center',\n    maxWidth: 500,\n  },\n  button: {\n    width: 120,\n    margin: 5,\n  },\n}));\n\ninterface AddVehicleFailureDialogProps {\n  open: boolean;\n  addVehicleClick: () => void;\n  addVehicleState: AddVehicleState;\n};\nexport default function AddVehicleFailureDialog(props: AddVehicleFailureDialogProps): React.ReactElement {\n  const classes = useStyles();\n  const history = useHistory();\n  const { open, addVehicleClick, addVehicleState } = props;\n  const { setAddVehicleStatus } = addVehicleState;\n\n  const handleDoneClick = () => {\n    setAddVehicleStatus('');\n    history.push('/all-vehicles/active/asc/10/first/0');\n  };\n\n  return (\n    <Dialog aria-labelledby=\"add-vehicle-dialog\" open={open}>\n      <div className={classes.dialog}>\n        <DialogTitle id=\"add-vehicle-dialog\" className={classes.title}>Failed to Add Vehicle</DialogTitle>\n        <br></br>\n        <Divider />\n        <Typography variant=\"subtitle1\">What next?</Typography>\n        <Button className={classes.button} onClick={handleDoneClick} variant='outlined' size='small'>CANCEL</Button>\n        <Button className={classes.button} onClick={addVehicleClick} variant='outlined' size='small'>TRY AGAIN</Button>\n      </div>\n    </Dialog >\n  );\n}","// react\nimport { useState, useEffect } from 'react';\nimport makeStyles from '@mui/styles/makeStyles';\nimport FormHelperText from '@mui/material/FormHelperText';\n// THIS PROJECT\n// components\nimport VehicleInfoInputs from './VehicleInfoInputs';\nimport StageAssignInputs from './StageAssignInputs';\nimport NotesInput from './NotesInput';\nimport AddVehicleButton from './AddVehicleButton';\nimport AddVehicleSuccessDialog from './AddVehicleSuccessDialog';\nimport AddVehicleFailureDialog from './AddVehicleFailureDialog';\nimport { FlexCenter } from '../common/flex';\n// hooks\nimport { useCheckMounted } from '../../hooks';\n// contexts\nimport { useAuthContext } from '../../contexts/AuthContext';\nimport { useDemoContext } from '../../contexts/DemoContext';\n// services\nimport { checkStock, addVehicle } from '../../services/vehicles';\n// types\nimport { DetailedVehicle, AddVehicleState, AddVehicleParam } from '../../types/Vehicle';\nimport { IdName } from '../../types/misc';\nimport { PostRequestStatus } from '../../types/ServiceRequests';\nimport { InitialStageParam } from '../../types/StageAssignment';\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    marginTop: theme.spacing(1),\n    margin: 'auto',\n    width: 'clamp(200px, 100%, 400px)',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column',\n  },\n  inputField: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    margin: 'auto',\n    width: 'clamp(200px, 100%, 300px)',\n  },\n}));\n\nexport default function AddVehicleInputs(): React.ReactElement {\n  const classes = useStyles();\n  const mounted = useCheckMounted();\n  const { userPreferences } = useAuthContext();\n  const { delay } = useDemoContext();\n  const { defaultStageAssignment } = userPreferences;\n\n  const [stock, setStock] = useState<string>('');\n  const [stockOkay, setStockOkay] = useState<boolean>(true);\n  const [stockError, setStockError] = useState<string>('');\n  const [year, setYear] = useState<string>('');\n  const [make, setMake] = useState<IdName>({ id: '', name: '' });\n  const [model, setModel] = useState<IdName>({ id: '', name: '' });\n  const [trim, setTrim] = useState<IdName>({ id: '', name: '' });\n  const [stage, setStage] = useState<IdName>({ id: '', name: '' });\n  const [personPlace, setPersonPlace] = useState<IdName>({ id: '', name: '' });\n  const [taskList, setTaskList] = useState<string[]>([]);\n  const [notes, setNotes] = useState<string>('');\n  const [addVehicleStatus, setAddVehicleStatus] = useState<PostRequestStatus>('');\n  const [addedVehicle, setAddedVehicle] = useState<DetailedVehicle | null>(null);\n\n  useEffect(() => {\n    if (!stage.id) setStage(defaultStageAssignment.stage);\n  }, [defaultStageAssignment, stage]);\n\n  // set default stage assignment Person / Place on first render. Have to do it here, \n  // because personPlace resets when stage is set (PersonPlaceSelect.tsx)\n  // causing it to go blank if we assign it when we initialize the personPlace state above\n  useEffect(() => {\n    if (stage === defaultStageAssignment.stage) {\n      if (addVehicleStatus === '' || addVehicleStatus === 'success') {\n        setPersonPlace(defaultStageAssignment.personPlace);\n      }\n    }\n  }, [defaultStageAssignment, stage, addVehicleStatus]);\n\n  const addVehicleState: AddVehicleState = {\n    stock, setStock,\n    stockOkay, setStockOkay,\n    stockError, setStockError,\n    year, setYear,\n    make, setMake,\n    model, setModel,\n    trim, setTrim,\n    stage, setStage,\n    personPlace, setPersonPlace,\n    taskList, setTaskList,\n    notes, setNotes,\n    addVehicleStatus, setAddVehicleStatus,\n    addedVehicle, setAddedVehicle,\n  };\n\n  const clearInputs = () => {\n    setStock('');\n    setStockOkay(true);\n    setStockError('');\n    setYear('');\n    setMake({ id: '', name: '' });\n    setModel({ id: '', name: '' });\n    setTrim({ id: '', name: '' });\n    setStage({ id: '', name: '' });\n    setPersonPlace({ id: '', name: '' });\n    setTaskList([]);\n    setNotes('');\n  };\n\n  const addVehicleClick = async () => {\n    setAddVehicleStatus('loading');\n    await delay();\n    checkStock(stock)\n      .then(result => {\n        if (mounted.current && result.data && result.data.exists) {\n          setAddVehicleStatus('');\n          setStockError('stk# already exists');\n        } else {\n          const vehicleParam: AddVehicleParam = {\n            stock: stock !== '' ? parseInt(stock) : 0,\n            year: parseInt(year),\n            make,\n            model,\n            trim,\n            notes: notes ? notes : '',\n          };\n          const initialStageParam: InitialStageParam = {\n            stage,\n            personPlace,\n            tasks: taskList\n          };\n          addVehicle(vehicleParam, initialStageParam)\n            .then(result => {\n              mounted.current && setAddVehicleStatus(result.status);\n              if (result.status === 'success') {\n                mounted.current && setAddedVehicle(result.doc);\n                clearInputs();\n              };\n              if (result.status === 'failed') {\n                console.error(result);\n              };\n            }, e => {\n              mounted.current && setAddVehicleStatus('failed');\n              console.error(e);\n            });\n        }\n      }, e => {\n        mounted.current && setAddVehicleStatus('failed');\n        console.error(e);\n      });\n  };\n\n  const [openSuccessDialog, setOpenSuccessDialog] = useState<boolean>(false);\n\n  useEffect(() => {\n    addVehicleStatus === 'success' ? setOpenSuccessDialog(true) : setOpenSuccessDialog(false);\n  }, [addVehicleStatus, addedVehicle]);\n\n  const [openFailureDialog, setOpenFailureDialog] = useState<boolean>(false);\n\n  useEffect(() => {\n    addVehicleStatus === 'failed' ? setOpenFailureDialog(true) : setOpenFailureDialog(false);\n  }, [addVehicleStatus]);\n\n  return (\n    <>\n      <form autoComplete='off'>\n        <FlexCenter flexDirection='column'>\n          <FormHelperText>*required field</FormHelperText>\n          <VehicleInfoInputs mounted={mounted} addVehicleState={addVehicleState} classes={classes} />\n          <StageAssignInputs mounted={mounted} addVehicleState={addVehicleState} classes={classes} />\n          <NotesInput mounted={mounted} addVehicleState={addVehicleState} classes={classes} />\n          <AddVehicleButton className={classes.inputField} addVehicleState={addVehicleState} addVehicleClick={addVehicleClick} />\n          <AddVehicleSuccessDialog open={openSuccessDialog} addVehicleState={addVehicleState} />\n          <AddVehicleFailureDialog open={openFailureDialog} addVehicleClick={addVehicleClick} addVehicleState={addVehicleState} />\n        </FlexCenter>\n      </form>\n    </>\n  );\n}","// material-ui\nimport makeStyles from '@mui/styles/makeStyles';\nimport AddIcon from '@mui/icons-material/Add';\n// THIS PROJECT\n// components\nimport { SmallCard, SmallContent, ContentHeader, IconContentTitle, ContentPaper } from '../common/cardContent';\nimport Divider from '@mui/material/Divider';\nimport AddVehicleInputs from './AddVehicleInputs';\n\nconst useStyles = makeStyles(theme => ({\n  addVehicle: {\n    margin: 'auto',\n  }\n}));\n\nexport default function AddVehicle(): React.ReactElement {\n  const classes = useStyles();\n\n  return (\n    <SmallCard className={classes.addVehicle}>\n      <SmallContent>\n        <ContentHeader>\n          <IconContentTitle icon={<AddIcon color='primary' />} variant='h5'>Add Vehicle</IconContentTitle>\n          <Divider />\n        </ContentHeader>\n        <ContentPaper>\n          <AddVehicleInputs />\n        </ContentPaper>\n      </SmallContent>\n    </SmallCard>\n  );\n}","// material-ui\nimport Divider from '@mui/material/Divider';\nimport Skeleton from '@mui/material/Skeleton';\n// THIS PROJECT\n// components\nimport { LargeCard, LargeContent, ContentHeader } from '../common/cardContent';\n\nexport default function GetVehicleLoading(): React.ReactElement {\n  return (\n    <LargeCard>\n      <LargeContent>\n        <ContentHeader>\n          <Skeleton />\n          <Skeleton />\n        </ContentHeader>\n        <Divider />\n        <Skeleton variant=\"rectangular\" height={300} />\n      </LargeContent>\n    </LargeCard>\n  );\n}","// react\nimport { useState } from 'react';\n// material-ui\nimport IconButton from '@mui/material/IconButton';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport AttachMoneyIcon from '@mui/icons-material/AttachMoney';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\n// THIS PROJECT\n// services\nimport { updateVehicle, sellVehicle } from '../../services/vehicles';\n// contexts\nimport { useDemoContext } from '../../contexts/DemoContext';\n// types\nimport { VehicleDetailState } from '../../types/Vehicle';\nimport { PostRequestStatus } from '../../types/ServiceRequests';\n\ninterface ActionMenuProps {\n  vehicleDetailState: VehicleDetailState;\n  mounted: React.MutableRefObject<boolean>;\n};\nexport default function ActionMenu(props: ActionMenuProps): React.ReactElement {\n  const { delay } = useDemoContext();\n  const { vehicleDetailState, mounted } = props;\n  const { vehicle, setVehicle, setUpdateVehicleStatus } = vehicleDetailState;\n\n  const [anchorMenu, setAnchorMenu] = useState<null | HTMLElement>(null);\n\n  const handleMenuClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorMenu(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorMenu(null);\n  };\n\n  const trashVehicle = async () => {\n    setUpdateVehicleStatus('loading');\n    await delay();\n    vehicle && updateVehicle(vehicle.id, { status: 'trash' })\n      .then(result => {\n        mounted.current && setUpdateVehicleStatus(result.status as PostRequestStatus);\n        result.status === 'success' && mounted.current && setVehicle(result.doc);\n        result.status === 'failed' && console.error(result);\n      }, e => {\n        mounted.current && setUpdateVehicleStatus('failed');\n        console.error(e);\n      });\n  };\n\n  const sellVehicleClick = async () => {\n    setUpdateVehicleStatus('loading');\n    await delay();\n    vehicle && sellVehicle(vehicle.id, vehicle.currentStage.id, Date.now())\n      .then(result => {\n        mounted.current && setUpdateVehicleStatus(result.status as PostRequestStatus);\n        if (result.status === 'success' && mounted.current) {\n          setVehicle(result.doc);\n        }\n        result.status === 'failed' && console.error(result);\n      }, e => {\n        mounted.current && setUpdateVehicleStatus('failed');\n        console.error(e);\n      });\n  };\n\n  return (\n    <div>\n      <IconButton\n        aria-controls='action-menu'\n        aria-haspopup='true'\n        onClick={handleMenuClick}\n        size=\"large\">\n        <MoreVertIcon />\n      </IconButton>\n      <Menu\n        id='action-menu'\n        anchorEl={anchorMenu}\n        keepMounted\n        open={Boolean(anchorMenu)}\n        onClose={handleMenuClose}\n      >\n        <MenuItem onClick={trashVehicle}>\n          <ListItemIcon><DeleteIcon /> </ListItemIcon>\n          <ListItemText>Trash</ListItemText>\n        </MenuItem>\n        {vehicle && vehicle.status !== 'sold' &&\n          <MenuItem onClick={sellVehicleClick}>\n            <ListItemIcon><AttachMoneyIcon /> </ListItemIcon>\n            <ListItemText>Sell</ListItemText>\n          </MenuItem>}\n      </Menu>\n    </div>\n  );\n}","// material-ui\nimport withStyles from '@mui/styles/withStyles';\nimport Tab from '@mui/material/Tab';\n\nconst DarkTab = withStyles({\n  root: {\n    '&$selected': {\n      backgroundColor: '#F5F5F5',\n    }\n  },\n  selected: {},\n})(Tab);\n\nexport default DarkTab;","// react\nimport { useState } from 'react';\n// material-ui\nimport FormControl from '@mui/material/FormControl';\nimport Button from '@mui/material/Button';\nimport CircularProgress from '@mui/material/CircularProgress';\n// THIS PROJECT\n// services\nimport { assignStage } from '../../../../services/stages';\n// context\nimport { useDemoContext } from '../../../../contexts/DemoContext';\n// hooks\nimport { useCheckMounted } from '../../../../hooks';\n// types\nimport { IdName } from '../../../../types/misc';\nimport { VehicleDetailState } from '../../../../types/Vehicle';\nimport { PostRequestStatus } from '../../../../types/ServiceRequests';\n\ninterface AssignStageButtonProps {\n  vehicleDetailState: VehicleDetailState;\n  assignStageState: {\n    stage: IdName;\n    personPlace: IdName;\n    taskList: string[];\n  };\n};\nexport default function AssignStageButton(props: AssignStageButtonProps): React.ReactElement {\n  const mounted = useCheckMounted();\n  const { delay } = useDemoContext();\n  const { vehicleDetailState, assignStageState } = props;\n  const { stage, personPlace, taskList } = assignStageState;\n  const { mounted: pMounted, vehicle, setVehicle } = vehicleDetailState;\n  const vehicleId = vehicle?.id;\n  const previousStage = vehicle?.currentStage;\n  const dateOnLot = vehicle?.dateOnLot;\n\n  const [assignStageStatus, setAssignStageStatus] = useState<PostRequestStatus>('');\n\n  const assignStageClick = async () => {\n    setAssignStageStatus('loading');\n    await delay();\n    vehicleId && previousStage && assignStage({\n      vehicleId,\n      stage,\n      personPlace,\n      tasks: taskList,\n      dateAssigned: Date.now(),\n      dateOnLot\n    }, previousStage).then(result => {\n      mounted.current && setAssignStageStatus(result.status);\n      result.status === 'success' && pMounted.current && setVehicle(result.doc);\n      result.status === 'failed' && console.error(result);\n    }, e => {\n      mounted.current && setAssignStageStatus('failed');\n      console.error(e);\n    });\n  };\n\n  const assignButton = (\n    <Button onClick={assignStageClick} variant='contained' color='primary' disableElevation>Assign Now</Button>\n  );\n\n  const disabledAssignButton = (\n    <Button variant='contained' color='primary' disableElevation disabled>Assign Now</Button>\n  );\n\n  return (\n    <FormControl>\n      {assignStageStatus === 'loading'\n        ? <CircularProgress size={50} />\n        : vehicleId && stage.name && personPlace.name\n          ? assignButton\n          : disabledAssignButton}\n    </FormControl>\n  );\n}","// react\nimport { useState } from 'react';\nimport makeStyles from '@mui/styles/makeStyles';\n// THIS PROJECT\n// components\nimport StageSelect from '../../../common/stages/StageSelect';\nimport PersonPlaceSelect from '../../../common/stages/PersonPlaceSelect';\nimport TaskListInput from '../../../common/stages/TaskListInput';\nimport AssignStageButton from './AssignStageButton';\n// hooks\nimport { useCheckMounted } from '../../../../hooks';\n// types\nimport { IdName } from '../../../../types/misc';\nimport { VehicleDetailState } from '../../../../types/Vehicle';\n\nconst useStyles = makeStyles((theme) => ({\n  inputField: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    margin: 'auto',\n    width: 'clamp(200px, 100%, 300px)',\n  },\n}));\n\ninterface AssignStageProps {\n  vehicleDetailState: VehicleDetailState;\n};\nexport default function AssignStage(props: AssignStageProps): React.ReactElement {\n  const mounted = useCheckMounted();\n  const classes = useStyles();\n  const { vehicleDetailState } = props;\n\n  const [stage, setStage] = useState<IdName>({ id: '', name: '' });\n  const [personPlace, setPersonPlace] = useState<IdName>({ id: '', name: '' });\n  const [taskList, setTaskList] = useState<string[]>([]);\n  const assignStageState = { stage, personPlace, taskList };\n\n  // automatically assigning the default stage assignment when leaving page without having assigned stage\n  // is handled in the parent VehicleDetails.tsx\n\n  return (\n    <>\n      <StageSelect\n        className={classes.inputField}\n        parent={{ mounted, stage, setStage }}\n        allowAddStage\n      />\n      <PersonPlaceSelect\n        className={classes.inputField}\n        parent={{ mounted, stage, personPlace, setPersonPlace }}\n        allowAddPersonPlace\n      />\n      <TaskListInput\n        className={classes.inputField}\n        taskList={taskList}\n        setTaskList={setTaskList}\n      />\n      <br></br>\n      <AssignStageButton\n        vehicleDetailState={vehicleDetailState}\n        assignStageState={assignStageState}\n      />\n    </>\n  );\n}","// react\nimport { useState } from 'react';\n// material-ui\nimport Button from '@mui/material/Button';\nimport ButtonGroup from '@mui/material/ButtonGroup';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport makeStyles from '@mui/styles/makeStyles';\nimport Box from '@mui/material/Box';\nimport AttachMoneyIcon from '@mui/icons-material/AttachMoney';\n// THIS PROJECT\n// hooks\nimport { useCheckMounted } from '../../../../hooks';\n// services\nimport { sellVehicle } from '../../../../services/vehicles';\nimport { completeStageAssignment } from '../../../../services/stages';\n// contexts\nimport { useDemoContext } from '../../../../contexts/DemoContext';\n// types\nimport { VehicleDetailState } from '../../../../types/Vehicle';\nimport { PostRequestStatus } from '../../../../types/ServiceRequests';\nimport CenteredError from '../../../common/CenteredError';\n\nconst useStyles = makeStyles((theme) => ({\n  sellButton: {\n    width: 125,\n    backgroundColor: theme.palette.success.main,\n    color: 'white',\n    '&:hover': {\n      backgroundColor: theme.palette.success.dark,\n    },\n  },\n  reassignButton: {\n    width: 125,\n  },\n}));\n\ninterface SellVehicleButtonsProps {\n  vehicleDetailState: VehicleDetailState;\n};\nexport default function SellVehicleButtons(props: SellVehicleButtonsProps): React.ReactElement {\n  const mounted = useCheckMounted();\n  const classes = useStyles();\n  const { delay } = useDemoContext();\n  const { vehicleDetailState } = props;\n  const { mounted: pMounted, vehicle, setVehicle } = vehicleDetailState;\n  const stageAssignmentId = vehicle?.currentStage.id;\n\n  const [sellVehicleStatus, setSellVehicleStatus] = useState<PostRequestStatus>('');\n  const [completeStageStatus, setCompleteStageStatus] = useState<PostRequestStatus>('');\n\n  const reassignClick = async () => {\n    setCompleteStageStatus('loading');\n    await delay();\n    stageAssignmentId && completeStageAssignment(stageAssignmentId, Date.now())\n      .then(result => {\n        mounted.current && setCompleteStageStatus(result.status);\n        if (result.status === 'success') {\n          pMounted && result.data && setVehicle(result.data);\n        }\n        if (result.status === 'failed') {\n          console.error(result);\n        }\n      }, e => {\n        mounted.current && setCompleteStageStatus('failed');\n        console.error(e);\n      });\n  };\n\n  const sellVehicleClick = async () => {\n    setSellVehicleStatus('loading');\n    await delay();\n    vehicle && sellVehicle(vehicle.id, vehicle.currentStage.id, Date.now())\n      .then(result => {\n        mounted.current && setSellVehicleStatus(result.status as PostRequestStatus);\n        result.status === 'success' && pMounted.current && setVehicle(result.doc);\n        result.status === 'failed' && console.error(result);\n      }, e => {\n        mounted.current && setSellVehicleStatus('failed');\n        console.error(e);\n      });\n  };\n\n  if (completeStageStatus === 'failed') {\n    return <CenteredError errorMessage='Failed to re-assign vehicle' retryAction={reassignClick} />;\n  };\n\n  if (sellVehicleStatus === 'failed') {\n    return <CenteredError errorMessage='Failed to sell vehicle' retryAction={sellVehicleClick} />;\n  };\n\n  return (\n    <Box m={1}>\n      {sellVehicleStatus === 'loading' || completeStageStatus === 'loading'\n        ? <CircularProgress size={50} />\n        : stageAssignmentId\n        && <ButtonGroup>\n          <Button\n            className={classes.reassignButton}\n            onClick={reassignClick}\n            variant='outlined'\n          >\n            re-assign\n          </Button>\n          <Button\n            className={classes.sellButton}\n            startIcon={<AttachMoneyIcon />}\n            onClick={sellVehicleClick}\n            variant='contained'\n            disableElevation\n          >\n            Sell\n          </Button>\n        </ButtonGroup>}\n    </Box>\n  );\n}","// react\nimport { useState } from 'react';\n// material-ui\nimport Button from '@mui/material/Button';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Box from '@mui/material/Box';\n// THIS PROJECT\n// components\nimport CenteredError from '../../../common/CenteredError';\n// hooks\nimport { useCheckMounted } from '../../../../hooks';\n// services\nimport { completeStageAssignment } from '../../../../services/stages';\n// contexts\nimport { useDemoContext } from '../../../../contexts/DemoContext';\n// types\nimport { VehicleDetailState } from '../../../../types/Vehicle';\nimport { PostRequestStatus } from '../../../../types/ServiceRequests';\n\ninterface CompleteStageButtonProps {\n  vehicleDetailState: VehicleDetailState;\n}\nexport default function CompleteStageButton(props: CompleteStageButtonProps): React.ReactElement {\n  const mounted = useCheckMounted();\n  const { delay } = useDemoContext();\n  const { vehicleDetailState } = props;\n  const { mounted: pMounted, vehicle, setVehicle } = vehicleDetailState;\n  const stageAssignmentId = vehicle?.currentStage.id;\n\n  const [completeStageStatus, setCompleteStageStatus] = useState<PostRequestStatus>('');\n\n  const completeStageClick = async () => {\n    setCompleteStageStatus('loading');\n    await delay();\n    stageAssignmentId && completeStageAssignment(stageAssignmentId, Date.now())\n      .then(result => {\n        mounted.current && setCompleteStageStatus(result.status);\n        if (result.status === 'success') {\n          pMounted && result.data && setVehicle(result.data);\n        }\n        if (result.status === 'failed') {\n          console.error(result);\n        }\n      }, e => {\n        mounted.current && setCompleteStageStatus('failed');\n        console.error(e);\n      });\n  };\n\n  if (completeStageStatus === 'failed') {\n    return <CenteredError errorMessage='Failed to complete stage' retryAction={completeStageClick} />;\n  };\n\n  return (\n    <Box m={1}>\n      {completeStageStatus === 'loading'\n        ? <CircularProgress size={50} />\n        : stageAssignmentId\n        && <Button onClick={completeStageClick} variant='contained' color='primary' disableElevation>Complete</Button>}\n    </Box>\n  );\n}","// material-ui\nimport { styled } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\n\nconst TabContent = styled(Box)(({\n  theme\n}) => ({\n  display: 'flex',\n  p: 1,\n  justifyContent: 'center',\n  alignItems: 'center',\n  alignContent: 'start',\n  flexDirection: 'column',\n  margin: 'auto',\n  width: 'clamp(200px, 100%, 600px)',\n  minHeight: '200px',\n}));\n\nexport default TabContent;","// material-ui\nimport makeStyles from '@mui/styles/makeStyles';\nimport Typography from '@mui/material/Typography';\nimport Divider from '@mui/material/Divider';\nimport { List, ListItem, ListItemText, ListItemIcon } from '@mui/material';\nimport ArrowRightRoundedIcon from '@mui/icons-material/ArrowRightRounded';\n// THIS PROJECT\n// components\nimport AssignStage from './AssignStage';\nimport SellVehicleButtons from './SellVehicleButtons';\nimport CompleteStageButton from './CompleteStageButton';\nimport { ContentPaper } from '../../../common/cardContent';\nimport TabContent from '../TabContent';\nimport { FlexCenter } from '../../../common/flex';\n// types\nimport { VehicleDetailState } from '../../../../types/Vehicle';\n\nconst useStyles = makeStyles((theme) => ({\n  sold: {\n    color: theme.palette.success.main,\n  },\n  content: {\n    width: 'clamp(200px, 100%, 500px)',\n  },\n  flexDivider: {\n    width: 'clamp(200px, 100%, 400px)',\n    height: 1,\n    margin: 'auto',\n    marginTop: 5\n  }\n}));\n\ninterface CurrentStageProps {\n  vehicleDetailState: VehicleDetailState;\n};\nexport default function CurrentStage(props: CurrentStageProps): React.ReactElement {\n  const classes = useStyles();\n  const { vehicleDetailState } = props;\n  const { vehicle } = vehicleDetailState;\n  const currentStage = vehicle?.currentStage;\n  const stage = currentStage?.stage.name;\n  const personPlace = currentStage?.personPlace.name;\n\n  const dateSoldDisplay = (vehicle?.dateSold && new Date(vehicle.dateSold));\n\n  return (\n    <ContentPaper>\n      <TabContent>\n        <FlexCenter flexDirection='column' className={classes.content}>\n          {vehicle?.status === 'sold'\n            ? <>\n              <Typography className={classes.sold} variant='h6'><strong>Sold</strong></Typography>\n              <Typography variant='subtitle1'>{dateSoldDisplay && dateSoldDisplay.toLocaleDateString()}</Typography>\n            </>\n            : currentStage?.status === 'complete'\n              ? <>\n                <Typography variant='h6' color='primary'><strong>Assign</strong></Typography>\n              </>\n              : <>\n                <Typography variant='h6' color='primary'><strong>{stage}</strong></Typography>\n                <Typography variant='h6'>{personPlace}</Typography>\n              </>\n          }\n          {vehicle?.status !== 'sold' && <Divider className={classes.flexDivider} flexItem />}\n        </FlexCenter>\n        {vehicle?.status === 'sold' ? <></>\n          : (stage === 'Assign' || currentStage?.status === 'complete')\n            ? <AssignStage vehicleDetailState={vehicleDetailState} />\n            : stage === 'For Sale'\n              ? <SellVehicleButtons vehicleDetailState={vehicleDetailState} />\n              // task list\n              : <>\n                {vehicle && vehicle.currentStage.tasks.length >= 1 && <FlexCenter sx={{ flexDirection: 'column', width: 'clamp(200px, 100%, 400px)' }}>\n                  <Typography sx={{ textAlign: 'center' }}>Tasks:</Typography>\n                  <List dense sx={{ paddingLeft: 3, paddingRight: 3 }}>\n                    {vehicle?.currentStage.tasks.map(task => <ListItem disablePadding key={task[0] + Math.random().toString()} sx={{ overflowWrap: 'break-word' }}>\n                      <ListItemIcon><ArrowRightRoundedIcon /></ListItemIcon>\n                      <ListItemText primary={task} />\n                    </ListItem>)}\n                  </List>\n                  <Divider flexItem />\n                </FlexCenter>}\n                <CompleteStageButton vehicleDetailState={vehicleDetailState} />\n              </>\n        }\n      </TabContent>\n    </ContentPaper >\n  );\n}","// material-ui\nimport makeStyles from '@mui/styles/makeStyles';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableRow from '@mui/material/TableRow';\nimport Chip from '@mui/material/Chip';\nimport Paper from '@mui/material/Paper';\nimport HistoryIcon from '@mui/icons-material/History';\nimport Typography from '@mui/material/Typography';\n// THIS PROJECT\n// components\nimport VehicleChip from '../../../common/vehicles/VehicleChip';\nimport SoldVehicleChip from '../../../common/vehicles/SoldVehicleChip';\nimport FormatTime from '../../../common/FormatTime';\nimport { FlexSpaceEvenly } from '../../../common/flex';\nimport { ContentPaper } from '../../../common/cardContent';\nimport TabContent from '../TabContent';\nimport { FlexCenter } from '../../../common/flex';\n// types\nimport { DetailedVehicle } from '../../../../types/Vehicle';\n\nconst useStyles = makeStyles((theme) => ({\n  table: {\n    width: 'clamp(200px, 100%, 400px)',\n  },\n  chip: {\n    minWidth: 95,\n  },\n}));\n\ninterface DurationStatsProps {\n  vehicle: DetailedVehicle;\n};\nexport default function DurationStats(props: DurationStatsProps): React.ReactElement {\n  const classes = useStyles();\n  const { vehicle } = props;\n  const { status, currentStage, dateAdded, reconditionTime, forSaleTime, dateOnLot, totalSellTime } = vehicle;\n  const stage = currentStage.stage.name;\n\n  const reconditionTimeLabel = (reconditionTime\n    ? <FormatTime milliseconds={reconditionTime} />\n    : <FormatTime milliseconds={Date.now() - dateAdded} />);\n\n  const stageTimeLabel = (currentStage.completeTime\n    ? <FormatTime milliseconds={currentStage.completeTime} />\n    : <FormatTime milliseconds={Date.now() - currentStage.dateAssigned} />);\n\n  const onLotTimeLabel = (forSaleTime && <FormatTime milliseconds={forSaleTime} />);\n\n  const totalSellTimeLabel = (totalSellTime && <FormatTime milliseconds={totalSellTime} />);\n\n  return (\n    <ContentPaper>\n      <TabContent>\n        <FlexCenter style={{ gap: 10 }}>\n          <HistoryIcon color='primary' />\n          <Typography variant='h6' color='primary'><strong>Duration Statistics:</strong></Typography>\n        </FlexCenter>\n        <TableContainer component={Paper} className={classes.table}>\n          <Table aria-label=\"stats table\">\n            <TableBody>\n              <TableRow>\n                <TableCell component=\"th\" scope=\"row\" align=\"left\">Total Reconditioning:</TableCell>\n                <TableCell align='right'>\n                  <VehicleChip\n                    className={classes.chip}\n                    // change the color label based on whether reconditioning was ever complete\n                    // (made it For Sale, hence has a dateOnLot property)\n                    color={dateOnLot ? 'primary' : 'default'}\n                    label={reconditionTimeLabel}\n                  />\n                </TableCell>\n              </TableRow>\n              {status !== 'sold'\n                ? <TableRow>\n                  <TableCell component=\"th\" scope=\"row\" align=\"left\">{stage}:</TableCell>\n                  <TableCell align='right'>\n                    <VehicleChip\n                      className={classes.chip}\n                      color={currentStage.status === 'complete' ? 'primary'\n                        : currentStage.stage.name === 'Assign' ? 'secondary' : 'default'}\n                      label={stageTimeLabel}\n                    />\n                  </TableCell>\n                </TableRow>\n                : forSaleTime\n                  ? <TableRow >\n                    <TableCell component=\"th\" scope=\"row\" align=\"left\">For Sale:</TableCell>\n                    <TableCell align='right'>\n                      <VehicleChip\n                        className={classes.chip}\n                        color='primary'\n                        label={onLotTimeLabel}\n                      />\n                    </TableCell>\n                  </TableRow>\n                  : <></>}\n              {status === 'sold' && <TableRow >\n                <TableCell component=\"th\" scope=\"row\" align=\"left\">Total Time to Sell:</TableCell>\n                <TableCell align='right'>\n                  <SoldVehicleChip\n                    className={classes.chip}\n                    color='primary'\n                    label={totalSellTimeLabel}\n                  />\n                </TableCell>\n              </TableRow>}\n              <TableRow>\n                <TableCell align=\"right\" size='small' colSpan={2} >\n                  <FlexSpaceEvenly>\n                    <Chip label='incomplete' size='small' />\n                    <Chip label='complete' size='small' color='primary' />\n                  </FlexSpaceEvenly>\n                </TableCell>\n              </TableRow>\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </TabContent>\n    </ContentPaper>\n  );\n}","// react\nimport { useState } from 'react';\n// material-ui\nimport Tabs from '@mui/material/Tabs';\n// THIS PROJECT\n// components\nimport DarkTab from '../../../common/DarkTab';\nimport CurrentStage from './CurrentStage';\nimport DurationStats from './DurationStats';\n// types\nimport { VehicleDetailState } from '../../../../types/Vehicle';\n\ninterface TabPanelProps {\n  children?: React.ReactNode;\n  index: any;\n  value: any;\n};\nfunction TabPanel(props: TabPanelProps) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`stage-tabpanel-${index}`}\n      aria-labelledby={`stage-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <div>{children}</div>\n      )}\n    </div>\n  );\n};\n\nfunction a11yProps(index: any) {\n  return {\n    id: `stage-tab-${index}`,\n    'aria-controls': `vehicle-tabpanel-${index}`,\n  };\n};\n\ninterface StageTabsProps {\n  vehicleDetailState: VehicleDetailState;\n};\nexport default function StageTabs(props: StageTabsProps): React.ReactElement {\n  const { vehicleDetailState } = props;\n  const { vehicle } = vehicleDetailState;\n  const [tabValue, setTabValue] = useState<'current' | 'stats'>('current');\n\n  const changeTab = (event: React.ChangeEvent<{}>, newValue: 'current' | 'stats') => {\n    setTabValue(newValue);\n  };\n\n  return (\n    <div>\n      <Tabs\n        centered\n        value={tabValue}\n        indicatorColor='primary'\n        textColor='primary'\n        onChange={changeTab}\n        aria-label='current stage navigation'\n      >\n        <DarkTab label='Current Stage' value='current' {...a11yProps('current')} />\n        <DarkTab label='Duration Stats' value='stats' {...a11yProps('stats')} />\n      </Tabs>\n      <TabPanel value={tabValue} index='current'>\n        <CurrentStage vehicleDetailState={vehicleDetailState} />\n      </TabPanel>\n      <TabPanel value={tabValue} index='stats'>\n        {vehicle && <DurationStats vehicle={vehicle} />}\n      </TabPanel>\n    </div>\n  );\n}","// material-ui\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Button from '@mui/material/Button';\n// THIS PROJECT\n// components\nimport { FlexSpaceBtwn } from '../../../common/flex';\n// services\nimport { checkStock, updateVehicle as updateVehicleService } from '../../../../services/vehicles';\n// contexts\nimport { useDemoContext } from '../../../../contexts/DemoContext';\n// types\nimport { EditVehicleState } from '../../../../types/Vehicle';\nimport { Set } from '../../../../types/misc';\n\ninterface EditInfoButtonsProps {\n  editVehicleState: EditVehicleState;\n  setEdit: Set<boolean>;\n  className?: string;\n};\nexport default function EditInfoButtons(props: EditInfoButtonsProps): React.ReactElement {\n  const { editVehicleState, setEdit, className } = props;\n  const { delay } = useDemoContext();\n  const {\n    vehicleDetailsMounted,\n    mounted,\n    vehicleId,\n    stock,\n    stockOkay,\n    setStockError,\n    editStock,\n    year, editYear,\n    make, editMake,\n    model, editModel,\n    trim, editTrim,\n    dateAdded, editDateAdded,\n    dateSold, editDateSold,\n    editVehicleStatus, setEditVehicleStatus,\n    setVehicle\n  } = editVehicleState;\n\n  const updateVehicle = () => {\n    const updateVehicleDoc = {\n      stock: parseInt(editStock),\n      year: parseInt(editYear),\n      make: editMake,\n      model: editModel,\n      trim: editTrim,\n      dateAdded: editDateAdded,\n      dateSold: dateSold && editDateSold,\n    };\n    updateVehicleService(vehicleId, updateVehicleDoc)\n      .then(result => {\n        mounted.current && setEditVehicleStatus(result.status);\n        if (result.status === 'success') {\n          vehicleDetailsMounted.current && setVehicle(result.doc);\n          mounted && setEdit(false);\n        };\n        result.status === 'failed' && console.error(result);\n      }, e => {\n        mounted.current && setEditVehicleStatus('failed');\n        console.error(e);\n      });\n  };\n\n  const updateVehicleClick = async () => {\n    setEditVehicleStatus('loading');\n    await delay();\n    if (stock === editStock) {\n      updateVehicle();\n    } else {\n      checkStock(editStock)\n        .then(result => {\n          if (mounted.current && result.data && result.data.exists) {\n            setEditVehicleStatus('');\n            setStockError('stk# already exists');\n          } else {\n            updateVehicle();\n          };\n        }, e => {\n          mounted.current && setEditVehicleStatus('failed');\n          console.error(e);\n        });\n    };\n  };\n\n  const cancelClick = () => setEdit(false);\n\n  let updateButton: JSX.Element;\n\n  const enabledUpdateButton = (\n    <Button variant='contained' color='primary' onClick={updateVehicleClick}>\n      Update\n    </Button>\n  );\n\n  const disabledUpdateButton = (\n    <Button variant='contained' color='primary' disabled>\n      Update\n    </Button>\n  );\n\n  if (editVehicleStatus === 'loading') {\n    updateButton = <CircularProgress size={25} />;\n  } else if (dateSold) {\n    if (\n      stock !== editStock\n      || year !== editYear\n      || make !== editMake\n      || model !== editModel\n      || trim !== editTrim\n      || dateAdded !== editDateAdded\n      || dateSold !== editDateSold\n    ) {\n      if (stockOkay && editYear && editMake.id && editModel.id && editDateAdded) {\n        updateButton = enabledUpdateButton;\n      } else {\n        updateButton = disabledUpdateButton;\n      };\n    } else {\n      updateButton = disabledUpdateButton;\n    };\n  } else if (\n    stock !== editStock\n    || year !== editYear\n    || make !== editMake\n    || model !== editModel\n    || trim !== editTrim\n    || dateAdded !== editDateAdded\n  ) {\n    if (stockOkay && editYear && editMake.id && editModel.id && editDateAdded) {\n      updateButton = enabledUpdateButton;\n    } else {\n      updateButton = disabledUpdateButton;\n    };\n  } else {\n    updateButton = disabledUpdateButton;\n  };\n\n  return (\n    <FlexSpaceBtwn className={className ? className : ''}>\n      <Button variant='contained' onClick={cancelClick}>Cancel</Button>\n      {updateButton}\n    </FlexSpaceBtwn>\n  );\n}","// react\nimport { useState, useEffect } from 'react';\n// date-fns\nimport 'date-fns';\n// material-ui\n// import { KeyboardDatePicker, MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport { LocalizationProvider } from \"@mui/lab\";\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport DatePicker from '@mui/lab/DatePicker';\nimport FormControl from '@mui/material/FormControl';\nimport TextField from '@mui/material/TextField';\n// THIS PROJECT\n// components\nimport StockField from '../../../common/vehicles/StockField';\nimport YearSelect from '../../../common/vehicles/YearSelect';\nimport MakeSelect from '../../../common/vehicles/MakeSelect';\nimport ModelSelect from '../../../common/vehicles/ModelSelect';\nimport TrimSelect from '../../../common/vehicles/TrimSelect';\nimport CenteredError from '../../../common/CenteredError';\nimport EditInfoButtons from './EditInfoButtons';\n// hooks\nimport { useCheckMounted } from '../../../../hooks';\n// types\nimport { DetailedVehicle, EditStockState, EditVehicleState } from '../../../../types/Vehicle';\nimport { IdName, Set } from '../../../../types/misc';\nimport { PostRequestStatus } from '../../../../types/ServiceRequests';\n\ninterface EditInfoProps {\n  vehicleDetailsMounted: React.MutableRefObject<boolean>;\n  vehicle: DetailedVehicle;\n  setVehicle: Set<DetailedVehicle | null>;\n  setEdit: Set<boolean>;\n  inputFieldStyle?: string;\n}\nexport default function EditInfo(props: EditInfoProps): React.ReactElement {\n  const mounted = useCheckMounted();\n  const { vehicleDetailsMounted, vehicle, setVehicle, setEdit, inputFieldStyle } = props;\n  const { id, stock, year, make, model, trim, dateAdded, dateSold } = vehicle;\n\n  const [editStock, setEditStock] = useState<string>(stock.toString());\n  const [stockOkay, setStockOkay] = useState<boolean>(true);\n  const [stockError, setStockError] = useState<string>('');\n  const [editYear, setEditYear] = useState<string>(year.toString());\n  const [editMake, setEditMake] = useState<IdName>(make);\n  const [editModel, setEditModel] = useState<IdName>({ id: '', name: '' });\n  const [editTrim, setEditTrim] = useState<IdName>({ id: '', name: '' });\n  const [editDateAdded, setEditDateAdded] = useState<number>(dateAdded);\n  const [editDateSold, setEditDateSold] = useState<number>(dateSold ? dateSold : 0);\n  const [editVehicleStatus, setEditVehicleStatus] = useState<PostRequestStatus>('');\n\n  // For setting the initial editModel value (since editMake must be set first)\n  // and clearing editModel when the editMake selection is changed\n  useEffect(() => {\n    if (editMake === make) {\n      setEditModel(model);\n    } else {\n      setEditModel({ id: '', name: '' });\n    };\n  }, [editMake, make, model]);\n\n  // For setting the initial editTrim value (since editModel must be set first)\n  // and clearing editTrim when the editModel selection is changed\n  useEffect(() => {\n    if (editModel === model) {\n      setEditTrim(trim);\n    } else {\n      setEditTrim({ id: '', name: '' });\n    };\n  }, [editModel, model, trim]);\n\n  const editStockState: EditStockState = {\n    stock: editStock, setStock: setEditStock,\n    stockOkay, setStockOkay,\n    stockError, setStockError,\n    addEditVehicleStatus: editVehicleStatus,\n  };\n\n  const editVehicleState: EditVehicleState = {\n    vehicleDetailsMounted,\n    mounted,\n    vehicleId: id,\n    stock: stock.toString(),\n    editStock,\n    stockOkay, setStockOkay,\n    setStockError,\n    year: year.toString(),\n    editYear,\n    make, editMake,\n    model, editModel,\n    trim, editTrim,\n    dateAdded, editDateAdded,\n    dateSold, editDateSold,\n    editVehicleStatus, setEditVehicleStatus,\n    setVehicle,\n  };\n\n  const handleDateAddedChange = (date: Date | null) => {\n    date && setEditDateAdded(date.getTime());\n  };\n\n  const handleDateSoldChange = (date: Date | null) => {\n    date && setEditDateSold(date.getTime());\n  };\n\n  if (editVehicleStatus === 'failed') {\n    return <CenteredError errorMessage='Failed to update vehicle info' />;\n  };\n\n  return (\n    <>\n      <StockField className={inputFieldStyle} editStockState={editStockState} />\n      <YearSelect className={inputFieldStyle} year={editYear} setYear={setEditYear} />\n      <MakeSelect\n        className={inputFieldStyle}\n        parent={{ mounted, make: editMake, setMake: setEditMake }}\n        allowAddMake\n      />\n      <ModelSelect\n        className={inputFieldStyle}\n        parent={{ mounted, make: editMake, model: editModel, setModel: setEditModel }}\n        allowAddModel\n      />\n      <TrimSelect\n        className={inputFieldStyle}\n        parent={{ mounted, make: editMake, model: editModel, trim: editTrim, setTrim: setEditTrim }}\n        allowAddTrim\n      />\n      <LocalizationProvider dateAdapter={AdapterDateFns}>\n        {/*Edit Date Added Input */}\n        <FormControl className={inputFieldStyle}>\n          <DatePicker\n            label='Date Added'\n            value={editDateAdded}\n            onChange={handleDateAddedChange}\n            renderInput={(params) => <TextField {...params} />}\n            maxDate={new Date()}\n          />\n        </FormControl>\n        {/* Edit Date Sold Input */}\n        {dateSold && dateSold > 0\n          && <FormControl className={inputFieldStyle}>\n            <DatePicker\n              label='Date Sold'\n              value={editDateSold}\n              onChange={handleDateSoldChange}\n              renderInput={(params) => <TextField {...params} />}\n              minDate={new Date(editDateAdded)}\n              maxDate={new Date()}\n            />\n          </FormControl>}\n      </LocalizationProvider>\n      <EditInfoButtons className={inputFieldStyle} editVehicleState={editVehicleState} setEdit={setEdit} />\n    </>\n  );\n}","// material-ui\nimport TextField, { TextFieldProps } from '@mui/material/TextField';\nimport { styled } from '@mui/material/styles';\n\nconst ReadonlyTextField = styled(TextField)<TextFieldProps>(({ theme }) => ({\n  '&.MuiTextField-root': {\n    '& .Mui-disabled': {\n      WebkitTextFillColor: 'black',\n      '& .label': {\n        WebkitTextFillColor: 'gray'\n      },\n    },\n  }\n}));\n\nexport default ReadonlyTextField;\n\n// text field still needs to be 'disabled' when used in order to become 'readonly'\n// the label must be assigne a <span /> element with a className of 'label'\n// e.g. <span className='label'>label</span>","// THIS PROJECT\n// components\nimport ReadonlyTextField from '../../../common/ReadonlyTextField';\n// types\nimport { DetailedVehicle } from '../../../../types/Vehicle';\n\ninterface ReadonlyInfoProps {\n  vehicle: DetailedVehicle;\n  inputFieldStyle?: string;\n};\nexport default function ReadonlyInfoTab(props: ReadonlyInfoProps): React.ReactElement {\n  const { vehicle, inputFieldStyle } = props;\n  const stock = vehicle.stock;\n  const year = vehicle.year;\n  const make = vehicle.make.name;\n  const model = vehicle.model.name;\n  const trim = vehicle.trim.name;\n  const dateAdded = new Date(vehicle.dateAdded).toLocaleDateString('en-us', { year: 'numeric', month: '2-digit', day: '2-digit' });\n  const dateSold = vehicle.dateSold && new Date(vehicle.dateSold).toLocaleDateString('en-us', { year: 'numeric', month: '2-digit', day: '2-digit' });\n\n  return (\n    <>\n      <ReadonlyTextField disabled className={inputFieldStyle} label={<span className={'label'}>Stock #</span>} value={stock > 0 ? stock : ' '} />\n      <ReadonlyTextField disabled className={inputFieldStyle} label={<span className={'label'}>Year</span>} value={year} />\n      <ReadonlyTextField disabled className={inputFieldStyle} label={<span className={'label'}>Make</span>} value={make} />\n      <ReadonlyTextField disabled className={inputFieldStyle} label={<span className={'label'}>Model</span>} value={model} />\n      <ReadonlyTextField disabled className={inputFieldStyle} label={<span className={'label'}>Trim</span>} value={trim ? trim : ' '} />\n      <ReadonlyTextField disabled className={inputFieldStyle} label={<span className={'label'}>Date Added</span>} value={dateAdded} />\n      {vehicle.dateSold && vehicle.dateSold > 0\n        && <ReadonlyTextField disabled className={inputFieldStyle} label={<span className={'label'}>Date Sold</span>} value={dateSold} />}\n    </>\n  );\n}","// react\nimport { useState, useEffect } from 'react';\n// material-ui\nimport EditIcon from '@mui/icons-material/Edit';\nimport IconButton from '@mui/material/IconButton';\nimport { makeStyles } from '@mui/styles';\nimport { Theme } from '@mui/material';\n// THIS PROJECT\n// components\nimport { ContentPaper } from '../../../common/cardContent';\nimport TabContent from '../TabContent';\nimport EditInfo from './EditInfo';\nimport ReadonlyInfo from './ReadonlyInfo';\n// types\nimport { VehicleDetailState } from '../../../../types/Vehicle';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  editButtonDiv: {\n    width: '100%',\n    marginTop: -25,\n    marginBottom: -10,\n  },\n  editButton: {\n    float: 'right',\n  },\n\n  inputField: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    margin: 'auto',\n    width: 'clamp(200px, 100%, 300px)',\n  },\n}));\n\ninterface InfoTabProps {\n  vehicleDetailState: VehicleDetailState;\n};\nexport default function InfoTab(props: InfoTabProps): React.ReactElement {\n  const classes = useStyles();\n  const { vehicleDetailState } = props;\n  const { mounted, vehicle, setVehicle, setDisableDoneButton } = vehicleDetailState;\n  const [edit, setEdit] = useState<boolean>(false);\n\n  const handleEditClick = () => {\n    edit ? setEdit(false) : setEdit(true);\n  };\n\n  useEffect(() => {\n    edit ? setDisableDoneButton(true) : setDisableDoneButton(false);\n    return () => setDisableDoneButton(false);\n  }, [edit, setDisableDoneButton]);\n\n  return (\n    <ContentPaper>\n      <TabContent>\n        <div className={classes.editButtonDiv} >\n          <IconButton\n            aria-label='edit'\n            className={classes.editButton}\n            onClick={handleEditClick}\n            color={edit ? 'primary' : 'inherit'}\n            size=\"large\">\n            <EditIcon />\n          </IconButton>\n        </div>\n        {edit\n          ? vehicle && <EditInfo\n            vehicleDetailsMounted={mounted}\n            vehicle={vehicle}\n            setVehicle={setVehicle}\n            setEdit={setEdit}\n            inputFieldStyle={classes.inputField}\n          />\n          : vehicle && <ReadonlyInfo vehicle={vehicle} inputFieldStyle={classes.inputField} />}\n      </TabContent>\n    </ContentPaper>\n  );\n}","// material-ui\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Button from '@mui/material/Button';\n// THIS PROJECT\n// components\nimport { FlexSpaceBtwn } from '../../../common/flex';\n// services\nimport { updateVehicle } from '../../../../services/vehicles';\n// contexts \nimport { useDemoContext } from '../../../../contexts/DemoContext';\n// types\nimport { EditNotesState } from '../../../../types/Vehicle';\nimport { Set } from '../../../../types/misc';\n\ninterface EditNotesButtonsProps {\n  editNotesState: EditNotesState;\n  setEdit: Set<boolean>;\n  className?: string;\n};\nexport default function EditNotesButtons(props: EditNotesButtonsProps): React.ReactElement {\n  const { editNotesState, setEdit, className } = props;\n  const { delay } = useDemoContext();\n\n  const {\n    vehicleDetailsMounted,\n    mounted,\n    vehicleId,\n    notes,\n    editNotes,\n    editNotesStatus, setEditNotesStatus,\n    setVehicle\n  } = editNotesState;\n\n  const updateNotes = async () => {\n    setEditNotesStatus('loading');\n    await delay();\n    const updateVehicleDoc = { notes: editNotes };\n    updateVehicle(vehicleId, updateVehicleDoc)\n      .then(result => {\n        mounted.current && setEditNotesStatus(result.status);\n        if (result.status === 'success') {\n          vehicleDetailsMounted.current && setVehicle(result.doc);\n          mounted && setEdit(false);\n        };\n        result.status === 'failed' && console.error(result);\n      }, e => {\n        mounted.current && setEditNotesStatus('failed');\n        console.error(e);\n      });\n  };\n\n  const cancelClick = () => setEdit(false);\n\n  let updateButton: JSX.Element;\n\n  const enabledUpdateButton = (\n    <Button variant='contained' color='primary' onClick={updateNotes}>\n      Update\n    </Button>\n  );\n\n  const disabledUpdateButton = (\n    <Button variant='contained' color='primary' disabled>\n      Update\n    </Button>\n  );\n\n  editNotesStatus === 'loading'\n    ? updateButton = <CircularProgress size={25} />\n    : notes !== editNotes\n      ? updateButton = enabledUpdateButton\n      : updateButton = disabledUpdateButton;\n\n  return (\n    <FlexSpaceBtwn className={className ? className : ''}>\n      <Button variant='contained' onClick={cancelClick}>Cancel</Button>\n      {updateButton}\n    </FlexSpaceBtwn>\n  );\n}","// react\nimport { useState } from 'react';\n// material-ui\nimport FormControl from '@mui/material/FormControl';\nimport TextField from '@mui/material/TextField';\n// THIS PROJECT\n// components\nimport EditNotesButtons from './EditNotesButtons';\nimport CenteredError from '../../../common/CenteredError';\n// hooks\nimport { useCheckMounted } from \"../../../../hooks\";\n// types\nimport { PostRequestStatus } from '../../../../types/ServiceRequests';\nimport { Set } from \"../../../../types/misc\";\nimport { DetailedVehicle, EditNotesState } from \"../../../../types/Vehicle\";\n\ninterface EditNotesProps {\n  vehicleDetailsMounted: React.MutableRefObject<boolean>;\n  vehicle: DetailedVehicle;\n  setVehicle: Set<DetailedVehicle | null>;\n  setEdit: Set<boolean>;\n  inputFieldStyle?: string;\n};\nexport default function EditNotes(props: EditNotesProps): React.ReactElement {\n  const mounted = useCheckMounted();\n  const { vehicleDetailsMounted, vehicle, setVehicle, setEdit, inputFieldStyle } = props;\n  const { id, notes } = vehicle;\n\n  const [editNotes, setEditNotes] = useState<string>(notes);\n  const [editNotesStatus, setEditNotesStatus] = useState<PostRequestStatus>('');\n\n  const editNotesState: EditNotesState = {\n    vehicleDetailsMounted,\n    mounted,\n    vehicleId: id,\n    notes,\n    editNotes,\n    editNotesStatus,\n    setEditNotesStatus,\n    setVehicle\n  };\n\n  const handleNotesChange = (e: React.ChangeEvent<{ value: unknown; }>): void => {\n    setEditNotes(e.target.value as string);\n  };\n\n  if (editNotesStatus === 'failed') {\n    return <CenteredError errorMessage='Failed to update vehicle notes' />;\n  };\n\n  return <>\n    <FormControl className={inputFieldStyle}>\n      <TextField\n        onChange={handleNotesChange}\n        label='Notes'\n        value={editNotes}\n        variant='outlined'\n        multiline\n        maxRows={5}\n        autoFocus\n      />\n    </FormControl>\n    <EditNotesButtons className={inputFieldStyle} editNotesState={editNotesState} setEdit={setEdit} />\n  </>;\n}","// THIS PROJECT\n// components\nimport ReadonlyTextField from '../../../common/ReadonlyTextField';\n// types\nimport { DetailedVehicle } from '../../../../types/Vehicle';\n\ninterface ReadonlyInfoProps {\n  vehicle: DetailedVehicle;\n  inputFieldStyle?: string;\n};\nexport default function ReadonlyInfoTab(props: ReadonlyInfoProps): React.ReactElement {\n  const { vehicle, inputFieldStyle } = props;\n  const { notes } = vehicle;\n\n  return (\n    <ReadonlyTextField disabled label={notes === '' ? <span className='label'>...</span> : <span className='label'>Notes</span>} value={notes} className={inputFieldStyle} multiline maxRows={5} />\n  );\n};","// react\nimport { useState, useEffect } from 'react';\n// material-ui\nimport EditIcon from '@mui/icons-material/Edit';\nimport IconButton from '@mui/material/IconButton';\nimport { makeStyles } from '@mui/styles';\nimport { Theme } from '@mui/material';\n// THIS PROJECT\n// components\nimport TabContent from '../TabContent';\nimport EditNotes from './EditNotes';\nimport ReadonlyNotes from './ReadonlyNotes';\n// types\nimport { VehicleDetailState } from '../../../../types/Vehicle';\nimport { ContentPaper } from '../../../common/cardContent';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  editButtonDiv: {\n    width: '100%',\n    marginTop: -25,\n    marginBottom: -10,\n  },\n  editButton: {\n    float: 'right',\n  },\n  inputField: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    margin: 'auto',\n    width: 'clamp(200px, 100%, 400px)',\n  },\n}));\n\ninterface NotesTabProps {\n  vehicleDetailState: VehicleDetailState;\n}\nexport default function NotesTab(props: NotesTabProps): React.ReactElement {\n  const classes = useStyles();\n  const { vehicleDetailState } = props;\n  const { mounted, vehicle, setVehicle, setDisableDoneButton } = vehicleDetailState;\n  const [edit, setEdit] = useState<boolean>(false);\n\n  const handleEditClick = () => {\n    edit ? setEdit(false) : setEdit(true);\n  };\n\n  useEffect(() => {\n    edit ? setDisableDoneButton(true) : setDisableDoneButton(false);\n    return () => setDisableDoneButton(false);\n  }, [edit, setDisableDoneButton]);\n\n  return (\n    <ContentPaper>\n      <TabContent>\n        <div className={classes.editButtonDiv} >\n          <IconButton\n            aria-label='edit'\n            className={classes.editButton}\n            onClick={handleEditClick}\n            color={edit ? 'primary' : 'inherit'}\n            size=\"large\">\n            <EditIcon />\n          </IconButton>\n        </div>\n        {edit\n          ? vehicle && <EditNotes\n            vehicleDetailsMounted={mounted}\n            vehicle={vehicle}\n            setVehicle={setVehicle}\n            setEdit={setEdit}\n            inputFieldStyle={classes.inputField}\n          />\n          : vehicle && <ReadonlyNotes vehicle={vehicle} inputFieldStyle={classes.inputField} />}\n      </TabContent>\n    </ContentPaper>\n  );\n}","// react\nimport { useState } from \"react\";\n// material-ui\nimport IconButton from '@mui/material/IconButton';\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward';\nimport ArrowUpwardIcon from '@mui/icons-material/ArrowUpward';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\n// THIS PROJECT\n// components\nimport { FlexCenter } from '../../../common/flex';\nimport { ContentTitle } from '../../../common/cardContent';\n// types\nimport { ListOrder, Set } from \"../../../../types/misc\";\n\ninterface HistoryTitleMenuProps {\n  order: ListOrder;\n  setOrder: Set<ListOrder>;\n};\nexport default function HistoryTitleMenu(props: HistoryTitleMenuProps): React.ReactElement {\n  const { order, setOrder } = props;\n\n  const [orderAnchor, setOrderAnchor] = useState<null | HTMLElement>(null);\n\n  const handleOrderClick = (e: React.MouseEvent<HTMLElement>) => {\n    setOrderAnchor(e.currentTarget);\n  };\n\n  const handleOrderClose = (order: ListOrder) => {\n    setOrderAnchor(null);\n    setOrder(order);\n  };\n\n  return (\n    <FlexCenter>\n      <ContentTitle variant='h6'>Stage History:</ContentTitle>\n      <IconButton\n        aria-controls=\"order-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleOrderClick}\n        size=\"large\">\n        {order === 'asc' ? <ArrowDownwardIcon /> : <ArrowUpwardIcon />}\n      </IconButton>\n      <Menu\n        id=\"order-menu\"\n        anchorEl={orderAnchor}\n        keepMounted\n        open={Boolean(orderAnchor)}\n        onClose={() => handleOrderClose(order)}\n      >\n        <MenuItem onClick={() => { handleOrderClose('desc'); }}>Oldest First</MenuItem>\n        <MenuItem onClick={() => { handleOrderClose('asc'); }}>Newest First</MenuItem>\n      </Menu>\n    </FlexCenter>\n  );\n}","// material-ui\nimport makeStyles from '@mui/styles/makeStyles';\nimport Dialog from '@mui/material/Dialog';\nimport Typography from '@mui/material/Typography';\nimport Divider from '@mui/material/Divider';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport CloseIcon from '@mui/icons-material/Close';\nimport IconButton from '@mui/material/IconButton';\n// THIS PROJECT\n// types\nimport { StageAssignment } from '../../../../types/StageAssignment';\n\nconst useStyles = makeStyles({\n  dialog: {\n    padding: 20,\n    textAlign: 'left',\n    width: 'clamp(200px, 80vw, 400px)',\n    marginTop: -50,\n  },\n  closeButton: {\n    float: 'right',\n  },\n  label: {\n    fontSize: 10,\n    float: 'left',\n    width: '100%',\n    marginTop: 10,\n  },\n\n});\n\ninterface StageDetailsDialogProps {\n  open: boolean;\n  onClose: () => void;\n  stageAssignment: StageAssignment;\n  timeElapsed: (dateAssigned: number, status: string, completeTime: number) => JSX.Element;\n};\nexport default function AddVehicleDialog(props: StageDetailsDialogProps): React.ReactElement {\n  const classes = useStyles();\n  const { onClose, open, stageAssignment, timeElapsed } = props;\n  const stage = stageAssignment.stage.name;\n  const personPlace = stageAssignment.personPlace.name;\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  const formatDate = (dateAssigned: number) => {\n    const date: Date = new Date(dateAssigned);\n    interface DateTimeFormatOptions {\n      year: '2-digit',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit';\n    };\n    let options: DateTimeFormatOptions = {\n      year: '2-digit', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit'\n    };\n    return <span>{date.toLocaleDateString('en-US', options)}</span>;\n  };\n\n  return (\n    <Dialog onClose={handleClose} aria-labelledby=\"stage-details-dialog\" open={open}>\n      <div>\n        <IconButton className={classes.closeButton} onClick={handleClose} size=\"large\">\n          <CloseIcon />\n        </IconButton>\n      </div>\n      <div className={classes.dialog}>\n        <div className={classes.label}>Stage:</div>\n        <Typography variant=\"subtitle1\">{stage}</Typography>\n        <Divider />\n        <span className={classes.label}>Person/Place:</span>\n        <Typography variant=\"subtitle1\">{personPlace}</Typography>\n        <Divider />\n        <span className={classes.label}>Status:</span>\n        <Typography variant=\"subtitle1\">{stageAssignment.status}</Typography>\n        <Divider />\n        <span className={classes.label}>Tasks: </span>\n        <List>\n          {stageAssignment.tasks.map(task => <ListItem key={task + Math.random()}>{task}</ListItem>)}\n        </List>\n        <Divider />\n        <span className={classes.label}>Date Assigned:</span>\n        <Typography variant=\"subtitle1\">{formatDate(stageAssignment.dateAssigned)}</Typography>\n        <Divider />\n        {stageAssignment.dateCompleted > 0 && <>\n          <span className={classes.label}>Date Completed:</span>\n          <Typography variant=\"subtitle1\">{formatDate(stageAssignment.dateCompleted)}</Typography>\n        </>}\n        <Divider />\n        <span className={classes.label}>{stageAssignment.status === 'complete' ? 'Time to Complete' : 'Time Elapsed'}</span>\n        <Typography variant=\"subtitle1\">{timeElapsed(stageAssignment.dateAssigned, stageAssignment.status, stageAssignment.completeTime)}</Typography>\n        <Divider />\n      </div>\n    </Dialog >\n  );\n}","// react\nimport { useState } from 'react';\n// material-ui\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport Button from '@mui/material/Button';\nimport { makeStyles } from '@mui/styles';\n// THIS PROJECT\n// components\nimport FormatTime from '../../../common/FormatTime';\nimport StageDetailsDialog from './StageDetailsDialog';\n// types\nimport { StageAssignment } from '../../../../types/StageAssignment';\n\nconst useStyles = makeStyles({\n  tableContainer: {\n    width: 'clamp(200px, 100%, 600px)',\n  },\n  table: {\n    minWidth: 450,\n    backgroundColor: '#F9F9F9',\n  },\n  stageButton: {\n    width: 75,\n    textAlign: 'left',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n});\n\ninterface HistoryTableProps {\n  sortedStageHistory: StageAssignment[];\n};\nexport default function HistoryTable(props: HistoryTableProps): React.ReactElement {\n  const classes = useStyles();\n  const { sortedStageHistory } = props;\n\n  const formatDateAssigned = (dateAssigned: number) => {\n    const date: Date = new Date(dateAssigned);\n    interface DateTimeFormatOptions {\n      year: '2-digit',\n      month: '2-digit',\n      day: '2-digit',\n    };\n    let options: DateTimeFormatOptions = {\n      year: '2-digit', month: '2-digit', day: '2-digit'\n    };\n    return <span>{date.toLocaleDateString('en-US', options)}</span>;\n  };\n\n  const timeElapsed = (dateAssigned: number, status: string, completeTime: number) => {\n    if (status === 'complete') {\n      return <FormatTime color='primary' milliseconds={completeTime} />;\n    } else {\n      const difference: number = Date.now() - dateAssigned;\n      return <FormatTime color='secondary' milliseconds={difference} />;\n    };\n  };\n\n  const [openStageDetailsDialog, setOpenStageDetailsDialog] = useState<boolean>(false);\n  const [dialogStageAssignment, setDialogStageAssignment] = useState<StageAssignment | undefined>();\n\n  const handleStageDetailsClick = (stageAssignment: StageAssignment) => {\n    setDialogStageAssignment(stageAssignment);\n    setOpenStageDetailsDialog(true);\n  };\n\n  const handleCloseDialog = () => {\n    setOpenStageDetailsDialog(false);\n    setDialogStageAssignment(undefined);\n  };\n\n  return (\n    <>\n      <TableContainer className={classes.tableContainer} component={Paper}>\n        <Table className={classes.table} size='small' aria-label=\"stage history table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Stage</TableCell>\n              <TableCell>Time</TableCell>\n              <TableCell>Person/Place</TableCell>\n              <TableCell>Assigned</TableCell>\n              <TableCell>Completed</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {sortedStageHistory.map((stage) => (\n              <TableRow key={stage.dateAssigned}>\n                <TableCell component=\"th\" scope=\"row\">\n                  <Button\n                    size='small'\n                    color={stage.status === 'incomplete' ? 'secondary' : 'inherit'}\n                    onClick={() => handleStageDetailsClick(stage)}\n                  >\n                    <span className={classes.stageButton}>{stage.stage.name}</span>\n                  </Button>\n                </TableCell>\n                <TableCell>{timeElapsed(stage.dateAssigned, stage.status, stage.completeTime)}</TableCell>\n                <TableCell>{stage.personPlace.name}</TableCell>\n                <TableCell component=\"th\" scope=\"row\">{formatDateAssigned(stage.dateAssigned)}</TableCell>\n                <TableCell>{stage.dateCompleted > 0 && formatDateAssigned(stage.dateCompleted)}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      {dialogStageAssignment &&\n        <StageDetailsDialog\n          open={openStageDetailsDialog}\n          onClose={handleCloseDialog}\n          stageAssignment={dialogStageAssignment}\n          timeElapsed={timeElapsed}\n        />}\n    </>\n  );\n}","// react\nimport { useState, useEffect, useCallback } from \"react\";\n// material-ui\nimport Skeleton from '@mui/material/Skeleton';\n// THIS PROJECT\n// components\nimport { ContentPaper } from '../../../common/cardContent';\nimport TabContent from '../TabContent';\nimport HistoryTitleMenu from './HistoryTitleMenu';\nimport HistoryTable from './HistoryTable';\n// services\nimport { getStageHistory as getStageHistoryService } from '../../../../services/stages';\n// contexts\nimport { useDemoContext } from \"../../../../contexts/DemoContext\";\n// hooks\nimport { useCheckMounted } from '../../../../hooks';\n// types\nimport { GetRequestStatus } from '../../../../types/ServiceRequests';\nimport { StageAssignment } from \"../../../../types/StageAssignment\";\nimport { ListOrder } from \"../../../../types/misc\";\n\ninterface StageHistoryTabProps {\n  vehicleId: string;\n};\nexport default function StageHistoryTab(props: StageHistoryTabProps): React.ReactElement {\n  const mounted = useCheckMounted();\n  const { delay } = useDemoContext();\n  const { vehicleId } = props;\n\n  const [stageHistory, setStageHistory] = useState<StageAssignment[]>([]);\n  const [getStageHistoryStatus, setGetStageHistoryStatus] = useState<GetRequestStatus>('');\n\n  const getStageHistory = useCallback(async () => {\n    setGetStageHistoryStatus('loading');\n    await delay();\n    getStageHistoryService(vehicleId)\n      .then(result => {\n        mounted.current && result.data && setStageHistory(result.data);\n        mounted.current && setGetStageHistoryStatus(result.status as GetRequestStatus);\n      }, e => { });\n\n  },\n    [mounted, delay, vehicleId]\n  );\n\n  useEffect(() => {\n    getStageHistory();\n  }, [getStageHistory]);\n\n  // Sort stages by dateAssigned\n  const [order, setOrder] = useState<ListOrder>('asc');\n  const sortedStageHistory = [...stageHistory].sort((a, b) => {\n    let aDate = a.dateAssigned;\n    let bDate = b.dateAssigned;\n    if (order === 'desc') {\n      if (aDate < bDate) {\n        return -1;\n      }\n      if (aDate > bDate) {\n        return 1;\n      }\n      return 0;\n    }\n    if (order === 'asc') {\n      if (aDate > bDate) {\n        return -1;\n      }\n      if (aDate < bDate) {\n        return 1;\n      }\n      return 0;\n    }\n    return 0;\n  });\n\n  return (\n    <ContentPaper>\n      <TabContent>\n        <HistoryTitleMenu order={order} setOrder={setOrder} />\n        {getStageHistoryStatus === 'loading'\n          ? <Skeleton variant=\"rectangular\" width={'100%'} height={200} />\n          : <HistoryTable sortedStageHistory={sortedStageHistory} />}\n      </TabContent>\n    </ContentPaper>\n  );\n}","// react\nimport { useState, useEffect } from 'react';\n// react-router-dom\nimport { useHistory, useParams } from 'react-router-dom';\nimport { useQuery } from '../../../hooks';\n// material-ui\nimport Tabs from '@mui/material/Tabs';\n// THIS PPROJECT\n// components\nimport DarkTab from '../../common/DarkTab';\nimport StageTab from './stageTab/StageTab';\nimport InfoTab from './infoTab/InfoTab';\nimport NotesTab from './notesTab/NotesTab';\nimport StageHistoryTab from './stageHistoryTab/StageHistoryTab';\n// types\nimport { VehicleDetailState, VehicleStatus } from '../../../types/Vehicle';\n\ninterface TabPanelProps {\n  children?: React.ReactNode;\n  index: any;\n  value: any;\n};\nfunction TabPanel(props: TabPanelProps) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`vehicle-tabpanel-${index}`}\n      aria-labelledby={`vehicle-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <div>{children}</div>\n      )}\n    </div>\n  );\n};\n\nfunction a11yProps(index: any) {\n  return {\n    id: `vehicle-tab-${index}`,\n    'aria-controls': `vehicle-tabpanel-${index}`,\n  };\n};\n\ninterface VehicleTabsProps {\n  vehicleDetailState: VehicleDetailState;\n};\nexport default function VehicleTabs(props: VehicleTabsProps): React.ReactElement {\n  const history = useHistory();\n  const query = useQuery();\n  const { vehicleDetailState } = props;\n  const { vehicle } = vehicleDetailState;\n\n  interface ParamTypes {\n    status: VehicleStatus;\n    tab: 'stage' | 'info' | 'notes' | 'history';\n  };\n\n  let { tab } = useParams<ParamTypes>();\n  const [tabValue, setTabValue] = useState<any>(tab);\n\n  useEffect(() => setTabValue(tab), [tab]);\n\n  const changeTab = (event: React.ChangeEvent<{}>, newValue: string) => {\n    setTabValue(newValue);\n    // check if we have a 'prev' query parameter,if we do set previous to the trimmed path, if not set it to ''\n    const previous = query.get('prev')\n      ? window.location.href.replace(/.*(?=prev=)(prev=)/, '')\n      : '';\n    history.push(`/vehicle-details/id/${vehicle?.id}/${newValue}?prev=${previous}`);\n  };\n\n  return (\n    <div>\n      <Tabs\n        centered\n        value={tabValue}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        onChange={changeTab}\n        aria-label=\"vehicle details navigation\"\n      >\n        <DarkTab label=\"Stage\" value='stage' {...a11yProps('stage')} />\n        <DarkTab label=\"Info\" value='info' {...a11yProps('info')} />\n        <DarkTab label=\"Notes\" value='notes' {...a11yProps('notes')} />\n        <DarkTab label=\"History\" value='history' {...a11yProps('history')} />\n      </Tabs>\n      <TabPanel value={tabValue} index='stage'>\n        <StageTab vehicleDetailState={vehicleDetailState} />\n      </TabPanel>\n      <TabPanel value={tabValue} index='info'>\n        <InfoTab vehicleDetailState={vehicleDetailState} />\n      </TabPanel>\n      <TabPanel value={tabValue} index='notes'>\n        <NotesTab vehicleDetailState={vehicleDetailState} />\n      </TabPanel>\n      <TabPanel value={tabValue} index='history'>\n        {vehicle && <StageHistoryTab vehicleId={vehicle.id} />}\n      </TabPanel>\n    </div>\n  );\n}","// react-router-dom\nimport { useHistory } from 'react-router-dom';\n// material-ui\nimport Button from '@mui/material/Button';\nimport { makeStyles } from '@mui/styles';\nimport { Theme } from '@mui/material';\n// THIS PROJECT\n// hooks\nimport { useQuery } from '../../hooks';\nimport { useAuthContext } from '../../contexts/AuthContext';\n// services\nimport { assignStage } from '../../services/stages';\n// contexts\nimport { useDemoContext } from '../../contexts/DemoContext';\n// types\nimport { PostRequestStatus } from '../../types/ServiceRequests';\nimport { Set } from '../../types/misc';\nimport { DetailedVehicle } from '../../types/Vehicle';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  buttonContainer: {\n    width: '100%',\n    textAlign: 'right',\n  },\n  button: {\n    marginTop: theme.spacing(2),\n    marginRight: theme.spacing(2),\n    marginBottom: theme.spacing(1),\n  }\n}));\n\ninterface DetailsDoneButtonProps {\n  disableDoneButton: boolean;\n  mounted: React.MutableRefObject<boolean>;\n  vehicle: DetailedVehicle | null;\n  setUpdateVehicleStatus: Set<PostRequestStatus>;\n};\nexport default function DetailsDoneButton(props: DetailsDoneButtonProps): React.ReactElement {\n  const query = useQuery();\n  const history = useHistory();\n  const classes = useStyles();\n  const { delay } = useDemoContext();\n  const { disableDoneButton, mounted, vehicle, setUpdateVehicleStatus } = props;\n\n  const { defaultStageAssignment } = useAuthContext().userPreferences;\n\n  // if vehicle stage is complete, and a new stage has not been assigned, we need to assign the default\n  // stage assignment when the done button is clicked\n  const doneButtonClick = async () => {\n    // check if we have a 'prev' query parameter,if we do set previous to the trimmed path, if not set it to ''\n    const previous = query.get('prev')\n      ? window.location.href.replace(/.*(?=prev=)(prev=)/, '')\n      : '';\n    const exit = () => {\n      previous\n        ? history.push(`${previous}`)\n        : history.push(`/all-vehicles/active/asc/10/first/0`);\n    };\n    if (vehicle && vehicle.currentStage.status === 'complete' && vehicle.status !== 'sold') {\n      setUpdateVehicleStatus('loading');\n      await delay();\n      assignStage({\n        vehicleId: vehicle.id,\n        stage: defaultStageAssignment.stage,\n        personPlace: defaultStageAssignment.personPlace,\n        tasks: [],\n        dateAssigned: Date.now()\n      }).then(result => {\n        result.status === 'success' && exit();\n        mounted.current && result.status === 'failed' && setUpdateVehicleStatus('failed');\n      }, e => {\n        mounted.current && setUpdateVehicleStatus('failed');\n        console.error(e);\n      });\n    } else {\n      exit();\n    }\n  };\n\n  return (\n    <div className={classes.buttonContainer}>\n      {!disableDoneButton\n        ? <Button\n          onClick={doneButtonClick}\n          className={classes.button}\n          color='primary'\n          variant='contained'\n        >\n          Done\n        </Button>\n        : <Button\n          disabled\n          className={classes.button}\n          color='primary'\n          variant='contained'\n        >\n          Done\n        </Button>\n      }\n    </div>\n  );\n}","// THIS PROJECT\nimport { LargeCard, LargeContent, ContentHeader, ContentTitle } from '../common/cardContent';\nimport CenteredError from '../common/CenteredError';\n\ninterface VehicleFailedProps {\n  errorMessage?: string;\n  retryAction?: () => void;\n};\nexport default function VehicleFailed(props: VehicleFailedProps): React.ReactElement {\n  const { errorMessage: errorMessagetmp, retryAction } = props;\n  const errorMessage = errorMessagetmp\n    ? errorMessagetmp\n    : 'failed to load vehicle details';\n\n  return (\n    <LargeCard>\n      <LargeContent>\n        <ContentHeader>\n          <ContentTitle variant='h5'>Vehicle Details:</ContentTitle>\n        </ContentHeader>\n        <CenteredError errorMessage={errorMessage} retryAction={retryAction} />\n      </LargeContent>\n    </LargeCard>\n  );\n}","// react-router-dom\nimport { Link } from 'react-router-dom';\n// material-ui\nimport { Typography, Button } from '@mui/material';\n// THIS PROJECT\nimport { FlexCenter } from '../common/flex';\n\nexport default function TrashedMessage(): React.ReactElement {\n  return (\n    <FlexCenter style={{ marginTop: 10 }}>\n      <Typography>This vehicle has been moved to the </Typography>\n      <Button><Link to='/all-vehicles/trash/asc/10/first/0'>Trash List</Link></Button>\n    </FlexCenter>\n  );\n}","// material-ui\nimport Divider from '@mui/material/Divider';\nimport Skeleton from '@mui/material/Skeleton';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Typography from '@mui/material/Typography';\n// THIS PROJECT\n// components\nimport { LargeCard, LargeContent, ContentHeader } from '../common/cardContent';\nimport { FlexCenter } from '../common/flex';\n\nexport default function GetVehicleLoading(): React.ReactElement {\n  return (\n    <LargeCard>\n      <LargeContent>\n        <ContentHeader>\n          <Skeleton />\n          <Skeleton />\n        </ContentHeader>\n        <Divider />\n        <FlexCenter flexDirection='column' sx={{ height: 300 }}>\n          <CircularProgress />\n          <Typography>Updating vehicle...</Typography>\n        </FlexCenter>\n      </LargeContent>\n    </LargeCard>\n  );\n}","// react\nimport { useState, useEffect, useCallback } from 'react';\n// react-router-dom\nimport { useParams } from 'react-router-dom';\n// material-ui\nimport Box from '@mui/material/Box';\nimport Divider from '@mui/material/Divider';\nimport makeStyles from '@mui/styles/makeStyles';\n// THIS PROJECT\n// components\nimport { LargeCard, LargeContent, ContentHeader } from '../common/cardContent';\nimport { FlexCenter } from '../common/flex';\nimport GetVehicleLoading from './GetVehicleLoading';\nimport VehicleInfo from '../common/vehicles/VehicleInfo';\nimport ActionMenu from './ActionMenu';\nimport VehicleTabs from './vehicleTabs/VehicleTabs';\nimport DetailsDoneButton from './DetailsDoneButton';\nimport VehicleFailed from './VehicleFailed';\nimport CenteredError from '../common/CenteredError';\nimport TrashedMessage from './TrashedMessage';\nimport UpdateVehicleLoading from './UpdateVehicleLoading';\n// hooks\nimport { useCheckMounted } from '../../hooks';\n// services\nimport { findVehicle as findVehicleService } from '../../services/vehicles';\n// contexts\nimport { useDemoContext } from '../../contexts/DemoContext';\n// types\nimport { DetailedVehicle, VehicleDetailState } from '../../types/Vehicle';\nimport { GetRequestStatus, PostRequestStatus } from '../../types/ServiceRequests';\n\nconst useStyles = makeStyles(theme => ({\n  vehicleTitle: {\n    maxWidth: '80%',\n  },\n}));\n\nexport default function VehicleDetails(): React.ReactElement {\n  const classes = useStyles();\n  const mounted = useCheckMounted();\n  const { delay } = useDemoContext();\n  type IdParam = { searchCriteria: 'id' | 'stock', searchValue: string; };\n  const { searchCriteria, searchValue } = useParams<IdParam>();\n\n  // VEHICLE INFO\n  const [vehicle, setVehicle] = useState<DetailedVehicle | null>(null);\n  const [getVehicleStatus, setGetVehicleStatus] = useState<GetRequestStatus>('loading');\n  const [getVehicleError, setGetVehicleError] = useState<string>('');\n  const [updateVehicleStatus, setUpdateVehicleStatus] = useState<PostRequestStatus>('');\n  const [disableDoneButton, setDisableDoneButton] = useState<boolean>(false);\n\n  const vehicleDetailState: VehicleDetailState = {\n    mounted,\n    vehicle, setVehicle,\n    getVehicleStatus, setGetVehicleStatus,\n    updateVehicleStatus, setUpdateVehicleStatus,\n    setDisableDoneButton\n  };\n\n  const findVehicle = useCallback(async () => {\n    setGetVehicleError('');\n    setGetVehicleStatus('loading');\n    await delay();\n    findVehicleService(searchCriteria, searchValue)\n      .then(result => {\n        mounted.current && result.status === 'success' && !result.data\n          && setGetVehicleError(`No vehicles match ${searchCriteria}: ${searchValue}`);\n        mounted.current && setGetVehicleStatus(result.status as GetRequestStatus);\n        mounted.current && setVehicle(result.data);\n      }, e => {\n        mounted.current && setGetVehicleStatus('failed');\n        console.error(e);\n      });\n  },\n    [delay, searchCriteria, searchValue, mounted]\n  );\n\n  useEffect(() => {\n    findVehicle();\n  }, [findVehicle]);\n\n  if (getVehicleStatus === 'loading') {\n    return <GetVehicleLoading />;\n  };\n\n  if (updateVehicleStatus === 'loading') {\n    return <UpdateVehicleLoading />;\n  }\n\n  if (getVehicleStatus === 'failed' || getVehicleError !== '') {\n    return <VehicleFailed errorMessage={getVehicleError} retryAction={() => window.location.reload()} />;\n  };\n\n  return (\n    <LargeCard>\n      <LargeContent>\n        <ContentHeader>\n          <FlexCenter style={{ position: 'relative' }} >\n            <div className={classes.vehicleTitle}>{vehicle && <VehicleInfo vehicle={vehicle} variant='h6' />}</div>\n            <Box position='absolute' right={0}>\n              {vehicleDetailState.vehicle && <ActionMenu vehicleDetailState={vehicleDetailState} mounted={mounted} />}\n            </Box>\n          </FlexCenter>\n        </ContentHeader>\n        <Divider />\n        {updateVehicleStatus === 'failed'\n          ? <CenteredError errorMessage='Failed to update vehicle details' />\n          : vehicle?.status === 'trash'\n            ? <TrashedMessage />\n            : <>\n              <VehicleTabs vehicleDetailState={vehicleDetailState} />\n              <DetailsDoneButton\n                disableDoneButton={disableDoneButton}\n                mounted={mounted}\n                vehicle={vehicle}\n                setUpdateVehicleStatus={setUpdateVehicleStatus}\n              />\n            </>}\n      </LargeContent>\n    </LargeCard>\n  );\n}","// material-ui\nimport { styled } from '@mui/material/styles';\nimport Accordion from '@mui/material/Accordion';\n\nconst AccordionPaper = styled(Accordion)({\n  marginTop: 5,\n  marginBottom: 5,\n  border: '.5pt solid #D0D0D0',\n  width: '100%',\n});\n\nexport default AccordionPaper;","// material-ui\nimport NavigateNextIcon from '@mui/icons-material/NavigateNext';\nimport LastPageIcon from '@mui/icons-material/LastPage';\nimport NavigateBeforeIcon from '@mui/icons-material/NavigateBefore';\nimport FirstPageIcon from '@mui/icons-material/FirstPage';\nimport IconButton from '@mui/material/IconButton';\nimport Typography from '@mui/material/Typography';\n// THIS PROJECT\n// components\nimport { FlexCenter } from '../flex';\n// types\nimport { VehiclePage } from '../../../types/Vehicle';\nimport { Page } from '../../../types/misc';\n\ninterface NavigateAccordianVehicleListProps {\n  vehiclePage: VehiclePage;\n  getVehicles: (page: Page, compare: number) => void;\n}\nexport default function NavigateAccordianVehicleList(props: NavigateAccordianVehicleListProps): React.ReactElement {\n  const { vehiclePage, getVehicles } = props;\n  const { docStartNumber, docEndNumber, totalDocs, vehicles } = vehiclePage;\n  const dateAddedValues: number[] = [];\n  vehicles.forEach(vehicle => dateAddedValues.push(vehicle.dateAdded));\n  const maxDateAdded = Math.max(...dateAddedValues);\n  const minDateAdded = Math.min(...dateAddedValues);\n\n\n  const firstPageClick = () => {\n    getVehicles('first', 0);\n  };\n\n  const prevPageClick = () => {\n    docStartNumber !== 1 && getVehicles('prev', minDateAdded);\n  };\n\n  const nextPageClick = () => {\n    docEndNumber !== totalDocs && getVehicles('next', maxDateAdded);\n  };\n\n  const lastPageClick = () => {\n    docEndNumber !== totalDocs && getVehicles('last', 0);\n  };\n\n  if (totalDocs > 5) {\n    return (\n      <FlexCenter>\n        <IconButton\n          aria-label='first-page'\n          onClick={firstPageClick}\n          disabled={docStartNumber === 1}\n          size=\"large\">\n          <FirstPageIcon />\n        </IconButton>\n        <IconButton\n          aria-label='previous-page'\n          onClick={prevPageClick}\n          disabled={docStartNumber === 1}\n          size=\"large\">\n          <NavigateBeforeIcon />\n        </IconButton>\n        <Typography align='center'>({docStartNumber.toLocaleString()}-{docEndNumber.toLocaleString()}) / {totalDocs.toLocaleString()}</Typography>\n        <IconButton\n          aria-label='next-page'\n          onClick={nextPageClick}\n          disabled={docEndNumber === totalDocs}\n          size=\"large\">\n          <NavigateNextIcon />\n        </IconButton>\n        <IconButton\n          aria-label='last-page'\n          onClick={lastPageClick}\n          disabled={docEndNumber === totalDocs}\n          size=\"large\">\n          <LastPageIcon />\n        </IconButton>\n      </FlexCenter>\n    );\n  } else {\n    return <></>;\n  }\n}","// react\nimport { useEffect, useState, useCallback } from 'react';\n// react-router-dom\nimport { useHistory } from 'react-router-dom';\nimport makeStyles from '@mui/styles/makeStyles';\nimport Divider from '@mui/material/Divider';\nimport AccordionDetails from '@mui/material/AccordionDetails';\nimport List from '@mui/material/List';\n// THIS PROJECT\n// components\nimport VehicleListItemButton from '../common/vehicles/VehicleListItemButton';\nimport FormatTime from '../common/FormatTime';\nimport VehicleInfo from '../common/vehicles/VehicleInfo';\nimport VehicleChipGroup from '../common/vehicles/VehicleChipGroup';\nimport VehicleChip from '../common/vehicles/VehicleChip';\nimport NavigateStageVehicleList from '../common/vehicles/NavigateAccordianVehicleList';\nimport LoadingList from '../common/LoadingList';\nimport CenteredError from '../common/CenteredError';\n// hooks\nimport { useCheckMounted } from '../../hooks';\n// services\nimport { getVehiclesPaged } from '../../services/vehicles';\n// contexts\nimport { useDemoContext } from '../../contexts/DemoContext';\n// types\nimport { DetailedVehicle } from '../../types/Vehicle';\nimport { VehiclePage } from '../../types/Vehicle';\nimport { GetRequestStatus } from '../../types/ServiceRequests';\nimport { Page } from '../../types/misc';\n\nconst useStyles = makeStyles(theme => ({\n  accordianDetails: {\n    padding: theme.spacing(2),\n    paddingTop: 0,\n  },\n  vehicleList: {\n    width: '100%',\n  },\n}));\n\ninterface StageVehicleListProps {\n  stageId: string;\n}\nexport default function StageVehicleList(props: StageVehicleListProps): React.ReactElement {\n  const classes = useStyles();\n  const mounted = useCheckMounted();\n  const { delay } = useDemoContext();\n  const { stageId } = props;\n\n  const [vehiclePage, setVehiclePage] = useState<VehiclePage>({ docStartNumber: 0, docEndNumber: 0, totalDocs: 0, vehicles: [] });\n  const [getVehiclesStatus, setGetVehiclesStatus] = useState<GetRequestStatus>('loading');\n\n  const getVehicles = useCallback(\n    async (page: Page, compare: number) => {\n      setGetVehiclesStatus('loading');\n      await delay();\n      getVehiclesPaged('active', 'asc', 5, page, compare, `stageId=${stageId}`)\n        .then(result => {\n          mounted.current && setGetVehiclesStatus(result.status as GetRequestStatus);\n          result.status === 'success' && mounted.current && result.data && setVehiclePage(result.data);\n          result.status === 'failed' && console.error(result);\n        }, e => {\n          mounted.current && setGetVehiclesStatus('failed');\n          console.error(e);\n        });\n    },\n    [delay, mounted, stageId]\n  );\n\n  useEffect(() => { getVehicles('first', 0); }, [getVehicles]);\n\n  let list: JSX.Element;\n  if (getVehiclesStatus === 'failed') {\n    list = <CenteredError errorMessage='Error loading vehicles...' />;\n  } else if (getVehiclesStatus === 'loading') {\n    list = <LoadingList skeletonCount={10} />;\n  } else {\n    list = <>\n      <List className={classes.vehicleList}>\n        {vehiclePage.vehicles.map(vehicle => <StageVehicle key={vehicle.id} vehicle={vehicle} />)}\n      </List>\n      <NavigateStageVehicleList vehiclePage={vehiclePage} getVehicles={getVehicles} />\n    </>;\n  }\n  return (\n    <AccordionDetails className={classes.accordianDetails}>\n      {list}\n    </AccordionDetails>\n  );\n}\n\nconst useVehicleStyles = makeStyles(theme => ({\n  vehicle: {\n    width: '100%',\n  },\n  vehicleDivider: {\n    width: '98%',\n  },\n}));\n\ninterface VehicleProps {\n  vehicle: DetailedVehicle;\n};\nfunction StageVehicle(props: VehicleProps): React.ReactElement {\n  const classes = useVehicleStyles();\n  const history = useHistory();\n  const { vehicle } = props;\n\n  const timeElapsed = (dateAssigned: number) => {\n    const difference: number = Date.now() - dateAssigned;\n    return <FormatTime milliseconds={difference} />;\n  };\n\n  const selectVehicle = (vehicleId: string | undefined) => {\n    history.push(`/vehicle-details/id/${vehicleId}/stage?prev=/stages`);\n  };\n\n  return (\n    <div key={vehicle.id} className={classes.vehicle}>\n      <Divider className={classes.vehicleDivider} />\n      <VehicleListItemButton onClick={() => selectVehicle(vehicle.id)}>\n        <VehicleInfo vehicle={vehicle} listItem />\n        <VehicleChipGroup>\n          <VehicleChip size='small' label={timeElapsed(vehicle.currentStage.dateAssigned)} />\n          <VehicleChip size='small' label={vehicle.currentStage.personPlace.name} color='primary' />\n        </VehicleChipGroup>\n      </VehicleListItemButton>\n      <Divider className={classes.vehicleDivider} />\n    </div>\n  );\n}","// react\nimport { useEffect, useState, useCallback } from 'react';\n// react-router-dom\nimport { useHistory } from 'react-router-dom';\nimport makeStyles from '@mui/styles/makeStyles';\nimport Divider from '@mui/material/Divider';\nimport AccordionDetails from '@mui/material/AccordionDetails';\nimport List from '@mui/material/List';\n// THIS PROJECT\n// components\nimport VehicleListItemButton from '../common/vehicles/VehicleListItemButton';\nimport FormatTime from '../common/FormatTime';\nimport VehicleInfo from '../common/vehicles/VehicleInfo';\nimport VehicleChipGroup from '../common/vehicles/VehicleChipGroup';\nimport VehicleChip from '../common/vehicles/VehicleChip';\nimport NavigateAccordianVehicleList from '../common/vehicles/NavigateAccordianVehicleList';\nimport LoadingList from '../common/LoadingList';\nimport CenteredError from '../common/CenteredError';\n// hooks\nimport { useCheckMounted } from '../../hooks';\n// services\nimport { getVehiclesPaged } from '../../services/vehicles';\n// contexts\nimport { useDemoContext } from '../../contexts/DemoContext';\n// types\nimport { DetailedVehicle } from '../../types/Vehicle';\nimport { VehiclePage } from '../../types/Vehicle';\nimport { GetRequestStatus } from '../../types/ServiceRequests';\nimport { Page } from '../../types/misc';\n\nconst useStyles = makeStyles(theme => ({\n  accordianDetails: {\n    padding: theme.spacing(2),\n    paddingTop: 0,\n  },\n  vehicleList: {\n    width: '100%',\n  },\n}));\n\ninterface PersonPlaceVehicleListProps {\n  personPlaceId: string;\n}\nexport default function PresonPlaceVehicleList(props: PersonPlaceVehicleListProps): React.ReactElement {\n  const classes = useStyles();\n  const mounted = useCheckMounted();\n  const { delay } = useDemoContext();\n  const { personPlaceId } = props;\n\n  const [vehiclePage, setVehiclePage] = useState<VehiclePage>({ docStartNumber: 0, docEndNumber: 0, totalDocs: 0, vehicles: [] });\n  const [getVehiclesStatus, setGetVehiclesStatus] = useState<GetRequestStatus>('loading');\n\n  const getVehicles = useCallback(\n    async (page: Page, compare: number) => {\n      setGetVehiclesStatus('loading');\n      await delay();\n      getVehiclesPaged('active', 'asc', 5, page, compare, `personPlaceId=${personPlaceId}`)\n        .then(result => {\n          mounted.current && setGetVehiclesStatus(result.status as GetRequestStatus);\n          result.status === 'success' && mounted.current && result.data && setVehiclePage(result.data);\n          result.status === 'failed' && console.error(result);\n        }, e => {\n          mounted.current && setGetVehiclesStatus('failed');\n          console.error(e);\n        });\n    },\n    [delay, mounted, personPlaceId]\n  );\n\n  useEffect(() => { getVehicles('first', 0); }, [getVehicles]);\n\n  let list: JSX.Element;\n  if (getVehiclesStatus === 'failed') {\n    list = <CenteredError errorMessage='Error loading vehicles...' />;\n  } else if (getVehiclesStatus === 'loading') {\n    list = <LoadingList skeletonCount={5} />;\n  } else {\n    list = <>\n      <List className={classes.vehicleList}>\n        {vehiclePage.vehicles.map(vehicle => <PersonPlaceVehicle key={vehicle.id} vehicle={vehicle} />)}\n      </List>\n      <NavigateAccordianVehicleList vehiclePage={vehiclePage} getVehicles={getVehicles} />\n    </>;\n  }\n  return (\n    <AccordionDetails className={classes.accordianDetails}>\n      {list}\n    </AccordionDetails>\n  );\n}\n\nconst useVehicleStyles = makeStyles(theme => ({\n  vehicle: {\n    width: '100%',\n  },\n  vehicleDivider: {\n    width: '98%',\n  },\n}));\n\ninterface VehicleProps {\n  vehicle: DetailedVehicle;\n};\nfunction PersonPlaceVehicle(props: VehicleProps): React.ReactElement {\n  const classes = useVehicleStyles();\n  const history = useHistory();\n  const { vehicle } = props;\n\n  const timeElapsed = (dateAssigned: number) => {\n    const difference: number = Date.now() - dateAssigned;\n    return <FormatTime milliseconds={difference} />;\n  };\n\n  const selectVehicle = (vehicleId: string | undefined) => {\n    history.push(`/vehicle-details/id/${vehicleId}/stage?prev=/people-places`);\n  };\n\n  return (\n    <div key={vehicle.id} className={classes.vehicle}>\n      <Divider className={classes.vehicleDivider} />\n      <VehicleListItemButton onClick={() => selectVehicle(vehicle.id)}>\n        <VehicleInfo vehicle={vehicle} listItem />\n        <VehicleChipGroup>\n          <VehicleChip size='small' label={timeElapsed(vehicle.currentStage.dateAssigned)} />\n          <VehicleChip size='small' label={vehicle.currentStage.stage.name} color='primary' />\n        </VehicleChipGroup>\n      </VehicleListItemButton>\n      <Divider className={classes.vehicleDivider} />\n    </div>\n  );\n}","// react-router-dom\nimport makeStyles from '@mui/styles/makeStyles';\nimport AccordionSummary from '@mui/material/AccordionSummary';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport Typography from '@mui/material/Typography';\n// THIS PROJECT\n// components\nimport AccordionPaper from '../AccordionPaper';\nimport StageVehicleList from '../../stages/StageVehicleList';\nimport PersonPlaceVehicleList from '../../people-places/PersonPlaceVehicleList';\n// types\nimport { IdName } from '../../../types/misc';\nimport { StageVehicleCount, PersonPlaceVehicleCount } from '../../../types/Stage';\n\n// PeoplePlaceList\nconst useStyles = makeStyles(theme => ({\n  list: {\n    margin: 'auto',\n    width: 'clamp(290px, 100%, 500px)',\n  },\n  accordianDetails: {\n    padding: 0,\n  },\n  vehicleList: {\n    width: '100%',\n  },\n}));\n\ntype Variant = 'peoplePlaces' | 'stages';\ninterface AccordianListProps {\n  variant: Variant;\n  accordianTitles: StageVehicleCount[] | PersonPlaceVehicleCount[];\n};\nexport default function AccordianList(props: AccordianListProps): React.ReactElement {\n  const classes = useStyles();\n  const { variant, accordianTitles } = props;\n\n  const determineTitleColor = (count: number, title: IdName) => {\n    if (variant === 'peoplePlaces') {\n      return title.name !== 'Small Town Auto Sales'\n        ? count > 5\n          ? 'secondary'\n          : 'primary'\n        : 'primary';\n    } else if (variant === 'stages') {\n      return title.name !== 'For Sale' ?\n        count > 5 ? 'secondary'\n          : 'primary'\n        : 'primary';\n    };\n  };\n\n  return (\n    <div className={classes.list}>\n      {accordianTitles.filter(title => title.count).map(title => {\n        return (\n          <div key={title.id}>\n            <AccordionPaper>\n              <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                <Typography color={determineTitleColor(title.count, title)}>\n                  {title.name} ({title.count.toLocaleString()})\n                </Typography>\n              </AccordionSummary>\n              {variant === 'stages'\n                ? <StageVehicleList stageId={title.id} />\n                : <PersonPlaceVehicleList personPlaceId={title.id} />}\n            </AccordionPaper>\n          </div>);\n      })}\n    </div >\n  );\n};\n","// react\nimport { useEffect, useState, useCallback } from 'react';\n// materal-ui\nimport Divider from '@mui/material/Divider';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\n// THIS PROJECT\n// components\nimport CenteredError from '../common/CenteredError';\nimport LoadingList from '../common/LoadingList';\nimport { LargeCard, LargeContent, ContentHeader, IconContentTitle } from '../common/cardContent';\nimport AccordianVehicleList from '../common/vehicles/AccordianVehicleList';\n// services\nimport { getPersonPlaceVehicleCounts as getPersonPlaceVehicleCountsService } from '../../services/stages';\n// contexts\nimport { useDemoContext } from '../../contexts/DemoContext';\n// hooks\nimport { useCheckMounted } from '../../hooks';\n// types\nimport { GetRequestStatus } from '../../types/ServiceRequests';\nimport { PersonPlaceVehicleCount } from '../../types/Stage';\n\nexport default function PeoplePlaces(): React.ReactElement {\n  const mounted = useCheckMounted();\n  const { delay } = useDemoContext();\n\n  // Get People/Places\n  const [peoplePlaces, setPeoplePlaces] = useState<PersonPlaceVehicleCount[]>([]);\n  const [getPeoplePlacesStatus, setGetPeoplePlacesStatus] = useState<GetRequestStatus>('loading');\n\n  const getPersonPlaceVehicleCounts = useCallback(\n    async () => {\n      setGetPeoplePlacesStatus('loading');\n      await delay();\n      getPersonPlaceVehicleCountsService()\n        .then(result => {\n          mounted.current && setGetPeoplePlacesStatus(result.status as GetRequestStatus);\n          mounted.current && result.status === 'success' && result.data && setPeoplePlaces(result.data);\n          result.status === 'failed' && console.error(result);\n        }, e => {\n          mounted.current && setGetPeoplePlacesStatus('failed');\n          console.error(e);\n        });\n    }, [delay, mounted]\n  );\n\n  useEffect(() => { getPersonPlaceVehicleCounts(); }, [getPersonPlaceVehicleCounts]);\n\n  let list: JSX.Element;\n  if (getPeoplePlacesStatus === 'failed') {\n    list = <CenteredError errorMessage='Error loading People/Places view....' retryAction={() => window.location.reload()} />;\n  } else if (getPeoplePlacesStatus === 'loading') {\n    list = <LoadingList skeletonCount={10} />;\n  } else {\n    list = <AccordianVehicleList variant='peoplePlaces' accordianTitles={peoplePlaces} />;\n  };\n\n  return (\n    <LargeCard>\n      <LargeContent>\n        <ContentHeader>\n          <IconContentTitle icon={<VisibilityIcon color='primary' />} variant='h5'>People/Places</IconContentTitle>\n          <Divider />\n        </ContentHeader>\n        <br></br>\n        {list}\n      </LargeContent>\n    </LargeCard>\n  );\n}","// material-ui\nimport makeStyles from '@mui/styles/makeStyles';\nimport FormControl from '@mui/material/FormControl';\nimport Button from '@mui/material/Button';\n// THIS PROJECT\n// services\nimport { updateStageOrder } from '../../services/stages';\n// contexts\nimport { useDemoContext } from '../../contexts/DemoContext';\n// types\nimport { StageSummary, UpdatedStageOrder } from \"../../types/Stage\";\nimport { PostRequestStatus } from '../../types/ServiceRequests';\nimport { Set } from '../../types/misc';\n\nconst useStyles = makeStyles(theme => ({\n  updateButtons: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 10,\n  },\n  updateButton: {\n    width: 100,\n  },\n}));\n\ninterface ReorderButtonsProps {\n  mounted: React.MutableRefObject<boolean>;\n  setReorderStages: Set<boolean>;\n  originalStageOrder: StageSummary[];\n  editStageOrder: StageSummary[];\n  setEditStageOrder: Set<StageSummary[]>;\n  setOrderStagesStatus: Set<PostRequestStatus>;\n  getStageVehicleCounts: () => void;\n};\nexport default function ReorderButtons(props: ReorderButtonsProps): React.ReactElement {\n  const classes = useStyles();\n  const { delay } = useDemoContext();\n  const {\n    mounted,\n    setReorderStages,\n    originalStageOrder,\n    editStageOrder, setEditStageOrder,\n    setOrderStagesStatus,\n    getStageVehicleCounts,\n  } = props;\n\n  const compareOrders = (original: StageSummary[], edit: StageSummary[]) => {\n    for (let i = 0; i < original.length; ++i) {\n      if (original[i] !== edit[i]) return false;\n    };\n    return true;\n  };\n\n  const updateStageOrderClick = async () => {\n    let newStageOrder: UpdatedStageOrder[] = [];\n\n    editStageOrder.forEach((stage, index) => {\n      if (stage !== originalStageOrder[index]) {\n        newStageOrder.push({\n          id: stage.id,\n          order: index\n        });\n      };\n    });\n    setOrderStagesStatus('loading');\n    await delay();\n    updateStageOrder(newStageOrder)\n      .then(result => {\n        mounted && setOrderStagesStatus(result.status);\n        mounted && result.status === 'failed' && console.error(result);\n        result.status === 'success' && getStageVehicleCounts();\n        mounted && setReorderStages(false);\n      }, e => {\n        mounted && setOrderStagesStatus('failed');\n        console.error(e);\n      });\n  };\n\n  const cancelClick = () => {\n    setReorderStages(false);\n    setEditStageOrder(originalStageOrder);\n  };\n\n  return (\n    <FormControl className={classes.updateButtons}>\n      <Button className={classes.updateButton} onClick={cancelClick}>cancel</Button>\n      {compareOrders(originalStageOrder, editStageOrder)\n        ? <Button disabled className={classes.updateButton}>update</Button>\n        : <Button className={classes.updateButton} onClick={updateStageOrderClick} color='primary'>update</Button>}\n    </FormControl>\n  );\n}","// react\nimport { useEffect, useState, useCallback } from 'react';\n// react-beautiful-dnd\nimport { DragDropContext, Droppable, Draggable, DropResult } from 'react-beautiful-dnd';\nimport makeStyles from '@mui/styles/makeStyles';\nimport Typography from '@mui/material/Typography';\nimport List from '@mui/material/List';\nimport Accordion from '@mui/material/Accordion';\nimport AccordionSummary from '@mui/material/AccordionSummary';\nimport DragIndicatorIcon from '@mui/icons-material/DragIndicator';\n// THIS PROJECT\n// components\nimport CenteredError from '../common/CenteredError';\nimport LoadingList from '../common/LoadingList';\nimport ReorderButtons from './ReorderButtons';\n// hooks\nimport { useCheckMounted } from '../../hooks';\n// services\nimport { getStages as getStagesService } from '../../services/stages';\n// contexts\nimport { useDemoContext } from '../../contexts/DemoContext';\n// types\nimport { StageSummary } from \"../../types/Stage\";\nimport { GetRequestStatus, PostRequestStatus } from '../../types/ServiceRequests';\nimport { Set } from '../../types/misc';\n\nconst useStyles = makeStyles(theme => ({\n  stage: {\n    marginTop: 5,\n    marginBottom: 5,\n    border: '1pt solid #999999',\n  },\n  list: {\n    backgroundColor: '#F9F9F9',\n    padding: theme.spacing(1),\n  },\n}));\n\ninterface ReorderStagesProps {\n  setReorderStages: Set<boolean>;\n  getStageVehicleCounts: () => void;\n};\nexport default function ReorderStages(props: ReorderStagesProps): React.ReactElement {\n  const mounted = useCheckMounted();\n  const classes = useStyles();\n  const { delay } = useDemoContext();\n  const { setReorderStages, getStageVehicleCounts } = props;\n\n  const [originalStageOrder, setOriginalStageOrder] = useState<StageSummary[]>([]);\n  const [editStageOrder, setEditStageOrder] = useState<StageSummary[]>([]);\n  const [getStagesStatus, setGetStagesStatus] = useState<GetRequestStatus>('');\n  const [orderStagesStatus, setOrderStagesStatus] = useState<PostRequestStatus>('');\n\n  const getStages = useCallback(async () => {\n    setGetStagesStatus('loading');\n    await delay();\n    getStagesService()\n      .then(result => {\n        mounted.current && setGetStagesStatus(result.status as GetRequestStatus);\n        if (result.status === 'success' && mounted.current && result.data) {\n          setOriginalStageOrder(result.data);\n          setEditStageOrder(result.data);\n        }\n        result.status === 'failed' && console.error(result);\n      }, e => {\n        mounted.current && setGetStagesStatus('failed');\n        console.error(e);\n      });\n  },\n    [delay, mounted]\n  );\n\n  useEffect(() => {\n    getStages();\n  }, [getStages]);\n\n  const handleOnDragEnd = (result: DropResult) => {\n    const newStageOrder = [...editStageOrder];\n    const [reorderedStage] = newStageOrder.splice(result.source.index, 1);\n    if (result.destination) {\n      newStageOrder.splice(result.destination.index, 0, reorderedStage);\n    };\n    setEditStageOrder(newStageOrder);\n  };\n\n  const defaultReturn = (\n    <>\n      <Accordion disabled className={classes.stage}>\n        <AccordionSummary>\n          <Typography>Assign</Typography>\n        </AccordionSummary>\n      </Accordion>\n      <DragDropContext onDragEnd={handleOnDragEnd}>\n        <Droppable droppableId='stages'>\n          {(provided) => (\n            <List className={classes.list} {...provided.droppableProps} ref={provided.innerRef}>\n              {editStageOrder.map((stage, index) => {\n                if (stage.name !== 'Assign' && stage.name !== 'For Sale') {\n                  return (\n                    <Draggable key={stage.id} draggableId={stage.id} index={index}>\n                      {(provided) => (\n                        <Accordion\n                          className={classes.stage}\n                          ref={provided.innerRef}\n                          {...provided.draggableProps}\n                          {...provided.dragHandleProps}\n                        >\n                          <AccordionSummary\n                            expandIcon={<DragIndicatorIcon />}\n                          >\n                            <Typography>{stage.name}</Typography>\n                          </AccordionSummary>\n                        </Accordion>\n                      )}\n                    </Draggable>\n                  );\n                } else return <span key={stage.id}></span>;\n              })}\n              {provided.placeholder}\n            </List>\n          )}\n        </Droppable>\n      </DragDropContext>\n      <Accordion disabled className={classes.stage}>\n        <AccordionSummary>\n          <Typography>For Sale</Typography>\n        </AccordionSummary>\n      </Accordion>\n      <ReorderButtons\n        mounted={mounted}\n        setReorderStages={setReorderStages}\n        originalStageOrder={originalStageOrder}\n        editStageOrder={editStageOrder}\n        setEditStageOrder={setEditStageOrder}\n        setOrderStagesStatus={setOrderStagesStatus}\n        getStageVehicleCounts={getStageVehicleCounts}\n      />\n    </>\n  );\n\n  switch (getStagesStatus) {\n    case ('failed'):\n      return <CenteredError errorMessage='Error loading Edit Stage Order' />;\n    case ('loading'):\n      return <LoadingList skeletonCount={10} />;\n    default:\n      switch (orderStagesStatus) {\n        case ('failed'):\n          return <CenteredError errorMessage='Error saving Edited Stage Order' />;\n        case ('loading'):\n          return <LoadingList skeletonCount={10} />;\n        default:\n          return defaultReturn;\n      }\n  }\n}","// react\nimport { useEffect, useState, useCallback } from 'react';\n// material-ui\nimport Divider from '@mui/material/Divider';\nimport Button from '@mui/material/Button';\nimport ImportExportIcon from '@mui/icons-material/ImportExport';\nimport Visibility from '@mui/icons-material/Visibility';\n// THIS PROJECT\n// components\nimport CenteredError from '../common/CenteredError';\nimport LoadingList from '../common/LoadingList';\nimport { LargeCard, LargeContent, ContentHeader, IconContentTitle } from '../common/cardContent';\nimport { FlexEnd } from '../common/flex';\nimport AccordianVehicleList from '../common/vehicles/AccordianVehicleList';\nimport ReorderStages from './ReorderStages';\n// hooks\nimport { useCheckMounted } from '../../hooks';\n// services\nimport { getStageVehicleCounts as getStageVehicleCountsService } from '../../services/stages';\n// contexts\nimport { useDemoContext } from '../../contexts/DemoContext';\n// types\nimport { GetRequestStatus } from '../../types/ServiceRequests';\nimport { StageVehicleCount } from '../../types/Stage';\n\nexport default function Stages(): React.ReactElement {\n  const mounted = useCheckMounted();\n  const { delay } = useDemoContext();\n\n  // Get Stages\n  const [stages, setStages] = useState<StageVehicleCount[]>([]);\n  const [getStagesStatus, setGetStagesStatus] = useState<GetRequestStatus>('loading');\n\n  const getStageVehicleCounts = useCallback(\n    async () => {\n      setGetStagesStatus('loading');\n      await delay();\n      getStageVehicleCountsService()\n        .then(result => {\n          mounted.current && setGetStagesStatus(result.status as GetRequestStatus);\n          mounted.current && result.status === 'success' && result.data && setStages(result.data);\n          result.status === 'failed' && console.error(result);\n        }, e => {\n          mounted.current && setGetStagesStatus('failed');\n          console.error(e);\n        });\n    }, [delay, mounted]\n  );\n\n  useEffect(() => { getStageVehicleCounts(); }, [getStageVehicleCounts]);\n\n  // for opening Reorder Stages \n  const [reorderStages, setReorderStages] = useState<boolean>(false);\n\n  const reorderClick = () => {\n    setReorderStages(reorderStages ? false : true);\n  };\n\n  let list: JSX.Element;\n  if (getStagesStatus === 'failed') {\n    list = <CenteredError errorMessage='Error loading Stages view...' retryAction={() => window.location.reload()} />;\n  } else if (getStagesStatus === 'loading') {\n    list = <LoadingList skeletonCount={10} />;\n  } else if (reorderStages) {\n    list = (\n      <ReorderStages\n        setReorderStages={setReorderStages}\n        getStageVehicleCounts={getStageVehicleCounts}\n      />\n    );\n  } else {\n    list = <AccordianVehicleList variant='stages' accordianTitles={stages} />;\n  };\n\n  return (\n    <LargeCard>\n      <LargeContent>\n        <ContentHeader>\n          <IconContentTitle icon={<Visibility color='primary' />} variant='h5'>Stages</IconContentTitle>\n          <Divider />\n        </ContentHeader>\n        <FlexEnd>\n          <Button\n            startIcon={<ImportExportIcon />}\n            onClick={reorderClick}\n          >\n            reorder\n          </Button>\n        </FlexEnd>\n        {list}\n      </LargeContent>\n    </LargeCard>\n  );\n}","export default function formatTimeText(milliseconds: number) {\n  if (milliseconds < (1000 * 60)) {\n    return `${Math.round(milliseconds / 1000)} secs`;\n  } else if (milliseconds < (1000 * 60 * 60)) {\n    return `${Math.round(milliseconds / (1000 * 60))} mins`;\n  } else if (milliseconds < (1000 * 60 * 60 * 24)) {\n    return `${Math.round(milliseconds / (1000 * 60 * 60))} hrs`;\n  } else {\n    // round days to one decimal point\n    return `${Math.round(milliseconds / (1000 * 60 * 60 * 24) * 10) / 10} days`;\n  };\n}","// react\nimport { useRef, useLayoutEffect } from 'react';\n// d3\nimport * as d3 from 'd3';\nimport { PieArcDatum } from 'd3-shape';\n// mui\nimport makeStyles from '@mui/styles/makeStyles';\nimport Paper from '@mui/material/Paper';\n// THIS PROJECT\n// types\nimport { NameValueData } from '../../types/Statistics';\n// utilities\nimport formatTimeText from '../../utilityFunctions/formatTimeText';\n\nconst useStyles = makeStyles({\n  donutChart: {\n    height: '100%',\n    width: '100%',\n  },\n});\n\ninterface DonutChartProps {\n  data: NameValueData[];\n  total: number;\n  totalLabel: string;\n};\nexport default function DonutChart(props: DonutChartProps): React.ReactElement {\n  const classes = useStyles();\n\n  const { data, total, totalLabel } = props;\n\n  const d3Container = useRef(null);\n\n  useLayoutEffect(() => {\n    // functions and variables\n    const color = d3.scaleOrdinal()\n      .domain(data.map((d: NameValueData) => d.name))\n      .range(d3.schemeSet1);\n\n    const pie = d3.pie<NameValueData>()\n      .padAngle(0.005)\n      .sort(null)\n      .value(d => d.value);\n\n    const arcs = pie(data);\n\n    const width = 500;\n\n    const donutMarginSides = 50;\n    const donutMarginTop = 10;\n    const donutMarginBottom = 20;\n    const donutRadius = (width - (donutMarginSides * 2)) / 2;\n    const donutDiameter = donutRadius * 2;\n    const donutContainerHeight = donutDiameter + donutMarginTop + donutMarginBottom;\n\n    const legendItems = arcs.filter(d => (d.endAngle - d.startAngle) <= 0.25);\n    const legendItemRectSides = 20;\n    const legendItemRectMargin = 5;\n    const legendItemTotalHeight = legendItemRectSides + (legendItemRectMargin * 2);\n    const legendMarginTop = 0;\n    const legendMarginBottom = 10;\n    const legendMarginSides = 25;\n    const legendHeight = legendItems.length * legendItemTotalHeight + legendMarginTop + legendMarginBottom;\n\n\n    const height = donutContainerHeight + legendHeight;\n\n    const arc = () => {\n      return d3.arc<PieArcDatum<NameValueData>>().innerRadius(donutRadius * 0.7).outerRadius(donutRadius);\n    };\n\n    let fill = (d: d3.PieArcDatum<NameValueData>): string => color(d.data.name) as string;\n\n    const generateId = (name: string) => name.split(' ').join('');\n\n    // remove any old chart before appending a refreshed one\n    d3.select('#donut-chart').remove();\n\n    // full svg\n    const svg = d3.select(d3Container.current)\n      .append('svg')\n      .attr('id', 'donut-chart')\n      .attr(\"viewBox\", `0, 0, ${width}, ${height}`);\n\n    // shadow effect\n    const defs = svg.append('defs');\n\n    const filter = defs.append('filter')\n      .attr('id', 'drop-shadow')\n      .attr('height', '150%')\n      .attr('width', '150%');\n\n    filter.append('feGaussianBlur')\n      .attr('in', 'SourceAlpha')\n      .attr('stdDeviation', 2)\n      .attr('result', 'blur');\n\n    filter.append('feOffset')\n      .attr('in', 'blur')\n      .attr('dx', 3)\n      .attr('dy', 3)\n      .attr('result', 'offsetBlur');\n\n    const feMerge = filter.append('feMerge');\n\n    feMerge.append('feMergeNode')\n      .attr('in', 'offsetBlur');\n    feMerge.append('feMergeNode')\n      .attr('in', 'SourceGraphic');\n\n    // donut chart viewbox variables\n    const viewBoxY = legendHeight + donutMarginBottom - (height / 2);\n    const viewBoxX = - (width / 2);\n\n    // chart shadow\n    const shadowSvg = svg.append('svg')\n      .attr('viewBox', `${viewBoxX}, ${viewBoxY}, ${width} ,${donutDiameter}`);\n\n    shadowSvg.selectAll('path')\n      .data(pie([{ name: '', value: 1 }]))\n      .join('path')\n      .attr('fill', 'white')\n      .attr('d', arc())\n      .style('filter', 'url(#drop-shadow)');\n\n    // chart pieces\n    const chartSvg = svg.append('svg')\n      .attr('viewBox', `${viewBoxX}, ${viewBoxY}, ${width} ,${donutDiameter}`);\n\n    chartSvg.selectAll('path')\n      .data(arcs)\n      .join('path')\n      .attr('fill', fill)\n      .attr('d', arc())\n      .append('title')\n      .text(d => `${d.data.name}: ${formatTimeText(d.data.value)}`);\n\n    // labels\n    chartSvg.append('g')\n      .attr('id', 'labelG')\n      .attr('font-size', 14)\n      .attr('text-anchor', 'middle')\n      .selectAll('text')\n      .data(arcs)\n      .join('text')\n      .attr('id', d => generateId(d.data.name))\n      .attr('transform', d => `translate(${arc().centroid(d)})`)\n      .style('fill', 'white')\n      .call(text => text.filter(d => (d.endAngle - d.startAngle) > 0.25).append('tspan')\n        .attr('y', '-0.4em')\n        .text(d => d.data.name))\n      .call(text => text.filter(d => (d.endAngle - d.startAngle) > 0.25).append('tspan')\n        .attr('x', 0)\n        .attr('y', '0.7em')\n        .text(d => `${formatTimeText(d.data.value)}`));\n\n    // label boxes\n    const labelBoxPaddingSides = 5;\n    const labelBoxPaddingTopBottom = 5;\n\n    chartSvg.insert('g', '#labelG')\n      .selectAll('rect')\n      .data(arcs)\n      .join('rect')\n      .attr('x',\n        (d: d3.PieArcDatum<NameValueData>): number => {\n          const width = document.querySelector(`#${generateId(d.data.name)}`)?.getBoundingClientRect().width;\n          const totalWidth = width && width + labelBoxPaddingSides * 2;\n          return (totalWidth && -(totalWidth / 2)) as number;\n        })\n      .attr('y',\n        (d: d3.PieArcDatum<NameValueData>): number => {\n          const height = document.querySelector(`#${generateId(d.data.name)}`)?.getBoundingClientRect().height;\n          const totalHeight = height && height + labelBoxPaddingTopBottom * 2;\n          return (totalHeight && -(totalHeight / 2)) as number;\n        })\n      .attr('width',\n        (d: d3.PieArcDatum<NameValueData>): number => {\n          const width = document.querySelector(`#${generateId(d.data.name)}`)?.getBoundingClientRect().width;\n          const totalWidth = width && width + labelBoxPaddingSides * 2;\n          return totalWidth as number;\n        })\n      .attr('height',\n        (d: d3.PieArcDatum<NameValueData>): number => {\n          const height = document.querySelector(`#${generateId(d.data.name)}`)?.getBoundingClientRect().height;\n          const totalHeight = height && height + labelBoxPaddingTopBottom * 2;\n          return totalHeight as number;\n        })\n      .attr('fill', 'black')\n      .attr('fill-opacity', 0.5)\n      .attr('rx', 5)\n      .attr('transform', d => `translate(${arc().centroid(d)})`);\n\n    // center label\n    const totalGroup = chartSvg.append('g')\n      .append('text')\n      .attr('text-anchor', 'middle');\n\n    totalGroup\n      .append('tspan')\n      .text(total ? `${formatTimeText(total)}` : 'N/A')\n      .attr('font-size', 48);\n\n\n    totalGroup\n      .append('tspan')\n      .text(totalLabel)\n      .attr('y', 30)\n      .attr('x', 0);\n\n    // legend\n    const legend = svg.append('g');\n\n    const legendXStart = legendMarginSides;\n    const legendYStart = donutContainerHeight + legendMarginTop;\n\n    legend.selectAll('rect')\n      .data(legendItems)\n      .join('rect')\n      .attr('height', legendItemRectSides)\n      .attr('width', legendItemRectSides)\n      .attr('fill', fill)\n      .attr('stroke', 'black')\n      .attr('stroke-width', 0.5)\n      .attr('x', legendXStart)\n      .attr('y', (d, i) => legendYStart + (i * legendItemTotalHeight))\n      .style('filter', 'url(#drop-shadow)');\n\n    legend.selectAll('text')\n      .data(legendItems)\n      .join('text')\n      .attr('text-anchor', 'start')\n      .attr('font-size', 14)\n      .attr('x', legendXStart + legendItemTotalHeight)\n      .attr('y', (d, i) => legendYStart + (i * legendItemTotalHeight) + (legendItemRectSides * .75))\n      .text(d => `${d.data.name} / ${formatTimeText(d.data.value)}`);\n\n  }, [data, total, totalLabel]);\n\n  return (\n    <Paper ref={d3Container} className={classes.donutChart}></Paper>\n  );\n};\n","// material-ui\nimport makeStyles from '@mui/styles/makeStyles';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableHead from '@mui/material/TableHead';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\n// THIS PROJECT\n// components\nimport VehicleChip from '../../../common/vehicles/VehicleChip';\nimport SoldVehicleChip from '../../../common/vehicles/SoldVehicleChip';\nimport FormatTime from '../../../common/FormatTime';\n// types\nimport { VehicleTurnStats } from '../../../../types/Statistics';\n\nconst useStyles = makeStyles({\n  chip: {\n    minWidth: 95,\n  },\n});\n\ninterface OverviewDetailsTableProps {\n  turnStatistics: VehicleTurnStats;\n};\nexport default function OverviewDetailsTable(props: OverviewDetailsTableProps): React.ReactElement {\n  const classes = useStyles();\n  const { count, average, median, mode } = props.turnStatistics;\n\n  return (\n    <TableContainer component={Paper}>\n      <Table aria-label=\"overview stats table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>Overview</TableCell>\n            <TableCell align='center'>Average</TableCell>\n            <TableCell align='center'>Median</TableCell>\n            <TableCell align='center'>Mode (days)</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          <TableRow>\n            <TableCell component=\"th\" scope=\"row\" align=\"left\">\n              Become For Sale ({count.getForSale}):\n            </TableCell>\n            <TableCell align='center'>\n              <VehicleChip\n                className={classes.chip}\n                color='primary'\n                label={<FormatTime milliseconds={average.getForSale} />}\n              />\n            </TableCell>\n            <TableCell align='center'>\n              <VehicleChip\n                className={classes.chip}\n                color='primary'\n                label={<FormatTime milliseconds={median.getForSale} />}\n              />\n            </TableCell>\n            <TableCell align='center'>\n              <VehicleChip\n                className={classes.chip}\n                color='primary'\n                label={`${mode.getForSale} / ${mode.getForSalePercent}%`}\n              />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell component=\"th\" scope=\"row\" align=\"left\">\n              To Be Sold ({count.getSold}):\n            </TableCell>\n            <TableCell align='center'>\n              <SoldVehicleChip\n                className={classes.chip}\n                label={<FormatTime milliseconds={average.getSold} />}\n              />\n            </TableCell>\n            <TableCell align='center'>\n              <SoldVehicleChip\n                className={classes.chip}\n                label={<FormatTime milliseconds={median.getSold} />}\n              />\n            </TableCell>\n            <TableCell align='center'>\n              <SoldVehicleChip\n                className={classes.chip}\n                label={`${mode.getSold} / ${mode.getSoldPercent}%`}\n              />\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell component=\"th\" scope=\"row\" align=\"left\">\n              Total Turn Time ({count.total}):\n            </TableCell>\n            <TableCell align='center'>\n              <VehicleChip\n                className={classes.chip}\n                label={<FormatTime milliseconds={average.total} />}\n              />\n            </TableCell>\n            <TableCell align='center'>\n              <VehicleChip\n                className={classes.chip}\n                label={<FormatTime milliseconds={median.total} />}\n              />\n            </TableCell>\n            <TableCell align='center'>\n              <VehicleChip\n                className={classes.chip}\n                label={`${mode.total} / ${mode.totalPercent}%`}\n              />\n            </TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}","// react\nimport { useState } from 'react';\nimport makeStyles from '@mui/styles/makeStyles';\nimport Button from '@mui/material/Button';\nimport AddIcon from '@mui/icons-material/Add';\nimport RemoveIcon from '@mui/icons-material/Remove';\nimport Collapse from '@mui/material/Collapse';\n\nconst useStyles = makeStyles(theme => ({\n  button: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\ninterface DetailsButtonProps {\n  children: React.ReactChild | React.ReactChild[];\n};\nexport default function DetailsButton(props: DetailsButtonProps): React.ReactElement {\n  const classes = useStyles();\n  const { children } = props;\n  const [showDetails, setShowDetails] = useState<boolean>(false);\n\n  const toggleShowDetails = () => {\n    showDetails && setShowDetails(false);\n    !showDetails && setShowDetails(true);\n  };\n\n  return (\n    <>\n      <Button\n        startIcon={!showDetails ? <AddIcon /> : <RemoveIcon />}\n        onClick={toggleShowDetails}\n        size='large'\n        className={classes.button}\n      >\n        Details\n      </Button>\n      <Collapse in={showDetails} timeout='auto' style={{ width: '100%' }}>\n        {children}\n      </Collapse>\n    </>\n  );\n}","// material-ui\nimport Skeleton from '@mui/material/Skeleton';\nimport Paper from '@mui/material/Paper';\n// THIS PROJECT\n// components\nimport { FlexCenter } from '../../../common/flex';\nimport DonutChart from '../../../common/DonutChart';\nimport CenteredError from '../../../common/CenteredError';\nimport OverviewDetailsTable from './OverviewDetailsTable';\nimport DetailsButton from '../DetailsButton';\n// types\nimport { VehicleTurnStats, NameValueData } from '../../../../types/Statistics';\nimport { GetRequestStatus } from '../../../../types/ServiceRequests';\n\ninterface OverviewStatisticsProps {\n  turnStatistics: VehicleTurnStats | null;\n  getTurnStatsStatus: GetRequestStatus;\n};\nexport default function OverviewStatistics(props: OverviewStatisticsProps): React.ReactElement {\n  const { turnStatistics, getTurnStatsStatus } = props;\n  const count = turnStatistics?.count;\n  const average = turnStatistics?.average;\n  const median = turnStatistics?.median;\n  const mode = turnStatistics?.mode;\n\n  const chartData: NameValueData[] = average\n    ? [\n      { name: 'Recondition Time', value: average.getForSale },\n      { name: 'To Get Sold', value: average.getSold }\n    ]\n    : [];\n\n  if (getTurnStatsStatus === 'loading') {\n    return (\n      <Paper>\n        <FlexCenter flexDirection='column' sx={{ height: 500 }}>\n          <Skeleton variant='rectangular' height={'90%'} width={'90%'} style={{ margin: 'auto' }} />\n        </FlexCenter>\n      </Paper>\n    );\n  } else if (getTurnStatsStatus === 'failed') {\n    return <CenteredError errorMessage='Failed to load statistics...' retryAction={() => window.location.reload()} />;\n  } else {\n    return (\n      <>\n        {turnStatistics && count && average && median && mode\n          ? <FlexCenter flexDirection='column'>\n            <DonutChart\n              data={chartData}\n              total={average.total}\n              totalLabel='avg total time to be sold'\n            />\n            <DetailsButton>\n              <OverviewDetailsTable turnStatistics={turnStatistics} />\n            </DetailsButton>\n          </FlexCenter>\n          : <></>}\n      </>\n    );\n  };\n}","// material-ui\nimport Dialog from '@mui/material/Dialog';\nimport Paper from '@mui/material/Paper';\nimport Typography from '@mui/material/Typography';\nimport { makeStyles } from '@mui/styles';\n\nconst useStyles = makeStyles({\n  dialog: {\n    padding: 10,\n  },\n});\n\ninterface FullNameDialogProps {\n  open: boolean;\n  selectedValue: string;\n  onClose: () => void;\n};\nexport default function FullNameDialog(props: FullNameDialogProps): React.ReactElement {\n  const classes = useStyles();\n  const { onClose, selectedValue, open } = props;\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  return (\n    <Dialog onClose={handleClose} open={open}>\n      <Paper className={classes.dialog}>\n        <Typography variant='subtitle1'>{selectedValue}</Typography>\n      </Paper>\n    </Dialog>\n  );\n}","// react\nimport { useState } from 'react';\nimport makeStyles from '@mui/styles/makeStyles';\nimport Paper from '@mui/material/Paper';\nimport List from '@mui/material/List';\nimport Typography from '@mui/material/Typography';\nimport AccordionSummary from '@mui/material/AccordionSummary';\nimport AccordionDetails from '@mui/material/AccordionDetails';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\n// THIS PROJECT\n// components\nimport AccordionPaper from '../../common/AccordionPaper';\nimport FormatTime from '../../common/FormatTime';\nimport FullNameDialog from './FullNameDialog';\nimport { FlexStart } from '../../common/flex';\n// types\nimport { DetailedAssignmentStats } from '../../../types/Statistics';\n\nconst useStyles = makeStyles({\n  list: {\n    width: '100%',\n  },\n  accordionDetails: {\n    padding: 0,\n  },\n  shortData: {\n    minWidth: 50,\n    textAlign: 'left',\n  },\n  longData: {\n    minWidth: 50,\n  },\n  personPlaceLabel: {\n    width: 'clamp(150px, 50vw, 200px)',\n    whiteSpace: 'nowrap',\n  },\n  subLabel: {\n    maxWidth: 175,\n    maxHeight: 20,\n    overflowWrap: 'break-word',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    cursor: 'pointer',\n    marginRight: 4,\n  },\n  timeDifferenceLabel: {\n    fontSize: 10,\n  },\n  tableContainer: {\n    width: '100%',\n  },\n  table: {\n    minWidth: 450,\n  },\n});\n\ninterface StatisticDetailsProps {\n  statistics: DetailedAssignmentStats[];\n};\nexport default function StatisticDetails(props: StatisticDetailsProps): React.ReactElement {\n  const classes = useStyles();\n  const { statistics } = props;\n\n  const [openFullNameDialog, setOpenFullNameDialog] = useState(false);\n  const [selectedValue, setSelectedValue] = useState('');\n\n  const handleClickFullName = (value: string): void => {\n    setOpenFullNameDialog(true);\n    setSelectedValue(value);\n  };\n\n  const handleClose = () => {\n    setOpenFullNameDialog(false);\n    setSelectedValue('');\n  };\n\n  return (\n    <>\n      <List className={classes.list}>\n        {statistics.map((doc: DetailedAssignmentStats) => {\n          return <div key={doc.name}>\n            <AccordionPaper>\n              <AccordionSummary\n                expandIcon={<ExpandMoreIcon />}\n              >\n                <Typography>{doc.name} ({doc.count})</Typography>\n              </AccordionSummary>\n              <AccordionDetails className={classes.accordionDetails}>\n                <TableContainer className={classes.tableContainer} component={Paper}>\n                  <Table className={classes.table} size='small' aria-label='stage statistics table'>\n                    <TableHead>\n                      <TableRow>\n                        <TableCell>Person/Place</TableCell>\n                        <TableCell>Avg</TableCell>\n                        <TableCell>Median</TableCell>\n                        <TableCell>Mode  <span className={classes.timeDifferenceLabel}>(days)</span></TableCell>\n                      </TableRow>\n                    </TableHead>\n                    <TableBody>\n                      <TableRow>\n                        <TableCell component='th' scope='row'>All ({doc.count})</TableCell>\n                        <TableCell>\n                          <div className={classes.shortData}>\n                            <FormatTime milliseconds={doc.average} />\n                          </div>\n                        </TableCell>\n                        <TableCell>\n                          <div className={classes.shortData}>\n                            <FormatTime milliseconds={doc.median} />\n                          </div>\n                        </TableCell>\n                        <TableCell>\n                          <div className={classes.longData}>\n                            {doc.mode} / {doc.modePercent}%\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                      {doc.portions.map(doc => {\n                        return <TableRow key={doc.name}>\n                          <TableCell component='th' scope='row' onClick={() => handleClickFullName(doc.name)}>\n                            <div className={classes.personPlaceLabel}>\n                              <FlexStart whiteSpace='nowrap'>\n                                <div className={classes.subLabel}>{doc.name} </div>\n                                <div> ({doc.count})</div>\n                              </FlexStart>\n                            </div>\n                          </TableCell>\n                          <TableCell>\n                            <div className={classes.shortData}>\n                              <FormatTime milliseconds={doc.average} />\n                            </div>\n                          </TableCell>\n                          <TableCell>\n                            <div className={classes.shortData}>\n                              <FormatTime milliseconds={doc.median} />\n                            </div>\n                          </TableCell>\n                          <TableCell>\n                            <div className={classes.longData}>\n                              {doc.mode} / {doc.modePercent}%\n                            </div>\n                          </TableCell>\n                        </TableRow>;\n                      })}\n                    </TableBody>\n                  </Table>\n                </TableContainer>\n              </AccordionDetails>\n            </AccordionPaper>\n          </div>;\n        })}\n      </List>\n      <FullNameDialog selectedValue={selectedValue} open={openFullNameDialog} onClose={handleClose} />\n    </>\n  );\n}","// types\nimport { FailedResult, GetSuccess } from '../types/ServiceResults';\nimport { VehicleTurnStats, StageAssignmentStats, StageAssignmentStatsInclPercentile } from '../types/Statistics';\n\nconst statistics = 'http://localhost:7000/api/statistics';\n\nexport async function getVehicleTurnStats(): Promise<GetSuccess<VehicleTurnStats> | FailedResult> {\n  const response = await fetch(statistics + '/vehicle-turn-statistics');\n  const json = await response.json();\n  return json;\n};\n\nexport async function getStagesStatistics(): Promise<GetSuccess<StageAssignmentStats> | FailedResult> {\n  const response = await fetch(statistics + '/stages-statistics');\n  const json = await response.json();\n  return json;\n};\n\nexport async function getPeoplePlacesStatistics(): Promise<GetSuccess<StageAssignmentStatsInclPercentile> | FailedResult> {\n  const response = await fetch(statistics + '/people-places-statistics');\n  const json = await response.json();\n  return json;\n}","// react\nimport { useEffect, useState, useCallback } from 'react';\n// material-ui\nimport Skeleton from '@mui/material/Skeleton';\nimport Paper from '@mui/material/Paper';\n// THIS PROJECT\n// components\nimport DonutChart from '../../common/DonutChart';\nimport CenteredError from '../../common/CenteredError';\nimport { FlexCenter } from '../../common/flex';\nimport StatisticDetails from './StatisticDetails';\nimport DetailsButton from './DetailsButton';\n// hooks\nimport { useCheckMounted } from '../../../hooks';\n// contexts\nimport { useDemoContext } from '../../../contexts/DemoContext';\n// services\nimport { getStagesStatistics as getStagesStatisticsService } from '../../../services/statistics';\n// types\nimport { NameValueData, DetailedAssignmentStats } from '../../../types/Statistics';\nimport { GetRequestStatus } from '../../../types/ServiceRequests';\n\ninterface StageStatisticsProps {\n  forSaleAvg: number,\n};\nexport default function StagesStatistics(props: StageStatisticsProps): React.ReactElement {\n  const mounted = useCheckMounted();\n  const { forSaleAvg } = props;\n  const { delay } = useDemoContext();\n\n  const [getStatsStatus, setGetStatsStatus] = useState<GetRequestStatus>('loading');\n\n  const [chartData, setChartData] = useState<NameValueData[] | null>(null);\n  const [statistics, setStatistics] = useState<DetailedAssignmentStats[] | null>(null);\n\n  const getStagesStatistics = useCallback(async () => {\n    setGetStatsStatus('loading');\n    await delay();\n    getStagesStatisticsService()\n      .then(result => {\n        mounted.current && setGetStatsStatus(result.status as GetRequestStatus);\n        if (result.status === 'success' && mounted.current && result.data) {\n          setChartData(result.data.avgOverview.filter(doc => doc.name !== 'For Sale'));\n          setStatistics(result.data.details);\n        }\n        result.status === 'failed' && console.error(result);\n      }, e => {\n        mounted.current && setGetStatsStatus('failed');\n        console.error(e);\n      });\n  },\n    [delay, mounted]\n  );\n\n  useEffect(() => {\n    getStagesStatistics();\n  }, [getStagesStatistics]);\n\n  if (getStatsStatus === 'loading') {\n    return (\n      <Paper>\n        <FlexCenter flexDirection='column' sx={{ height: 500 }}>\n          <Skeleton variant='rectangular' height={'90%'} width={'90%'} style={{ margin: 'auto' }} />\n        </FlexCenter>\n      </Paper>\n    );\n  };\n  if (getStatsStatus === 'failed') {\n    return <CenteredError errorMessage='Failed to load statistics...' retryAction={() => window.location.reload()} />;\n  };\n  return (\n    <>\n      {chartData && statistics\n        ? <FlexCenter flexDirection='column'>\n          <DonutChart\n            data={chartData}\n            total={forSaleAvg}\n            totalLabel='avg time to get \"For Sale\"'\n          />\n          <DetailsButton>\n            <StatisticDetails statistics={statistics} />\n          </DetailsButton>\n        </FlexCenter>\n        : <></>}\n    </>\n  );\n}","// react\nimport { useRef, useLayoutEffect } from 'react';\n// d3\nimport * as d3 from 'd3';\n// mui\nimport makeStyles from '@mui/styles/makeStyles';\nimport Paper from '@mui/material/Paper';\n// THIS PROJECT\n// types\nimport { NameValueDataInclPercentile } from '../../types/Statistics';\n// utilities\nimport formatTimeText from '../../utilityFunctions/formatTimeText';\n\nconst useStyles = makeStyles({\n  chart: {\n    height: '100%',\n    width: '100%'\n  }\n});\n\ninterface VerticalBarChartProps {\n  data: NameValueDataInclPercentile[];\n};\nexport default function VerticalBarChart(props: VerticalBarChartProps): React.ReactElement {\n  const classes = useStyles();\n\n  const { data } = props;\n\n  const d3Container = useRef(null);\n\n  useLayoutEffect(() => {\n    // functions and variables\n    const barHeight = 20;\n    const barMargin = 30;\n    const paddingBottom = 20;\n\n    const height = (barHeight + barMargin) * data.length + paddingBottom;\n    const width = 500;\n    const padding = 20;\n\n    const sortedData = [...data].sort((a, b) => b.value - a.value);\n\n    const xScale = d3.scaleLinear()\n      .domain([0, d3.max(data.map(d => d.value))] as [number, number])\n      .range([0, width - (padding * 2) - 75]);\n\n    // const fill = (d: NameValueDataInclPercentile) => color(d.name);\n\n    const fill = (d: NameValueDataInclPercentile) => {\n      if (d.avgPercentile >= 90) {\n        return '#9500ae';\n      } else if (d.avgPercentile >= 80) {\n        return '#d500f9';\n      } else if (d.avgPercentile >= 60) {\n        return '#dd33fa';\n      } else if (d.avgPercentile >= 40) {\n        return '#757de8';\n      } else if (d.avgPercentile >= 20) {\n        return '#3f51b5';\n      } else {\n        return '#002984';\n      }\n    };\n\n    // remove any old chart before appending a refreshed one;\n    d3.select('#bar-chart').remove();\n\n    // full svg\n    const svg = d3.select(d3Container.current)\n      .append('svg')\n      .attr('id', 'bar-chart')\n      .attr(\"viewBox\", `0, 0, ${width}, ${height}`);\n\n    // shadow effect\n    const defs = svg.append('defs');\n\n    const filter = defs.append('filter')\n      .attr('id', 'drop-shadow')\n      .attr('height', '150%')\n      .attr('width', '150%');\n\n    filter.append('feGaussianBlur')\n      .attr('in', 'SourceAlpha')\n      .attr('stdDeviation', 2)\n      .attr('result', 'blur');\n\n    filter.append('feOffset')\n      .attr('in', 'blur')\n      .attr('dx', 3)\n      .attr('dy', 3)\n      .attr('result', 'offsetBlur');\n\n    const feMerge = filter.append('feMerge');\n\n    feMerge.append('feMergeNode')\n      .attr('in', 'offsetBlur');\n    feMerge.append('feMergeNode')\n      .attr('in', 'SourceGraphic');\n\n    // chart rectangles\n    svg.selectAll('rect')\n      .data(sortedData)\n      .join('rect')\n      .attr('fill', fill)\n      .attr('x', padding)\n      .attr('y', (d, i) => i * (barHeight + barMargin) + barMargin)\n      .attr('height', barHeight)\n      .attr('width', d => xScale(d.value))\n      .attr('stroke', 'black')\n      .attr('stroke-width', 0.25)\n      .attr('rx', 5)\n      .style('filter', 'url(#drop-shadow)');\n\n    // labels\n    svg.append('g')\n      .attr('font-size', 14)\n      .selectAll('text')\n      .data(sortedData)\n      .join('text')\n      .attr('transform',\n        (d, i) => `translate(${padding}, ${i * (barHeight + barMargin) + (barMargin * 0.9)})`)\n      .call(text => text.append('tspan')\n        .text(d => d.name)\n        .attr('font-family', 'roboto')\n        .attr('font-size', 16)\n        .attr('y', -3))\n      .call(text => text.append('tspan')\n        .attr('x', d => xScale(d.value) + 15)\n        .attr('y', barHeight)\n        .attr('font-style', 'normal')\n        .text(d => `(${formatTimeText(d.value)})`));\n  }, [data]);\n\n  return (\n    <Paper ref={d3Container} className={classes.chart}></Paper>\n  );\n}","// react\nimport { useEffect, useState, useCallback } from 'react';\n// material-ui\nimport Skeleton from '@mui/material/Skeleton';\nimport Paper from '@mui/material/Paper';\n// THIS PROJECT\n// components\nimport VerticalBarChart from '../../common/VerticalBarChart';\nimport CenteredError from '../../common/CenteredError';\nimport { FlexCenter } from '../../common/flex';\nimport { DetailedAssignmentStats, NameValueDataInclPercentile } from '../../../types/Statistics';\nimport StatisticDetails from './StatisticDetails';\nimport DetailsButton from './DetailsButton';\n// hooks\nimport { useCheckMounted } from '../../../hooks';\n// contexts\nimport { useDemoContext } from '../../../contexts/DemoContext';\n// services\nimport { getPeoplePlacesStatistics as getPeoplePlacesStatisticsService } from '../../../services/statistics';\n// types\nimport { GetRequestStatus } from '../../../types/ServiceRequests';\n\nexport default function PeoplePlacesStatistics(): React.ReactElement {\n  const mounted = useCheckMounted();\n  const { delay } = useDemoContext();\n\n  const [getStatsStatus, setGetStatsStatus] = useState<GetRequestStatus>('loading');\n\n  const [chartData, setChartData] = useState<NameValueDataInclPercentile[] | null>(null);\n  const [statistics, setStatistics] = useState<DetailedAssignmentStats[] | null>(null);\n\n  const getPeoplePlaceStatistics = useCallback(async () => {\n    setGetStatsStatus('loading');\n    await delay();\n    getPeoplePlacesStatisticsService()\n      .then(result => {\n        mounted.current && setGetStatsStatus(result.status as GetRequestStatus);\n        if (result.status === 'success' && mounted.current && result.data) {\n          setChartData(result.data.avgOverview.filter(doc => doc.name !== 'For Sale'));\n          setStatistics(result.data.details);\n        }\n        result.status === 'failed' && console.error(result);\n      }, e => {\n        mounted.current && setGetStatsStatus('failed');\n        console.error(e);\n      });\n  },\n    [delay, mounted]\n  );\n\n  useEffect(() => {\n    getPeoplePlaceStatistics();\n  }, [getPeoplePlaceStatistics]);\n\n  if (getStatsStatus === 'loading') {\n    return (\n      <Paper>\n        <FlexCenter flexDirection='column' sx={{ height: 500 }}>\n          <Skeleton variant='rectangular' height={'90%'} width={'90%'} style={{ margin: 'auto' }} />\n        </FlexCenter>\n      </Paper>\n    );\n  };\n  if (getStatsStatus === 'failed') {\n    return <CenteredError errorMessage='Failed to load statistics...' retryAction={() => window.location.reload()} />;\n  };\n  return (\n    <>\n      {chartData && statistics\n        ? <FlexCenter flexDirection='column'>\n          <VerticalBarChart data={chartData} />\n          <DetailsButton>\n            <StatisticDetails statistics={statistics} />\n          </DetailsButton>\n        </FlexCenter>\n        : <></>}\n    </>\n  );\n}","// react\nimport { useState, useEffect } from 'react';\n// react-router-dom\nimport { useHistory, useParams } from 'react-router-dom';\n// material-ui\nimport Tabs from '@mui/material/Tabs';\n// THIS PROJECT\n// components\nimport DarkTab from '../../common/DarkTab';\nimport OverviewStats from './overview/OverviewStats';\nimport StagesStats from './StagesStats';\nimport PeoplePlacesStats from './PeoplePlacesStats';\n// types\nimport { VehicleTurnStats } from '../../../types/Statistics';\nimport { GetRequestStatus } from '../../../types/ServiceRequests';\n\n\ninterface TabPanelProps {\n  children?: React.ReactNode;\n  index: any;\n  value: any;\n};\nfunction TabPanel(props: TabPanelProps) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`analytics-tabpanel-${index}`}\n      aria-labelledby={`analytics-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <div>{children}</div>\n      )}\n    </div>\n  );\n};\n\nfunction a11yProps(index: any) {\n  return {\n    id: `analytics-tab-${index}`,\n    'aria-controls': `analytics-tabpanel-${index}`,\n  };\n};\n\ninterface AnalyticsTabsProps {\n  turnStatistics: VehicleTurnStats | null;\n  getTurnStatsStatus: GetRequestStatus;\n};\nexport default function AnalyticsTabs(props: AnalyticsTabsProps): React.ReactElement {\n  const history = useHistory();\n\n  const { turnStatistics, getTurnStatsStatus } = props;\n\n  interface ParamTypes {\n    tab: 'overview' | 'stages' | 'peoplePlaces';\n  };\n\n  let { tab } = useParams<ParamTypes>();\n  const [tabValue, setTabValue] = useState<any>(tab);\n\n  useEffect(() => setTabValue(tab), [tab]);\n\n  const changeTab = (event: React.ChangeEvent<{}>, newValue: string) => {\n    setTabValue(newValue);\n    history.push(`/analytics/${newValue}`);\n  };\n\n  return (\n    <div>\n      <Tabs\n        centered\n        value={tabValue}\n        indicatorColor='primary'\n        textColor='primary'\n        onChange={changeTab}\n        aria-label='vehicle details navigation'\n      >\n        <DarkTab label='Overview' value='overview' {...a11yProps('overview')} />\n        <DarkTab label='Stages' value='stages' {...a11yProps('stages')} />\n        <DarkTab label='People/Places' value='peoplePlaces' {...a11yProps('peoplePlaces')} />\n      </Tabs>\n      <TabPanel value={tabValue} index='overview'>\n        <OverviewStats turnStatistics={turnStatistics} getTurnStatsStatus={getTurnStatsStatus} />\n      </TabPanel>\n      <TabPanel value={tabValue} index='stages'>\n        <StagesStats forSaleAvg={turnStatistics ? turnStatistics.average.getForSale : 0} />\n      </TabPanel>\n      <TabPanel value={tabValue} index='peoplePlaces'>\n        <PeoplePlacesStats />\n      </TabPanel>\n    </div>\n  );\n};\n","// react\nimport { useState, useEffect, useCallback } from 'react';\n// material-ui\nimport Divider from '@mui/material/Divider';\nimport EqualizerIcon from '@mui/icons-material/Equalizer';\n// THIS PROJECT\n// components\nimport { LargeCard, LargeContent, ContentHeader, IconContentTitle } from '../common/cardContent';\nimport { VehicleTurnStats } from '../../types/Statistics';\nimport { GetRequestStatus } from '../../types/ServiceRequests';\nimport AnalyticsTabs from './analyticsTabs/AnalyticsTabs';\n// services\nimport { getVehicleTurnStats as getVehicleTurnStatsService } from '../../services/statistics';\n// hooks\nimport { useCheckMounted } from '../../hooks';\n// contexts\nimport { useDemoContext } from '../../contexts/DemoContext';\n\nexport default function Statistics(): React.ReactElement {\n  const mounted = useCheckMounted();\n  const { delay } = useDemoContext();\n\n  const [vehicleTurnStats, setVehicleTurnStats] = useState<VehicleTurnStats | null>(null);\n  const [getTurnStatsStatus, setGetTurnStatsStatus] = useState<GetRequestStatus>('');\n\n  const getVehicleTurnStats = useCallback(\n    async () => {\n      setGetTurnStatsStatus('loading');\n      await delay();\n      getVehicleTurnStatsService()\n        .then(result => {\n          mounted.current && setGetTurnStatsStatus(result.status as GetRequestStatus);\n          result.status === 'success' && mounted.current && result.data && setVehicleTurnStats(result.data);\n          result.status === 'failed' && console.error(result);\n        }, e => {\n          mounted.current && setGetTurnStatsStatus('failed');\n          console.error(e);\n        });\n    },\n    [delay, mounted]\n  );\n\n  useEffect(() => { getVehicleTurnStats(); }, [getVehicleTurnStats]);\n\n  return (\n    <LargeCard>\n      <LargeContent>\n        <ContentHeader>\n          <IconContentTitle icon={<EqualizerIcon color='primary' />} variant='h5'>Analytics</IconContentTitle>\n        </ContentHeader>\n        <Divider />\n        <AnalyticsTabs turnStatistics={vehicleTurnStats} getTurnStatsStatus={getTurnStatsStatus} />\n      </LargeContent>\n    </LargeCard>\n  );\n}","// material-ui\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever';\nimport CreateNewFolderIcon from '@mui/icons-material/CreateNewFolder';\n// THIS PROJECT\n// types\nimport { DemoState } from '../../types/Demo';\n\ninterface ActionListProps {\n  demoState: DemoState;\n};\nexport default function ActionList(props: ActionListProps): React.ReactElement {\n  const {\n    clearDatabase,\n    addVehicleDescriptors,\n    addStages,\n    generateVehicles,\n  } = props.demoState;\n\n  const clearDatabaseLi: JSX.Element = (\n    <ListItem>\n      <ListItemIcon><DeleteForeverIcon color='secondary' /></ListItemIcon>\n      <ListItemText primary='Clear Database' />\n    </ListItem>\n  );\n\n  const addVehicleDescriptorsLi: JSX.Element = (\n    <ListItem>\n      <ListItemIcon><CreateNewFolderIcon color='primary' /></ListItemIcon>\n      <ListItemText primary='Add Vehicle Descriptors' />\n    </ListItem>\n  );\n\n  const addStagesLi: JSX.Element = (\n    <ListItem>\n      <ListItemIcon><CreateNewFolderIcon color='primary' /></ListItemIcon>\n      <ListItemText primary='Add Stages and People/Places' />\n    </ListItem>\n  );\n\n  const generateVehiclesLi: JSX.Element = (\n    <ListItem>\n      <ListItemIcon><CreateNewFolderIcon color='primary' /></ListItemIcon>\n      <ListItemText primary='Generate Demo Vehicles' />\n    </ListItem>\n  );\n\n  return (\n    <List id='demo-dialog-description'>\n      {clearDatabase && clearDatabaseLi}\n      {addVehicleDescriptors && addVehicleDescriptorsLi}\n      {addStages && addStagesLi}\n      {generateVehicles && generateVehiclesLi}\n    </List>\n  );\n}","// material-ui\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogTitle from '@mui/material/DialogTitle';\n// THIS PROJECT\n// components\nimport ActionList from './ActionList';\n// services\nimport {\n  clearDatabase as clearDatabaseService,\n  addVehicleDescriptors as addVehicleDescriptorsService,\n  addStages as addStagesService,\n  generateVehicles as generateVehiclesService,\n} from '../../services/demo';\n// contexts\nimport { useAuthContext } from '../../contexts/AuthContext';\n// types\nimport { DemoState } from '../../types/Demo';\nimport { Set } from '../../types/misc';\nimport { DeleteRequestStatus } from '../../types/ServiceRequests';\n\ninterface DemoDialogProps {\n  demoState: DemoState;\n  open: boolean;\n  setOpen: Set<boolean>;\n};\nexport default function DemoDialog(props: DemoDialogProps): React.ReactElement {\n  const { getUserPreferences } = useAuthContext();\n  const { demoState, open, setOpen } = props;\n\n  const {\n    mounted,\n    setLoading,\n    clearDatabase,\n    setClearDatabaseStatus,\n    addVehicleDescriptors,\n    setAddVehicleDescriptorsStatus,\n    addStages,\n    setAddStagesStatus,\n    generateVehicles,\n    setGenerateVehiclesStatus,\n    vehiclesAmount,\n    months\n  } = demoState;\n\n  const clearDatabaseClick = async () => {\n    if (!clearDatabase) { return; } else {\n      setClearDatabaseStatus('loading');\n      await clearDatabaseService()\n        .then(result => {\n          mounted.current && setClearDatabaseStatus(result.status as DeleteRequestStatus);\n          result.status === 'failed' && console.error(result);\n        }, e => {\n          mounted.current && setClearDatabaseStatus('failed');\n          console.error(e);\n        });\n      return;\n    };\n  };\n\n  const addVehicleDescriptorsClick = async () => {\n    if (!addVehicleDescriptors) { return; } else {\n      setAddVehicleDescriptorsStatus('loading');\n      await addVehicleDescriptorsService()\n        .then(result => {\n          mounted.current && setAddVehicleDescriptorsStatus(result.status);\n          result.status === 'failed' && console.error(result);\n        }, e => {\n          mounted.current && setAddVehicleDescriptorsStatus('failed');\n          console.error(e);\n        });\n    };\n  };\n\n  const addStagesClick = async () => {\n    if (!addStages) { return; } else {\n      setAddStagesStatus('loading');\n      await addStagesService()\n        .then(result => {\n          mounted.current && setAddStagesStatus(result.status);\n          result.status === 'failed' && console.error(result);\n        }, e => {\n          mounted.current && setAddStagesStatus('failed');\n          console.error(e);\n        });\n    };\n  };\n\n  const generateVehiclesClick = async () => {\n    if (!generateVehicles) { return; } else {\n      setGenerateVehiclesStatus('loading');\n      await generateVehiclesService(vehiclesAmount, months)\n        .then(result => {\n          mounted.current && setGenerateVehiclesStatus(result.status);\n          result.status === 'failed' && console.error(result);\n        }, e => {\n          mounted.current && setGenerateVehiclesStatus('failed');\n          console.error(e);\n        });\n    }\n  };\n\n  const continueClick = async () => {\n    setLoading(true);\n    await clearDatabaseClick();\n    await Promise.all([\n      addVehicleDescriptorsClick(),\n      addStagesClick()\n    ]);\n    await generateVehiclesClick();\n    setLoading(false);\n    getUserPreferences();\n  };\n\n  return (\n    <Dialog\n      open={open}\n      aria-labelledby='demo-dialog-title'\n      aria-describedby='demo-dialog-description'\n    >\n      <DialogTitle id='demo-dialog-title'>Continue with the following <strong>PERMANENT</strong> action(s)?</DialogTitle>\n      <DialogContent>\n        <ActionList demoState={demoState} />\n      </DialogContent>\n      <DialogActions>\n        <Button color='primary' onClick={() => setOpen(false)}>\n          go back\n        </Button>\n        <Button color='primary' onClick={continueClick}>\n          continue\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}","// react\nimport { useEffect, useState } from 'react';\n// material-ui\nimport Button from '@mui/material/Button';\n// THIS PROJECT\n// components\nimport DemoDialog from './DemoDialog';\n// types\nimport { DemoState } from '../../types/Demo';\n\ninterface DemoContinueButtonProps {\n  demoState: DemoState;\n};\nexport default function DemoContinueButton(props: DemoContinueButtonProps): React.ReactElement {\n  const { demoState } = props;\n\n  const [openDialog, setOpenDialog] = useState<boolean>(false);\n\n  const {\n    loading,\n    clearDatabase,\n    addVehicleDescriptors,\n    addStages,\n    generateVehicles,\n    vehiclesAmountError,\n    monthsError\n  } = demoState;\n\n  useEffect(() => { loading && setOpenDialog(false); }, [loading]);\n  return (\n    <>\n      <Button\n        color='primary'\n        variant='outlined'\n        onClick={() => setOpenDialog(true)}\n        disabled={(!clearDatabase && !addVehicleDescriptors && !addStages && !generateVehicles) || (vehiclesAmountError !== '' || monthsError !== '')}\n      >\n        continue\n      </Button>\n      <DemoDialog demoState={demoState} open={openDialog} setOpen={setOpenDialog} />\n    </>\n  );\n}","// material-ui\nimport TextField from '@mui/material/TextField';\nimport Collapse from '@mui/material/Collapse';\n// THIS PROJECT\n// components\nimport { FlexCenter } from '../common/flex';\n// types\nimport { Set } from '../../types/misc';\n\ninterface GenerateDemoVehiclesProps {\n  generateVehicles: boolean;\n  vehiclesAmountInput: string;\n  setVehiclesAmountInput: Set<string>;\n  vehiclesAmountError: string;\n  setVehiclesAmountError: Set<string>;\n  setVehiclesAmount: Set<string>;\n  months: string;\n  setMonths: Set<string>;\n  monthsError: string;\n  setMonthsError: Set<string>;\n}\nexport default function GenerateDemoVehicles(props: GenerateDemoVehiclesProps): React.ReactElement {\n  const {\n    generateVehicles,\n    vehiclesAmountInput, setVehiclesAmountInput,\n    vehiclesAmountError, setVehiclesAmountError,\n    setVehiclesAmount,\n    months, setMonths,\n    monthsError, setMonthsError\n  } = props;\n\n  const changeVehiclesAmount = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const vehiclesAmountInputTmp = e.target.value.trim()\n      // remove all non digit inputs \n      .replace(/[^0-9]/g, '')\n      // add comma seperators\n      .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    setVehiclesAmountInput(vehiclesAmountInputTmp);\n    const vehiclesAmountTmp = vehiclesAmountInputTmp.replace(',', '');\n    setVehiclesAmount(vehiclesAmountTmp);\n    const formatTest = /^\\d+$/;\n    if (!formatTest.test(vehiclesAmountTmp)) {\n      setVehiclesAmountError('Vehice Amount must be a whole number');\n    } else if (parseInt(vehiclesAmountTmp) > 10000) {\n      setVehiclesAmountError('Vehicle Amount must be less than 10,000');\n    } else {\n      setVehiclesAmountError('');\n    }\n  };\n\n  const changeMonths = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const monthsTmp = e.target.value.trim().replace(/[^0-9]/g, '');\n    setMonths(monthsTmp);\n    const formatTest = /^\\d+$/;\n    if (!formatTest.test(monthsTmp)) {\n      setMonthsError('Months must be a whole number');\n    } else if (parseInt(monthsTmp) > 36) {\n      setMonthsError('Months must be less than or equal to 36');\n    } else {\n      setMonthsError('');\n    }\n  };\n\n  return (\n    <Collapse in={generateVehicles}>\n      <FlexCenter flexDirection='column'>\n        <TextField\n          size='small'\n          margin='normal'\n          id='vehicle-amount'\n          label='Amount of Vehicles to Add'\n          variant='outlined'\n          value={vehiclesAmountInput}\n          onChange={changeVehiclesAmount}\n          error={vehiclesAmountError ? true : false}\n          helperText={vehiclesAmountError}\n        />\n        <TextField\n          size='small'\n          margin='normal'\n          id='months'\n          label='Amount of Months to Go Back'\n          variant='outlined'\n          value={months}\n          onChange={changeMonths}\n          error={monthsError ? true : false}\n          helperText={monthsError}\n        />\n      </FlexCenter>\n    </Collapse>\n  );\n}\n","// material-ui\nimport CircularProgress from '@mui/material/CircularProgress';\nimport { styled } from '@mui/system';\nimport Dialog from '@mui/material/Dialog';\nimport { Typography } from '@mui/material';\n// THIS PROJECT\n// components\nimport { FlexCenter, FlexSpaceAround } from '../common/flex';\n// types\nimport { GetRequestStatus, PostRequestStatus } from '../../types/ServiceRequests';\n\nconst LoadingFlexSpaceAround = styled(FlexSpaceAround)(({ theme }) => ({\n  height: 200,\n}));\n\ninterface LoadingDemoActionsProps {\n  loading: boolean;\n  clearDatabaseStatus: GetRequestStatus;\n  addVehicleDescriptorsStatus: PostRequestStatus;\n  addStagesStatus: PostRequestStatus;\n  generateVehiclesStatus: PostRequestStatus;\n}\nexport default function LoadingDemoActions(props: LoadingDemoActionsProps): React.ReactElement {\n  const {\n    loading,\n    clearDatabaseStatus,\n    addVehicleDescriptorsStatus,\n    addStagesStatus,\n    generateVehiclesStatus\n  } = props;\n\n  return (\n    <Dialog open={loading} fullWidth={true} >\n      <LoadingFlexSpaceAround flexDirection='column'>\n        <CircularProgress />\n        <FlexCenter flexDirection='column' sx={{ textAlign: 'center' }}>\n          {clearDatabaseStatus === 'loading' && <Typography>...Clearing Database</Typography>}\n          {addVehicleDescriptorsStatus === 'loading' && <Typography>...Adding Vehicle Descriptors</Typography>}\n          {addStagesStatus === 'loading' && <Typography>...Adding Stages/People/Places</Typography>}\n          {generateVehiclesStatus === 'loading' && <>\n            <Typography>...Generating Vehicles</Typography>\n            <Typography>(this could take several minutes)</Typography>\n          </>}\n        </FlexCenter>\n      </LoadingFlexSpaceAround>\n    </Dialog>\n  );\n}","// react\nimport React, { useState, useEffect } from 'react';\n// react-router-dom\nimport { useHistory } from 'react-router-dom';\n// material-ui\nimport { Theme } from '@mui/material/styles';\nimport makeStyles from '@mui/styles/makeStyles';\nimport FormControl from '@mui/material/FormControl';\nimport FormGroup from '@mui/material/FormGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Checkbox from '@mui/material/Checkbox';\nimport Paper from '@mui/material/Paper';\n// THIS PROJECT\n// components\nimport { FlexCenter } from '../common/flex';\nimport DemoContinueButton from './DemoContinueButton';\nimport CenteredError from '../common/CenteredError';\nimport GenerateDemoVehicles from './GenerateDemoVehicles';\nimport LoadingDemoActions from './LoadingDemoActions';\n// hooks\nimport { useCheckMounted } from '../../hooks';\n// types\nimport { DemoState } from '../../types/Demo';\nimport { DeleteRequestStatus, PostRequestStatus } from '../../types/ServiceRequests';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  formControl: {\n    padding: theme.spacing(3),\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(3),\n  },\n}));\n\nexport default function ActionCheckBoxes(): React.ReactElement {\n  const classes = useStyles();\n  const mounted = useCheckMounted();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<boolean>(false);\n  const [clearDatabase, setClearDatabase] = useState<boolean>(false);\n  const [clearDatabaseStatus, setClearDatabaseStatus] = useState<DeleteRequestStatus>('');\n  const [addVehicleDescriptors, setAddVehicleDescriptors] = useState<boolean>(false);\n  const [addVehicleDescriptorsStatus, setAddVehicleDescriptorsStatus] = useState<PostRequestStatus>('');\n  const [addStages, setAddStages] = useState<boolean>(false);\n  const [addStagesStatus, setAddStagesStatus] = useState<PostRequestStatus>('');\n  const [generateVehicles, setGenerateVehicles] = useState<boolean>(false);\n  const [generateVehiclesStatus, setGenerateVehiclesStatus] = useState<PostRequestStatus>('');\n\n  // generate vehicles state\n  const [vehiclesAmountInput, setVehiclesAmountInput] = useState<string>('300');\n  const [vehiclesAmountError, setVehiclesAmountError] = useState<string>('');\n  const [vehiclesAmount, setVehiclesAmount] = useState<string>('300');\n  const [months, setMonths] = useState<string>('12');\n  const [monthsError, setMonthsError] = useState<string>('');\n\n  const demoState: DemoState = {\n    mounted,\n    loading, setLoading,\n    error, setError,\n    clearDatabase, setClearDatabase,\n    clearDatabaseStatus, setClearDatabaseStatus,\n    addVehicleDescriptors, setAddVehicleDescriptors,\n    addVehicleDescriptorsStatus, setAddVehicleDescriptorsStatus,\n    addStages, setAddStages,\n    addStagesStatus, setAddStagesStatus,\n    generateVehicles, setGenerateVehicles,\n    generateVehiclesStatus, setGenerateVehiclesStatus,\n    vehiclesAmount,\n    vehiclesAmountError,\n    months,\n    monthsError\n  };\n\n  // rules for which actions must also be selected if a certain action is selected\n  useEffect(() => {\n    if (generateVehicles) {\n      setClearDatabase(true);\n      setAddVehicleDescriptors(true);\n      setAddStages(true);\n    } else if (addVehicleDescriptors || addStages) {\n      setClearDatabase(true);\n    }\n  }, [generateVehicles, addVehicleDescriptors, addStages]);\n\n  // reroute to 'all-vehicles' if actions are successful\n  useEffect(() => {\n    if (!loading) {\n      const statuses = [\n        { check: clearDatabase, status: clearDatabaseStatus },\n        { check: addVehicleDescriptors, status: addVehicleDescriptorsStatus },\n        { check: addStagesStatus, status: addStagesStatus },\n        { check: generateVehicles, status: generateVehiclesStatus }\n      ];\n      if (statuses.find(status => status.status !== '')) {\n        const statusesCheck = statuses.map(status => status.check === true ? status.status === 'success' : true);\n        if (statusesCheck.find(check => !check) === undefined) {\n          setClearDatabase(false);\n          setClearDatabaseStatus('');\n          setAddVehicleDescriptors(false);\n          setAddVehicleDescriptorsStatus('');\n          setAddStages(false);\n          setAddStagesStatus('');\n          setGenerateVehicles(false);\n          setGenerateVehiclesStatus('');\n          history.push(`/all-vehicles/active/asc/10/first/0`);\n        } else {\n          setError(true);\n        }\n      };\n    };\n  }, [\n    loading,\n    clearDatabase, clearDatabaseStatus,\n    addVehicleDescriptors, addVehicleDescriptorsStatus,\n    addStages, addStagesStatus,\n    generateVehicles, generateVehiclesStatus,\n    history\n  ]);\n\n  if (error) {\n    return <CenteredError errorMessage='An error occured in 1 or more demo actions....' />;\n  }\n\n  return (\n    <>\n      <LoadingDemoActions\n        loading={loading}\n        clearDatabaseStatus={clearDatabaseStatus}\n        addVehicleDescriptorsStatus={addVehicleDescriptorsStatus}\n        addStagesStatus={addStagesStatus}\n        generateVehiclesStatus={generateVehiclesStatus}\n      />\n      <FlexCenter flexDirection='column'>\n        <FormControl component={Paper} className={classes.formControl}>\n          <FormGroup>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  disabled={addVehicleDescriptors || addStages || generateVehicles}\n                  checked={clearDatabase}\n                  onChange={() => clearDatabase ? setClearDatabase(false) : setClearDatabase(true)}\n                />\n              }\n              label=\"Clear Database\"\n            />\n          </FormGroup>\n          <FormGroup>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  color='primary'\n                  disabled={generateVehicles}\n                  checked={addVehicleDescriptors}\n                  onChange={() => addVehicleDescriptors ? setAddVehicleDescriptors(false) : setAddVehicleDescriptors(true)}\n                />\n              }\n              label=\"Add Vehicle Descriptors\"\n            />\n          </FormGroup>\n          <FormGroup>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  color='primary'\n                  disabled={generateVehicles}\n                  checked={addStages}\n                  onChange={() => addStages ? setAddStages(false) : setAddStages(true)}\n                />\n              }\n              label=\"Add Stages and People/Places\"\n            />\n          </FormGroup>\n          <FormGroup>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  color='primary'\n                  checked={generateVehicles}\n                  onChange={() => generateVehicles ? setGenerateVehicles(false) : setGenerateVehicles(true)}\n                />\n              }\n              label=\"Generate Demo Vehicles\"\n            />\n            <GenerateDemoVehicles\n              generateVehicles={generateVehicles}\n              vehiclesAmountInput={vehiclesAmountInput} setVehiclesAmountInput={setVehiclesAmountInput}\n              vehiclesAmountError={vehiclesAmountError} setVehiclesAmountError={setVehiclesAmountError}\n              setVehiclesAmount={setVehiclesAmount}\n              months={months} setMonths={setMonths}\n              monthsError={monthsError} setMonthsError={setMonthsError}\n            />\n          </FormGroup>\n        </FormControl>\n        <DemoContinueButton demoState={demoState} />\n      </FlexCenter>\n    </>\n  );\n}","// material-ui\nimport LaptopIcon from '@mui/icons-material/Laptop';\nimport Divider from '@mui/material/Divider';\n// THIS PROJECT\n// components\nimport { LargeCard, LargeContent, ContentHeader, IconContentTitle } from '../common/cardContent';\nimport ActionCheckBoxes from './ActionCheckBoxes';\n\nexport default function DemoActions(): React.ReactElement {\n\n  return (\n    <LargeCard>\n      <LargeContent>\n        <ContentHeader>\n          <IconContentTitle icon={<LaptopIcon color='primary' />} variant='h5'>Demo Actions</IconContentTitle>\n          <Divider />\n        </ContentHeader>\n        <ActionCheckBoxes />\n      </LargeContent>\n    </LargeCard>\n  );\n}","// react\nimport { useEffect, useState } from 'react';\n// mui\nimport Settings from '@mui/icons-material/Settings';\nimport TextField from '@mui/material/TextField';\nimport { Select, Typography, FormControl, MenuItem, SelectChangeEvent } from '@mui/material';\nimport { styled } from '@mui/system';\nimport Button from '@mui/material/Button';\n// THIS PROJECT\n// components\nimport { LargeCard, LargeContent, ContentHeader, IconContentTitle, ContentPaper } from '../common/cardContent';\nimport { FlexEnd, FlexSpaceBtwn } from '../common/flex';\n// context\nimport { useDemoContext } from '../../contexts/DemoContext';\nimport React from 'react';\nimport { DbSelection } from '../../types/Demo';\n\n// all of this complicated looking code is to resolve a typescript error.\n// basically we couldn't assign variant 'outlined' to the LoadingDelayField because \n// typescript wasn't recognizing that 'outlined' was assignable to {type 'filled'} | {type: 'outlined'}\ninterface NumberInputProps {\n  variant?: 'outlined';\n}\nconst NumberInput = styled(TextField, {\n  shouldForwardProp: (prop) =>\n    prop !== 'variant',\n  name: 'LoadingDelayField',\n  slot: 'Root',\n  overridesResolver: (props, styles) => [\n    styles.root,\n    props.variant === 'outlined' && styles.outlined,\n  ]\n})<NumberInputProps>(({ theme }) => ({\n  width: '150px',\n  marginLeft: theme.spacing(2),\n  '&.MuiTextField-root': {\n    textAlign: 'center',\n  }\n}));\n\nconst ButtonFlex = styled(FlexEnd)(({ theme }) => ({\n  margin: theme.spacing(2),\n}));\n\nexport default function DemoSettings(): React.ReactElement {\n  const { loadingTime, saveLoadingTime, db, saveDb } = useDemoContext();\n  const [loadingTimeInput, setLoadingTimeInput] = useState<string>(loadingTime.toLocaleString('en-US'));\n  // need a separate state variable for the actual loadingTime number variable, not the input string\n  const [loadingTimeNum, setLoadingTimeNum] = useState<number>(loadingTime);\n  const [inputError, setInputError] = useState<string>('');\n\n  const changeLoadingTime = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const loadingTimeStringTmp = e.target.value.trim().replace(/[^0-9]/g, '');\n    const loadingTimeNumTmp = parseInt(loadingTimeStringTmp);\n    if (loadingTimeNumTmp > 10000) {\n      setInputError('cannot exceed 10 seconds');\n    } else {\n      setInputError('');\n      loadingTimeStringTmp ? setLoadingTimeNum(parseInt(loadingTimeStringTmp)) : setLoadingTimeNum(0);\n      const loadingTimeString = loadingTimeStringTmp\n        // delete leading zeros\n        .replace(/^0+(?!$)/g, '')\n        // add comma seperators\n        .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n      setLoadingTimeInput(loadingTimeString);\n    }\n  };\n\n  const onBlurLoadingTime = () => {\n    if (loadingTimeNum > 10000) {\n      setLoadingTimeInput('0');\n      setInputError('cannot exceed 10 seconds');\n    } else {\n      setInputError('');\n    }\n  };\n\n  const [dbInput, setDbInput] = useState<DbSelection | null>(db);\n\n  const handleDbChange = (event: SelectChangeEvent) => {\n    setDbInput(event.target.value as DbSelection);\n  };\n\n  // necessary to change the loadingTimeInput state variable whenever it is reset in the context,\n  // since the value of our input comes from this state variable and not directly from the context\n  useEffect(() => {\n    const loadingTimeString = loadingTime.toLocaleString('en-US');\n    setLoadingTimeInput(loadingTimeString);\n  }, [loadingTime]);\n\n  return (\n    <LargeCard>\n      <LargeContent>\n        <ContentHeader>\n          <IconContentTitle icon={<Settings color='primary' />} variant='h5'>Demo Settings</IconContentTitle>\n        </ContentHeader>\n        <ContentPaper>\n          <FlexSpaceBtwn>\n            <Typography>Simulated Loading Delay (milliseconds):</Typography>\n            <NumberInput\n              value={loadingTimeInput}\n              onChange={changeLoadingTime}\n              onBlur={onBlurLoadingTime}\n              size='small'\n              inputProps={{ sx: { textAlign: 'right' } }}\n              error={inputError ? true : false}\n              helperText={inputError}\n            />\n          </FlexSpaceBtwn>\n          <ButtonFlex>\n            <Button\n              disabled={loadingTime === loadingTimeNum}\n              onClick={() => saveLoadingTime(loadingTimeNum)}>Save</Button>\n          </ButtonFlex>\n          <FlexSpaceBtwn>\n            <Typography>Database:</Typography>\n            <FormControl>\n              <Select\n                value={dbInput ? dbInput : ''}\n                onChange={handleDbChange}\n                sx={{ width: '150px' }}\n                size='small'\n              >\n                <MenuItem value='mongodb'>MongoDB</MenuItem>\n                <MenuItem value='mysql'>MySQL</MenuItem>\n              </Select>\n            </FormControl>\n          </FlexSpaceBtwn>\n          <ButtonFlex>\n            <Button\n              disabled={db === dbInput}\n              onClick={() => saveDb(dbInput)}\n            >\n              Save\n            </Button>\n          </ButtonFlex>\n        </ContentPaper>\n      </LargeContent>\n    </LargeCard>\n  );\n}\n","// CSS\nimport './App.css';\n// react\nimport React from 'react';\n// react-router-dom\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\n// material-ui\nimport makeStyles from '@mui/styles/makeStyles';\n// THIS PROJECT\n// components\nimport Nav from '../nav/Nav';\nimport PrivateRoute from './PrivateRoute';\nimport LogIn from '../log-in/LogIn';\nimport AllVehicles from '../all-vehicles/AllVehicles';\nimport AddVehicle from '../add-vehicle/AddVehicle';\nimport VehicleDetails from '../vehicle-details/VehicleDetails';\nimport PeoplePlaces from '../people-places/PeoplePlaces';\nimport Stages from '../stages/Stages';\nimport Analytics from '../analytics/Analytics';\nimport DemoActions from '../demo-actions/DemoActions';\nimport DemoSettings from '../demo-settings/DemoSettings';\n// hooks\nimport { useAuthContext } from '../../contexts/AuthContext';\n\nconst useStyles = makeStyles((theme) => ({\n  app: {\n    fontFamily: 'Roboto',\n    backgroundColor: '#404040',\n    minHeight: '100vh',\n    minWidth: '100vw',\n    position: 'absolute',\n    left: '0',\n    top: '0',\n  },\n}));\n\nexport default function App(): React.ReactElement {\n  const classes = useStyles();\n  const { currentUser } = useAuthContext();\n\n  return (\n    <div className={classes.app}>\n      <Router>\n        {currentUser && <Nav />}\n        <Switch>\n          <Route exact path='/'>\n            <Redirect to='/all-vehicles/active/asc/10/first/0' />\n          </Route>\n          <Route path='/log-in' component={LogIn} />\n          <PrivateRoute path='/all-vehicles/:statusParam/:sortParam/:perPageParam/:pageParam/:compareParam' component={AllVehicles} />\n          <PrivateRoute path='/add-vehicle' component={AddVehicle} />\n          <PrivateRoute path='/vehicle-details/:searchCriteria/:searchValue/:tab' component={VehicleDetails} />\n          <PrivateRoute path='/people-places' component={PeoplePlaces} />\n          <PrivateRoute path='/stages' component={Stages} />\n          <PrivateRoute path='/analytics/:tab' component={Analytics} />\n          <PrivateRoute path='/demo-actions' component={DemoActions} />\n          <PrivateRoute path='/demo-settings' component={DemoSettings} />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\n","import { createTheme } from '@mui/material/styles';\n\ndeclare module '@mui/material/styles/createTheme' {\n  interface Theme {\n    mainMenu: {\n      width: string;\n    };\n    titleColor: {\n      lightBlue: string;\n      darkBlue: string;\n    };\n  }\n  interface ThemeOptions {\n    mainMenu?: {\n      width?: string;\n    };\n    titleColor?: {\n      lightBlue?: string;\n      darkBlue?: string;\n    };\n  }\n};\n\nexport const theme = createTheme({\n  mainMenu: {\n    width: '250px',\n  },\n  titleColor: {\n    lightBlue: '#aab6fe',\n    darkBlue: '#49599a',\n  },\n});","// react\nimport { ReactChild, ReactChildren } from 'react';\n// react-cookie\nimport { CookiesProvider } from 'react-cookie';\n// material-ui\nimport { ThemeProvider, Theme, StyledEngineProvider } from '@mui/material/styles';\n// THIS PROJECT\n// contexts\nimport { AuthProvider } from './AuthContext';\nimport { DemoProvider } from './DemoContext';\n// theme\nimport { theme } from '../theme';\n\ndeclare module '@mui/styles/defaultTheme' {\n  interface DefaultTheme extends Theme { }\n}\n\ninterface GlobalContextProps {\n  children: ReactChild | ReactChildren;\n}\nexport default function GlobalContext(props: GlobalContextProps): React.ReactElement {\n  return (\n    <CookiesProvider>\n      <StyledEngineProvider injectFirst>\n        <ThemeProvider theme={theme}>\n          <DemoProvider>\n            <AuthProvider>\n              {props.children}\n            </AuthProvider>\n          </DemoProvider>\n        </ThemeProvider>\n      </StyledEngineProvider>\n    </CookiesProvider>\n  );\n}","import ReactDOM from 'react-dom';\nimport App from './components/app/App';\nimport '@fontsource/roboto';\nimport GlobalContext from './contexts/GlobalContext';\n\nReactDOM.render(\n  // <React.StrictMode>\n  <GlobalContext>\n    <App />\n  </GlobalContext>\n  //   </React.StrictMode>\n  ,\n  document.getElementById('root')\n);"],"sourceRoot":""}